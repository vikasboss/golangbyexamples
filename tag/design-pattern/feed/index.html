<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>design pattern Archives - Welcome To Golang By Example</title>
	<atom:link href="https://golangbyexamples.com/tag/design-pattern/feed/" rel="self" type="application/rss+xml" />
	<link>https://golangbyexamples.com/tag/design-pattern/</link>
	<description></description>
	<lastBuildDate>Thu, 29 Apr 2021 17:21:51 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.8.1</generator>

<image>
	<url>https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=32%2C32&#038;ssl=1</url>
	<title>design pattern Archives - Welcome To Golang By Example</title>
	<link>https://golangbyexamples.com/tag/design-pattern/</link>
	<width>32</width>
	<height>32</height>
</image> 
<site xmlns="com-wordpress:feed-additions:1">159787465</site>	<item>
		<title>Mediator Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/mediator-design-pattern-golang/</link>
					<comments>https://golangbyexamples.com/mediator-design-pattern-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Thu, 28 Nov 2019 20:01:50 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[mediator]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=680</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Introduction: Mediator design pattern is a...</p>
<p>The post <a href="https://golangbyexamples.com/mediator-design-pattern-golang/">Mediator Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Introduction:</strong></h2>



<p class="has-medium-font-size">Mediator design pattern is a behavioral design pattern. This pattern suggests creating a mediator object to prevent direct communication among objects so that direct dependencies between them is avoided.</p>



<p class="has-medium-font-size">One very good example of a mediator patter is the railway system platform.&nbsp; Two trains never communicate between themselves for the availability of the platform. The <strong>stationManager</strong> acts as a mediator and makes the platform available to only one of the trains. The train connects with <strong>stationManager</strong> and acts accordingly. It maintains a queue of waiting trains. In case of any train leaving a platform, it notifies one of the train to arrive on the platform next.</p>



<p class="has-medium-font-size">Notice how <strong>stationManger</strong> acts as a mediator between the <strong>trains</strong> and the <strong>platform</strong> in the code below.</p>



<ul class="has-medium-font-size wp-block-list"><li>passengerTrain and goodsTrain implement the train interface.</li><li>stationManger implements the mediator interface.</li></ul>



<p></p>



<h2 class="wp-block-heading"><strong>Practical Example</strong></h2>



<p class="has-medium-font-size"><strong>train.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type train interface {
    requestArrival()
    departure()
    permitArrival()
}</code></pre>



<p class="has-medium-font-size"><strong>passengerTrain.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type passengerTrain struct {
    mediator mediator
}

func (g *passengerTrain) requestArrival() {
    if g.mediator.canLand(g) {
        fmt.Println("PassengerTrain: Landing")
    } else {
        fmt.Println("PassengerTrain: Waiting")
    }
}

func (g *passengerTrain) departure() {
    fmt.Println("PassengerTrain: Leaving")
    g.mediator.notifyFree()
}

func (g *passengerTrain) permitArrival() {
    fmt.Println("PassengerTrain: Arrival Permitted. Landing")
}</code></pre>



<p class="has-medium-font-size"><strong>goodsTrain.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type goodsTrain struct {
    mediator mediator
}

func (g *goodsTrain) requestArrival() {
    if g.mediator.canLand(g) {
        fmt.Println("GoodsTrain: Landing")
    } else {
        fmt.Println("GoodsTrain: Waiting")
    }
}

func (g *goodsTrain) departure() {
    g.mediator.notifyFree()
    fmt.Println("GoodsTrain: Leaving")
}

func (g *goodsTrain) permitArrival() {
    fmt.Println("GoodsTrain: Arrival Permitted. Landing")
}</code></pre>



<p class="has-medium-font-size"><strong>mediator.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type mediator interface {
    canLand(train) bool
    notifyFree()
}</code></pre>



<p class="has-medium-font-size"><strong>stationManager.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "sync"

type stationManager struct {
    isPlatformFree bool
    lock           *sync.Mutex
    trainQueue     []train
}

func newStationManger() *stationManager {
    return &stationManager{
        isPlatformFree: true,
        lock:           &sync.Mutex{},
    }
}

func (s *stationManager) canLand(t train) bool {
    s.lock.Lock()
    defer s.lock.Unlock()
    if s.isPlatformFree {
        s.isPlatformFree = false
        return true
    }
    s.trainQueue = append(s.trainQueue, t)
    return false
}

func (s *stationManager) notifyFree() {
    s.lock.Lock()
    defer s.lock.Unlock()
    if !s.isPlatformFree {
        s.isPlatformFree = true
    }
    if len(s.trainQueue) > 0 {
        firstTrainInQueue := s.trainQueue[0]
        s.trainQueue = s.trainQueue[1:]
        firstTrainInQueue.permitArrival()
    }
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

func main() {
    stationManager := newStationManger()
    passengerTrain := &passengerTrain{
        mediator: stationManager,
    }
    goodsTrain := &goodsTrain{
        mediator: stationManager,
    }
    passengerTrain.requestArrival()
    goodsTrain.requestArrival()
    passengerTrain.departure()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">PassengerTrain: Landing
GoodsTrain: Waiting
PassengerTrain: Leaving
GoodsTrain: Arrival Permitted. Landing</code></pre>



<p></p>



<h2 class="wp-block-heading"><strong>Full Working Code:</strong></h2>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import (
    "fmt"
    "sync"
)

type train interface {
    requestArrival()
    departure()
    permitArrival()
}

type passengerTrain struct {
    mediator mediator
}

func (g *passengerTrain) requestArrival() {
    if g.mediator.canLand(g) {
        fmt.Println("PassengerTrain: Landing")
    } else {
        fmt.Println("PassengerTrain: Waiting")
    }
}

func (g *passengerTrain) departure() {
    fmt.Println("PassengerTrain: Leaving")
    g.mediator.notifyFree()
}

func (g *passengerTrain) permitArrival() {
    fmt.Println("PassengerTrain: Arrival Permitted. Landing")
}

type goodsTrain struct {
    mediator mediator
}

func (g *goodsTrain) requestArrival() {
    if g.mediator.canLand(g) {
        fmt.Println("GoodsTrain: Landing")
    } else {
        fmt.Println("GoodsTrain: Waiting")
    }
}

func (g *goodsTrain) departure() {
    g.mediator.notifyFree()
    fmt.Println("GoodsTrain: Leaving")
}

func (g *goodsTrain) permitArrival() {
    fmt.Println("GoodsTrain: Arrival Permitted. Landing")
}

type mediator interface {
    canLand(train) bool
    notifyFree()
}

type stationManager struct {
    isPlatformFree bool
    lock           *sync.Mutex
    trainQueue     []train
}

func newStationManger() *stationManager {
    return &stationManager{
        isPlatformFree: true,
        lock:           &sync.Mutex{},
    }
}

func (s *stationManager) canLand(t train) bool {
    s.lock.Lock()
    defer s.lock.Unlock()
    if s.isPlatformFree {
        s.isPlatformFree = false
        return true
    }
    s.trainQueue = append(s.trainQueue, t)
    return false
}

func (s *stationManager) notifyFree() {
    s.lock.Lock()
    defer s.lock.Unlock()
    if !s.isPlatformFree {
        s.isPlatformFree = true
    }
    if len(s.trainQueue) > 0 {
        firstTrainInQueue := s.trainQueue[0]
        s.trainQueue = s.trainQueue[1:]
        firstTrainInQueue.permitArrival()
    }
}

func main() {
    stationManager := newStationManger()
    passengerTrain := &passengerTrain{
        mediator: stationManager,
    }
    goodsTrain := &goodsTrain{
        mediator: stationManager,
    }
    passengerTrain.requestArrival()
    goodsTrain.requestArrival()
    passengerTrain.departure()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">PassengerTrain: Landing
GoodsTrain: Waiting
PassengerTrain: Leaving
GoodsTrain: Arrival Permitted. Landing</code></pre>
<p>The post <a href="https://golangbyexamples.com/mediator-design-pattern-golang/">Mediator Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/mediator-design-pattern-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">680</post-id>	</item>
		<item>
		<title>Bridge Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/bridge-design-pattern-in-go/</link>
					<comments>https://golangbyexamples.com/bridge-design-pattern-in-go/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Sat, 16 Nov 2019 17:42:45 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[bridge design pattern]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=603</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Introduction: Bridge design pattern is a...</p>
<p>The post <a href="https://golangbyexamples.com/bridge-design-pattern-in-go/">Bridge Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Introduction:</strong></h2>



<p class="has-medium-font-size">Bridge design pattern is a structural design pattern that allows the separation of abstraction from its implementation. Sounds confusing?  Don&#8217;t worry, it will be more clear as we go along.</p>



<p class="has-medium-font-size">This pattern suggests dividing a large class into two separate hierarchy</p>



<ul class="has-medium-font-size wp-block-list"><li>Abstraction &#8211; It is an interface and children of the <strong>Abstraction</strong> are referred to as <strong>Refined Abstraction. </strong>The abstraction contains a reference to the implementation.</li><li>Implementation &#8211; It is also an interface and children&#8217;s of the <strong>Implementation</strong> are referred to as <strong>Concrete Implementation</strong></li></ul>



<p class="has-medium-font-size">Abstraction hierarchy is being referred to by clients without worrying about the implementation. Let&#8217;s take an example. Assume you have two types of computer <strong>mac</strong> and <strong>windows. </strong>Also, let&#8217;s say two types of printer <strong>epson</strong> and <strong>hp</strong> . Both computers and printers needs to work with each other in any combination.&nbsp; The client will only access the computer without worrying about how print is happening. Instead of creating four structs for the 2*2 combination, we create two hierarchies</p>



<ul class="has-medium-font-size wp-block-list"><li>Abstraction Hierarchy</li><li>Implementation Hierarchy</li></ul>



<p class="has-medium-font-size">See the below figure. These two hierarchies communicate with each other via a bridge where <strong>Abstraction</strong> (computer here) contains a reference to the <strong>Implementation</strong>(printer here). Both the abstraction and implementation can continue to develop independently without affecting each other.&nbsp; Notice how <strong>win</strong> and <strong>mac</strong> embed the reference to <strong>printer</strong>. We can change the <strong>Abstraction&#8217;sImplementation</strong> (i.e., computer&#8217;s printer) at run time as abstraction refers to implementation via the interface. On calling <strong>mac.print() or windows.print()</strong> it dispatches the request to <strong>printer.printFile()</strong>. This acts as a bridge and provides a loose coupling between the two.</p>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img fetchpriority="high" decoding="async" width="640" height="344" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-2.jpg?resize=640%2C344&#038;ssl=1" alt="" data-id="625" data-full-url="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-2.jpg?fit=821%2C441&amp;ssl=1" data-link="https://golangbyexamples.com/bridge-design-pattern-in-go/bridge-design-pattern-2/" class="wp-image-625" srcset="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-2.jpg?w=821&amp;ssl=1 821w, https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-2.jpg?resize=300%2C161&amp;ssl=1 300w, https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-2.jpg?resize=768%2C413&amp;ssl=1 768w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></li></ul></figure>



<h2 class="wp-block-heading"><strong>UML Diagram:</strong></h2>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-2 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img decoding="async" width="640" height="407" src="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-1.jpg?resize=640%2C407&#038;ssl=1" alt="" data-id="624" data-full-url="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-1.jpg?fit=803%2C511&amp;ssl=1" data-link="https://golangbyexamples.com/bridge-design-pattern-in-go/bridge-design-pattern-1/" class="wp-image-624" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-1.jpg?w=803&amp;ssl=1 803w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-1.jpg?resize=300%2C191&amp;ssl=1 300w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Bridge-Design-Pattern-1.jpg?resize=768%2C489&amp;ssl=1 768w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></li></ul></figure>



<p></p>



<h2 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h2>



<p class="has-medium-font-size">The below table represents the mapping from the UML diagram actors to actual implementation actors in <strong>&#8220;Practical Example&#8221;</strong> below<br></p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Abstraction</td><td>computer.go</td></tr><tr><td>Refined Abstraction 1</td><td>win.go</td></tr><tr><td>Refined Abstraction 2</td><td>mac.go</td></tr><tr><td>Implementation</td><td>printer.go</td></tr><tr><td>Concrete Implementation 1</td><td>epson.go</td></tr><tr><td>Concrete Implementation 2</td><td>hp.go</td></tr><tr><td>Client</td><td>main.go</td></tr></tbody></table></figure>



<p></p>



<h2 class="wp-block-heading"><strong>Practical Example</strong></h2>



<p class="has-medium-font-size"><strong>computer.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type computer interface {
    print()
    setPrinter(printer)
}</code></pre>



<p class="has-medium-font-size"><strong>mac.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type mac struct {
    printer printer
}

func (m *mac) print() {
    fmt.Println("Print request for mac")
    m.printer.printFile()
}

func (m *mac) setPrinter(p printer) {
    m.printer = p
}</code></pre>



<p class="has-medium-font-size"><strong>windows.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type windows struct {
    printer printer
}

func (w *windows) print() {
    fmt.Println("Print request for windows")
    w.printer.printFile()
}

func (w *windows) setPrinter(p printer) {
    w.printer = p
}</code></pre>



<p class="has-medium-font-size"><strong>printer.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type printer interface {
    printFile()
}</code></pre>



<p class="has-medium-font-size"><strong>epson.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type epson struct {
}

func (p *epson) printFile() {
    fmt.Println("Printing by a EPSON Printer")
}</code></pre>



<p class="has-medium-font-size"><strong>hp.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type hp struct {
}

func (p *hp) printFile() {
    fmt.Println("Printing by a HP Printer")
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

func main() {
    hpPrinter := &hp{}
    epsonPrinter := &epson{}
    macComputer := &mac{}
    macComputer.setPrinter(hpPrinter)
    macComputer.print()
    fmt.Println()
    macComputer.setPrinter(epsonPrinter)
    macComputer.print()
    fmt.Println()
    winComputer := &windows{}
    winComputer.setPrinter(hpPrinter)
    winComputer.print()
    fmt.Println()
    winComputer.setPrinter(epsonPrinter)
    winComputer.print()
    fmt.Println()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Print request for mac
Printing by a HP Printer

Print request for mac
Printing by a EPSON Printer

Print request for windows
Printing by a HP Printer

Print request for windows</code></pre>



<p></p>



<h2 class="wp-block-heading"><strong>Full Working Code:</strong></h2>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type computer interface {
    print()
    setPrinter(printer)
}

type mac struct {
    printer printer
}

func (m *mac) print() {
    fmt.Println("Print request for mac")
    m.printer.printFile()
}

func (m *mac) setPrinter(p printer) {
    m.printer = p
}

type windows struct {
    printer printer
}

func (w *windows) print() {
    fmt.Println("Print request for windows")
    w.printer.printFile()
}

func (w *windows) setPrinter(p printer) {
    w.printer = p
}

type printer interface {
    printFile()
}

type epson struct {
}

func (p *epson) printFile() {
    fmt.Println("Printing by a EPSON Printer")
}

type hp struct {
}

func (p *hp) printFile() {
    fmt.Println("Printing by a HP Printer")
}

func main() {
    hpPrinter := &hp{}
    epsonPrinter := &epson{}
    macComputer := &mac{}
    macComputer.setPrinter(hpPrinter)
    macComputer.print()
    fmt.Println()
    macComputer.setPrinter(epsonPrinter)
    macComputer.print()
    fmt.Println()
    winComputer := &windows{}
    winComputer.setPrinter(hpPrinter)
    winComputer.print()
    fmt.Println()
    winComputer.setPrinter(epsonPrinter)
    winComputer.print()
    fmt.Println()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Print request for mac
Printing by a HP Printer

Print request for mac
Printing by a EPSON Printer

Print request for windows
Printing by a HP Printer

Print request for windows</code></pre>
<p>The post <a href="https://golangbyexamples.com/bridge-design-pattern-in-go/">Bridge Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/bridge-design-pattern-in-go/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">603</post-id>	</item>
		<item>
		<title>Proxy Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/proxy-design-pattern-in-golang/</link>
					<comments>https://golangbyexamples.com/proxy-design-pattern-in-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Sat, 16 Nov 2019 17:29:05 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<category><![CDATA[proxy design pattern]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=599</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Introduction:&#160; Proxy Design Pattern is a...</p>
<p>The post <a href="https://golangbyexamples.com/proxy-design-pattern-in-golang/">Proxy Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Introduction:&nbsp;</strong></h2>



<p class="has-medium-font-size">Proxy Design Pattern is a structural design pattern. This pattern suggests providing an extra layer of indirection for controlled and intelligent access to the main object.</p>



<p class="has-medium-font-size"><br>In this pattern, a new proxy class is created that implements the same interface as the main object. This lets you execute some behavior before the actual logic of the main object. Let&#8217;s understand it more with an example<br></p>



<ol class="has-medium-font-size wp-block-list"><li>A debit card is a proxy for your bank account. It follows the same interface as the bank account, and it is easier to use.</li><li>A web server such as Nginx can act as a proxy for your application server. It provides<ul><li>Controlled access to your application server &#8211; For example, it can do rate limiting</li><li>Additional behavior &#8211; For example, it can do some caching</li></ul></li></ol>



<p class="has-medium-font-size">Let&#8217;ss see the UML Diagram</p>



<h2 class="wp-block-heading"><strong>UML Diagram:</strong></h2>



<p class="has-medium-font-size">In below UML diagram</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>Subject: </strong>it represents the interface which proxy and the realSubject should follow</li><li><strong>Proxy</strong>: The proxy class embeds the realSubject and passes on the request to the realSubject after it has finished its processing </li><li><strong>RealSubject</strong>: This is the class that holds the main business logic and which is kept behind a proxy</li><li><strong>Client: </strong>Can interact with both proxy and realSubject as they both follow the same interface.</li></ul>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-3 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img decoding="async" width="535" height="253" src="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-1.jpg?resize=535%2C253&#038;ssl=1" alt="" data-id="643" data-full-url="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-1.jpg?fit=535%2C253&amp;ssl=1" data-link="https://golangbyexamples.com/proxy-design-pattern-in-golang/proxy-design-pattern-1/" class="wp-image-643" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-1.jpg?w=535&amp;ssl=1 535w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-1.jpg?resize=300%2C142&amp;ssl=1 300w" sizes="(max-width: 535px) 100vw, 535px" data-recalc-dims="1" /></figure></li></ul></figure>



<p class="has-medium-font-size">Below is the corresponding mapping UML diagram with the practical example of nginx and application server which was described above.</p>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-4 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" decoding="async" width="535" height="253" src="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-2.jpg?resize=535%2C253&#038;ssl=1" alt="" data-id="644" data-full-url="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-2.jpg?fit=535%2C253&amp;ssl=1" data-link="https://golangbyexamples.com/proxy-design-pattern-in-golang/proxy-design-pattern-2/" class="wp-image-644" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-2.jpg?w=535&amp;ssl=1 535w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Proxy-Design-Pattern-2.jpg?resize=300%2C142&amp;ssl=1 300w" sizes="auto, (max-width: 535px) 100vw, 535px" data-recalc-dims="1" /></figure></li></ul></figure>



<h2 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h2>



<p class="has-medium-font-size"><br>The below table represents the mapping from the UML diagram actors to actual implementation actors in code<br></p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>subject</td><td>server.go</td></tr><tr><td>proxy</td><td>nginx.go</td></tr><tr><td>realSubject</td><td>application.go</td></tr><tr><td>client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example:</strong></h2>



<p class="has-medium-font-size"><strong>server.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type server interface {
    handleRequest(string, string) (int, string)
}</code></pre>



<p class="has-medium-font-size"><strong>nginx.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type nginx struct {
    application       *application
    maxAllowedRequest int
    rateLimiter       map[string]int
}

func newNginxServer() *nginx {
    return &nginx{
        application:       &application{},
        maxAllowedRequest: 2,
        rateLimiter:       make(map[string]int),
    }
}

func (n *nginx) handleRequest(url, method string) (int, string) {
    allowed := n.checkRateLimiting(url)
    if !allowed {
        return 403, "Not Allowed"
    }
    return n.application.handleRequest(url, method)
}

func (n *nginx) checkRateLimiting(url string) bool {
    if n.rateLimiter[url] == 0 {
        n.rateLimiter[url] = 1
    }
    if n.rateLimiter[url] > n.maxAllowedRequest {
        return false
    }
    n.rateLimiter[url] = n.rateLimiter[url] + 1
    return true
}</code></pre>



<p class="has-medium-font-size"><strong>application.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type application struct {
}

func (a *application) handleRequest(url, method string) (int, string) {
    if url == "/app/status" && method == "GET" {
        return 200, "Ok"
    }
    if url == "/create/user" && method == "POST" {
        return 201, "User Created"
    }
    return 404, "Not Ok"
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

func main() {
    nginxServer := newNginxServer()
    appStatusURL := "/app/status"
    createuserURL := "/create/user"
    httpCode, body := nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(createuserURL, "POST")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(createuserURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Url: /app/status
HttpCode: 200
Body: Ok

Url: /app/status
HttpCode: 200
Body: Ok

Url: /app/status
HttpCode: 403
Body: Not Allowed

Url: /app/status
HttpCode: 201
Body: User Created

Url: /app/status
HttpCode: 404
Body: Not Ok</code></pre>



<h2 class="wp-block-heading"><strong>Full Working Code:</strong></h2>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type server interface {
    handleRequest(string, string) (int, string)
}

type nginx struct {
    application       *application
    maxAllowedRequest int
    rateLimiter       map[string]int
}

func newNginxServer() *nginx {
    return &nginx{
        application:       &application{},
        maxAllowedRequest: 2,
        rateLimiter:       make(map[string]int),
    }
}

func (n *nginx) handleRequest(url, method string) (int, string) {
    allowed := n.checkRateLimiting(url)
    if !allowed {
        return 403, "Not Allowed"
    }
    return n.application.handleRequest(url, method)
}

func (n *nginx) checkRateLimiting(url string) bool {
    if n.rateLimiter[url] == 0 {
        n.rateLimiter[url] = 1
    }
    if n.rateLimiter[url] > n.maxAllowedRequest {
        return false
    }
    n.rateLimiter[url] = n.rateLimiter[url] + 1
    return true
}

type application struct {
}

func (a *application) handleRequest(url, method string) (int, string) {
    if url == "/app/status" && method == "GET" {
        return 200, "Ok"
    }
    if url == "/create/user" && method == "POST" {
        return 201, "User Created"
    }
    return 404, "Not Ok"
}

func main() {
    nginxServer := newNginxServer()
    appStatusURL := "/app/status"
    createuserURL := "/create/user"
    httpCode, body := nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(appStatusURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(createuserURL, "POST")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
    httpCode, body = nginxServer.handleRequest(createuserURL, "GET")
    fmt.Printf("\nUrl: %s\nHttpCode: %d\nBody: %s\n", appStatusURL, httpCode, body)
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Url: /app/status
HttpCode: 200
Body: Ok

Url: /app/status
HttpCode: 200
Body: Ok

Url: /app/status
HttpCode: 403
Body: Not Allowed

Url: /app/status
HttpCode: 201
Body: User Created

Url: /app/status
HttpCode: 404
Body: Not Ok</code></pre>
<p>The post <a href="https://golangbyexamples.com/proxy-design-pattern-in-golang/">Proxy Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/proxy-design-pattern-in-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">599</post-id>	</item>
		<item>
		<title>Command Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/command-design-pattern-in-golang/</link>
					<comments>https://golangbyexamples.com/command-design-pattern-in-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Sat, 16 Nov 2019 17:20:56 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[command design pattern in go]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=594</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; https://golangbyexamples.com/all-design-patterns-golang/ Introduction: Command Design Pattern is a behavioral design pattern. It suggests...</p>
<p>The post <a href="https://golangbyexamples.com/command-design-pattern-in-golang/">Command Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/https://golangbyexamples.com/all-design-patterns-golan">https://golangbyexamples.com/all-design-patterns-golang/</a></p>



<h2 class="wp-block-heading"><strong>Introduction:</strong></h2>



<p class="has-medium-font-size">Command Design Pattern is a behavioral design pattern. It suggests encapsulating the request as a standalone object. The created object has all the information about the request and thus can execute it independently.<br></p>



<p class="has-medium-font-size">The basic components that are used in the command design pattern are:</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>Receiver</strong> &#8211; It is the class which contains the business logic. The command object only delays its requests to the receiver.</li><li><strong>Command</strong> &#8211; embeds receiver and binds a particular action of the receiver.</li><li><strong>Invoker</strong> &#8211; It embeds the command and envokes the command by calling the command&#8217;s execute method.</li><li><strong>Client</strong> &#8211; It creates the command with the appropriate receiver bypassing the receiver to the command&#8217;s constructor. After that, it also associates the resulting command with an invoker.</li></ul>



<p class="has-medium-font-size">Let&#8217;s understand a situation after which it will be clear why the command pattern is useful.&nbsp; Imagine the case of a TV. A TV can be turned <strong>ON</strong> by either</p>



<ol class="has-medium-font-size wp-block-list"><li>Remote ON Button</li><li>On Button on the tv.</li></ol>



<p class="has-medium-font-size">Both these trigger points do the same thing i.e. turn the TV on. In order to ON the TV, we can implement the ON command object with the receiver as the TV. When execute() method is called on this ON command object, it in turn call TV.on() function. So in this case:</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>Receiver </strong>is the <strong>TV</strong></li><li><strong>Command </strong>is the <strong>ON command object </strong>which embeds <strong>TV</strong></li><li><strong>Invoker</strong> is the <strong>Remote ON Button</strong> or the <strong>ON Button on the TV</strong>. Both embed the <strong>ON command object</strong></li></ul>



<p class="has-medium-font-size">Notice here that we have wrapped the request of turning the <strong>TV</strong> on into an <strong>ON command object </strong>which can be invoked by multiple invokers. This ON command object embeds the receiver (TV here) and can be executed independently.</p>



<p class="has-medium-font-size">As another example, imagine the case of an <strong>Adobe Photoshop</strong> Application. In Photoshop a Save operation can be triggered from 3 places</p>



<ol class="has-medium-font-size wp-block-list"><li>From the menu.</li><li>From the button on the upper bar.</li><li>Using shortcut Ctrl+S.</li></ol>



<p class="has-medium-font-size">All three trigger points do the same thing, i.e save the current image in the application. This saves can be wrapped into a Save Command Object with a current image open in the application as the receiver. </p>



<p class="has-medium-font-size"><br>What&#8217;s the benefit of creating a separate command object in the above examples.</p>



<ol class="has-medium-font-size wp-block-list"><li>It decouples the UI logic from underlying business logic</li><li>No need to create different handlers for each of the invokers.</li><li>The command object contains all the information it needs to execute. Hence it can also be used for delayed execution.</li></ol>



<p class="has-medium-font-size">Let&#8217;s look at the UML diagram now.</p>



<h2 class="wp-block-heading"><strong>UML Diagram:</strong></h2>



<ul class="has-medium-font-size wp-block-list"><li>Notice how Invoker embeds the command. The request is sent to the Invoker and it passes the request to the encapsulated command object.</li><li>All the Concrete Command Object embed the receiver</li></ul>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-5 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" decoding="async" width="640" height="362" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Command-Design-Pattern.jpg?resize=640%2C362&#038;ssl=1" alt="" data-id="632" data-full-url="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Command-Design-Pattern.jpg?fit=770%2C436&amp;ssl=1" data-link="https://golangbyexamples.com/command-design-pattern-in-golang/command-design-pattern/" class="wp-image-632" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Command-Design-Pattern.jpg?w=770&amp;ssl=1 770w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Command-Design-Pattern.jpg?resize=300%2C170&amp;ssl=1 300w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Command-Design-Pattern.jpg?resize=768%2C435&amp;ssl=1 768w" sizes="auto, (max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></li></ul></figure>



<p></p>



<h2 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h2>



<p class="has-medium-font-size"><br>The below table represents the mapping from the UML diagram actors to actual implementation actors in <strong>&#8220;Practical Example&#8221;</strong> below<br></p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Invoker</td><td>button.go</td></tr><tr><td>Command Interface</td><td>command.go</td></tr><tr><td>Concrete Command 1</td><td>onCommand.go</td></tr><tr><td>Concrete Command 2</td><td>offCommand.go</td></tr><tr><td>Receiver Interface</td><td>device.go</td></tr><tr><td>Concrete Receiver</td><td>tv.go</td></tr><tr><td>Client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example:</strong></h2>



<p class="has-medium-font-size"><strong>button.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type button struct {
    command command
}

func (b *button) press() {
    b.command.execute()
}</code></pre>



<p class="has-medium-font-size"><strong>command.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type command interface {
    execute()
}</code></pre>



<p class="has-medium-font-size"><strong>onCommand.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type onCommand struct {
    device device
}

func (c *onCommand) execute() {
    c.device.on()
}</code></pre>



<p class="has-medium-font-size"><strong>offCommand.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type offCommand struct {
    device device
}

func (c *offCommand) execute() {
    c.device.off()
}</code></pre>



<p class="has-medium-font-size"><strong>device.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type device interface {
    on()
    off()
}</code></pre>



<p class="has-medium-font-size"><strong>tv.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type tv struct {
    isRunning bool
}

func (t *tv) on() {
    t.isRunning = true
    fmt.Println("Turning tv on")
}

func (t *tv) off() {
    t.isRunning = false
    fmt.Println("Turning tv off")
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

func main() {
    tv := &tv{}
    onCommand := &onCommand{
        device: tv,
    }
    offCommand := &offCommand{
        device: tv,
    }
    onButton := &button{
        command: onCommand,
    }
    onButton.press()
    offButton := &button{
        command: offCommand,
    }
    offButton.press()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Turning tv on
Turning tv off</code></pre>



<h2 class="wp-block-heading"><strong>Full Working Code:</strong></h2>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type button struct {
    command command
}

func (b *button) press() {
    b.command.execute()
}

type command interface {
    execute()
}

type offCommand struct {
    device device
}

func (c *offCommand) execute() {
    c.device.off()
}

type onCommand struct {
    device device
}

func (c *onCommand) execute() {
    c.device.on()
}

type device interface {
    on()
    off()
}

type tv struct {
    isRunning bool
}

func (t *tv) on() {
    t.isRunning = true
    fmt.Println("Turning tv on")
}

func (t *tv) off() {
    t.isRunning = false
    fmt.Println("Turning tv off")
}

func main() {
    tv := &tv{}
    onCommand := &onCommand{
        device: tv,
    }
    offCommand := &offCommand{
        device: tv,
    }
    onButton := &button{
        command: onCommand,
    }
    onButton.press()
    offButton := &button{
        command: offCommand,
    }
    offButton.press()
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Turning tv on
Turning tv off</code></pre>
<p>The post <a href="https://golangbyexamples.com/command-design-pattern-in-golang/">Command Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/command-design-pattern-in-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">594</post-id>	</item>
		<item>
		<title>Strategy Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/strategy-design-pattern-golang/</link>
					<comments>https://golangbyexamples.com/strategy-design-pattern-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Wed, 13 Nov 2019 19:57:19 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<category><![CDATA[strategy design pattern]]></category>
		<category><![CDATA[strategy design pattern in golang]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=562</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Definition:&#160; Strategy design pattern is a...</p>
<p>The post <a href="https://golangbyexamples.com/strategy-design-pattern-golang/">Strategy Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Definition:&nbsp; </strong></h2>



<p class="has-medium-font-size">Strategy design pattern is a behavioral design pattern. This design pattern allows you to change the behavior of an object at run time without any change in the class of that object.</p>



<p class="has-medium-font-size">Let&#8217;s understand the strategy pattern with an example. Suppose you are building an In-Memory-Cache. Since it is an In-Memory-Cache it is of limited size. Whenever it reaches its maximum size that some old entries from the cache need to be evicted. This eviction can happen via several algorithms. Some of the popular algorithms are</p>



<ol class="has-medium-font-size wp-block-list"><li><strong>LRU</strong> &#8211; Least Recently Used: Remove the entry which has been used least recently.</li><li><strong>FIFO</strong> &#8211; First In First Out: Remove the entry, which was created first.</li><li><strong>LFU</strong> &#8211; Least Frequently Used: Remove the entry which was least frequently used.</li></ol>



<p class="has-medium-font-size">Now the problem is how to decouple our Cache class with the algorithm such that we should be able to change the algorithm at run time. Also Cache class should not change when a new algorithm is being added. This is were Strategy Pattern comes into the picture. The strategy pattern suggests creating a family of the algorithm with each algorithm having its own class. Each of these classes follows the same interface and this makes the algorithm interchangeable within the family. Let&#8217;s say the common interface name is <strong>evictionAlgo</strong>.</p>



<p class="has-medium-font-size">Now our main <strong>Cache </strong>class will embed <strong>evictionAlgo</strong> interface. Instead of implementing all types of eviction algorithms in itself, our Cache class will delegate all it to the <strong>evictionAlgo</strong> interface. Since evictionAlgo is an interface, we can run time change the algorithm to either be LRU, FIFO, LFU without any change in Cache class.</p>



<h2 class="wp-block-heading"><strong>When to Use</strong></h2>



<ul class="has-medium-font-size wp-block-list"><li>When an object needs to support different behavior and you want to change the behavior at run time.</li><li>When you want to avoid a lot of conditionals of choosing the runtime behavior.</li><li>When you have different algorithms that are similar and they only differ in the way they execute some behavior.</li></ul>



<h2 class="wp-block-heading"><strong>UML Diagram</strong></h2>



<p class="has-medium-font-size">Notice below UML diagram, Context (Cache) embeds the strategy (evictionAlgo) interface. </p>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-6 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" decoding="async" width="640" height="372" src="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-1.jpg?resize=640%2C372&#038;ssl=1" alt="" data-id="635" data-full-url="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-1.jpg?fit=676%2C393&amp;ssl=1" data-link="https://golangbyexamples.com/strategy-design-pattern-golang/strategy-design-pattern-1/" class="wp-image-635" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-1.jpg?w=676&amp;ssl=1 676w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-1.jpg?resize=300%2C174&amp;ssl=1 300w" sizes="auto, (max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></li></ul></figure>



<p></p>



<p class="has-medium-font-size">Below is the corresponding mapping UML diagram with the example given above</p>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-7 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" decoding="async" width="640" height="360" src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-2.jpg?resize=640%2C360&#038;ssl=1" alt="" data-id="636" data-full-url="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-2.jpg?fit=716%2C403&amp;ssl=1" data-link="https://golangbyexamples.com/strategy-design-pattern-golang/strategy-design-pattern-2/" class="wp-image-636" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-2.jpg?w=716&amp;ssl=1 716w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Strategy-Design-Pattern-2.jpg?resize=300%2C169&amp;ssl=1 300w" sizes="auto, (max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></li></ul></figure>



<h2 class="wp-block-heading"><strong>Mapping</strong></h2>



<p class="has-medium-font-size">The below table represents the mapping from the UML diagram actors to actual implementation actors in code.</p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Context</td><td>cache.go</td></tr><tr><td>Strategy</td><td>evictionAlgo.go</td></tr><tr><td>Concrete Strategy Object 1</td><td>lfu.go</td></tr><tr><td>Concrete Strategy Object 2</td><td>lru.go</td></tr><tr><td>Concrete Strategy Object 3</td><td>fifo.go</td></tr><tr><td>Client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example </strong></h2>



<p class="has-medium-font-size"><strong>evictionAlgo.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type evictionAlgo interface {
    evict(c *cache)
}</code></pre>



<p class="has-medium-font-size"><strong>fifo.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type fifo struct {
}

func (l *fifo) evict(c *cache) {
    fmt.Println("Evicting by fifo strtegy")
}</code></pre>



<p class="has-medium-font-size"><strong>lru.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type lru struct {
}

func (l *lru) evict(c *cache) {
    fmt.Println("Evicting by lru strtegy")
}</code></pre>



<p class="has-medium-font-size"><strong>lfu.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type lfu struct {
}

func (l *lfu) evict(c *cache) {
    fmt.Println("Evicting by lfu strtegy")
}</code></pre>



<p class="has-medium-font-size"><strong>cache.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type cache struct {
    storage      map[string]string
    evictionAlgo evictionAlgo
    capacity     int
    maxCapacity  int
}

func initCache(e evictionAlgo) *cache {
    storage := make(map[string]string)
    return &cache{
        storage:      storage,
        evictionAlgo: e,
        capacity:     0,
        maxCapacity:  2,
    }
}

func (c *cache) setEvictionAlgo(e evictionAlgo) {
    c.evictionAlgo = e
}

func (c *cache) add(key, value string) {
    if c.capacity == c.maxCapacity {
        c.evict()
    }
    c.capacity++
    c.storage[key] = value
}

func (c *cache) get(key string) {
    delete(c.storage, key)
}

func (c *cache) evict() {
    c.evictionAlgo.evict(c)
    c.capacity--
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

func main() {
    lfu := &lfu{}
    cache := initCache(lfu)
    cache.add("a", "1")
    cache.add("b", "2")
    cache.add("c", "3")
    lru := &lru{}
    cache.setEvictionAlgo(lru)
    cache.add("d", "4")
    fifo := &fifo{}
    cache.setEvictionAlgo(fifo)
    cache.add("e", "5")
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Evicting by lfu strtegy
Evicting by lru strtegy
Evicting by fifo strtegy</code></pre>



<p></p>



<p></p>
<p>The post <a href="https://golangbyexamples.com/strategy-design-pattern-golang/">Strategy Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/strategy-design-pattern-golang/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">562</post-id>	</item>
		<item>
		<title>Flyweight Design Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/flyweight-design-pattern-golang/</link>
					<comments>https://golangbyexamples.com/flyweight-design-pattern-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Sat, 09 Nov 2019 08:58:12 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[flyweight design pattern]]></category>
		<category><![CDATA[go]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=361</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Definition:&#160; It is a structural design...</p>
<p>The post <a href="https://golangbyexamples.com/flyweight-design-pattern-golang/">Flyweight Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="has-text-align-left wp-block-heading"><strong>Definition:&nbsp; </strong></h2>



<p class="has-medium-font-size">It is a structural design pattern. This pattern is used when a large number of similar objects need to be created. These objects are called flyweight objects and are immutable. </p>



<p class="has-medium-font-size">Let&#8217;s first see an example. Flyweight Pattern will be clear after this example.</p>



<p class="has-medium-font-size">In a game of Counter-Strike, Terrorist and Counter-Terrorist have a different type of dress. For simplicity, let&#8217;s assume that both Terrorist and Counter-Terrorists have one dress type each. The dress object is embedded in the player object as below</p>



<p class="has-medium-font-size">Below is the struct for a player, we can see the dress object is embedded in player struct</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">type player struct {
    dress      dress
    playerType string //Can be T or CT
    lat        int
    long       int
}</code></pre>



<p class="has-medium-font-size">Let&#8217;s say there are 5 Terrorists and 5 Counter-Terrorist, so a total of 10 players. Now there are two options with respect to dress</p>



<ol class="has-medium-font-size wp-block-list"><li> Each of the 10 player objects creates a different dress object and embed them. Total 10 dress objects will be created</li><li>We create two dress object<ul><li>Single Terrorist Dress Object: This will be shared across 5 Terrorist</li><li>Single Counter-Terrorist Dress Object: This will be shared across 5 Counter-Terrorist</li></ul></li></ol>



<p class="has-text-color has-medium-font-size" style="color:#000000">As you can that in Approach 1, total of 10 dress objects are created while in approach 2 only 2 dress objects are created. The second approach is what we follow in the Flyweight design pattern. The two dress objects which we created are called the flyweight objects. Flyweight pattern takes out the common parts and creates flyweight objects. These flyweight objects (dress here)&nbsp; can then be shared among multiple objects (player here). This drastically reduces the number of dress objects and the good part is that even if you create more players, still only two dress objects will be sufficient. </p>



<p class="has-medium-font-size">In the flyweight pattern, we store the flyweight objects in the map.&nbsp; Whenever the other objects which share the flyweight objects are created, then flyweight objects are fetched from the map.</p>



<p class="has-medium-font-size"><strong>Intrinsic and Extrinsic States</strong></p>



<ul class="has-medium-font-size wp-block-list"><li><strong>Intrinsic State &#8211;</strong>Dress in the intrinsic state as it can be shared across multiple Terrorist and Counter-Terrorist Objects</li><li><strong>Extrinsic State &#8211; </strong>Player location and the player weapon is an extrinsic state as it is different for every object.</li></ul>



<h2 class="wp-block-heading"><strong>When to Use</strong>:</h2>



<ul class="has-medium-font-size wp-block-list"><li>When the objects have some intrinsic properties which can be shared. <ul><li> As in the above example, dress is the intrinsic property that was taken out and shared.</li></ul></li><li>Use flyweight when a large number of objects needs to be created which can cause memory issue. In case figure out all the common or intrinsic state and create flyweight objects for that.     </li></ul>



<h2 class="wp-block-heading"><strong>UML Diagram</strong>:</h2>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="591" height="503" src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-1-1.jpg?resize=591%2C503&#038;ssl=1" alt="" class="wp-image-377" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-1-1.jpg?w=591&amp;ssl=1 591w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-1-1.jpg?resize=300%2C255&amp;ssl=1 300w" sizes="auto, (max-width: 591px) 100vw, 591px" data-recalc-dims="1" /></figure>



<p>Below is the corresponding mapping UML diagram with the example given above</p>



<p></p>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="541" height="503" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-2-1.png?resize=541%2C503&#038;ssl=1" alt="" class="wp-image-378" srcset="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-2-1.png?w=541&amp;ssl=1 541w, https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Flyweight-Design-Pattern-2-1.png?resize=300%2C279&amp;ssl=1 300w" sizes="auto, (max-width: 541px) 100vw, 541px" data-recalc-dims="1" /></figure>



<h2 class="wp-block-heading"><strong>Mapping:</strong></h2>



<p class="has-medium-font-size">The below table represents the mapping from the UML diagram actors to actual implementation actors in code.</p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-fixed-layout has-background"><tbody><tr><td>Flyweight Factory</td><td>dressFactory.go</td></tr><tr><td>Flyweight Interface</td><td>dress.go</td></tr><tr><td>Concrete Flyweight Object 1</td><td>terroristDress.go</td></tr><tr><td>Concrete Flyweight Object 1</td><td>counterTerroristDress.go</td></tr><tr><td>Context</td><td>player.go</td></tr><tr><td>Client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example</strong>:</h2>



<p class="has-medium-font-size"><strong>dressFactory.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

const (
    //TerroristDressType terrorist dress type
    TerroristDressType = "tDress"
    //CounterTerrroristDressType terrorist dress type
    CounterTerrroristDressType = "ctDress"
)

var (
    dressFactorySingleInstance = &dressFactory{
        dressMap: make(map[string]dress),
    }
)

type dressFactory struct {
    dressMap map[string]dress
}

func (d *dressFactory) getDressByType(dressType string) (dress, error) {
    if d.dressMap[dressType] != nil {
        return d.dressMap[dressType], nil
    }
    if dressType == TerroristDressType {
        d.dressMap[dressType] = newTerroristDress()
        return d.dressMap[dressType], nil
    }
    if dressType == CounterTerrroristDressType {
        d.dressMap[dressType] = newCounterTerroristDress()
        return d.dressMap[dressType], nil
    }
    return nil, fmt.Errorf("Wrong dress type passed")
}

func getDressFactorySingleInstance() *dressFactory {
    return dressFactorySingleInstance
}</code></pre>



<p class="has-medium-font-size"><strong>dress.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type dress interface {
    getColor() string
}</code></pre>



<p class="has-medium-font-size"><strong>terroristDress.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type terroristDress struct {
	color string
}

func (t *terroristDress) getColor() string {
	return t.color
}

func newTerroristDress() *terroristDress {
	return &terroristDress{color: "red"}
}
</code></pre>



<p class="has-medium-font-size"><strong>counterTerroristDress.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type counterTerroristDress struct {
    color string
}

func (c *counterTerroristDress) getColor() string {
    return c.color
}

func newCounterTerroristDress() *counterTerroristDress {
    return &counterTerroristDress{color: "green"}
}</code></pre>



<p class="has-medium-font-size"><strong>player.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type player struct {
    dress      dress
    playerType string
    lat        int
    long       int
}

func newPlayer(playerType, dressType string) *player {
    dress, _ := getDressFactorySingleInstance().getDressByType(dressType)
    return &player{
        playerType: playerType,
        dress:      dress,
    }
}

func (p *player) newLocation(lat, long int) {
    p.lat = lat
    p.long = long
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

func main() {
    game := newGame()
    //Add Terrorist
    game.addTerrorist(TerroristDressType)
    game.addTerrorist(TerroristDressType)
    game.addTerrorist(TerroristDressType)
    game.addTerrorist(TerroristDressType)
    //Add CounterTerrorist
    game.addCounterTerrorist(CounterTerrroristDressType)
    game.addCounterTerrorist(CounterTerrroristDressType)
    game.addCounterTerrorist(CounterTerrroristDressType)
    dressFactoryInstance := getDressFactorySingleInstance()
    for dressType, dress := range dressFactoryInstance.dressMap {
        fmt.Printf("DressColorType: %s\nDressColor: %s\n", dressType, dress.getColor())
    }
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">DressColorType: ctDress
DressColor: green
DressColorType: tDress
DressColor: red</code></pre>
<p>The post <a href="https://golangbyexamples.com/flyweight-design-pattern-golang/">Flyweight Design Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/flyweight-design-pattern-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">361</post-id>	</item>
		<item>
		<title>Composite Design Pattern in Go (GoLang)</title>
		<link>https://golangbyexamples.com/composite-design-pattern-golang/</link>
					<comments>https://golangbyexamples.com/composite-design-pattern-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Mon, 04 Nov 2019 06:11:45 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[composite design pattern]]></category>
		<category><![CDATA[composite design pattern in go]]></category>
		<category><![CDATA[composite design pattern in golang]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=344</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Definition:&#160; This is a structural design...</p>
<p>The post <a href="https://golangbyexamples.com/composite-design-pattern-golang/">Composite Design Pattern in Go (GoLang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Definition:&nbsp; </strong></h2>



<p class="has-medium-font-size">This is a structural design pattern. Composition design pattern is used when we want a Group of objects called &#8216;composite&#8217; is treated in a similar way as a single object. It comes under structural design pattern as it allows you to compose objects into a tree structure. Each of the individual objects in the tree structure can be treated in the same way irrespective of whether they are Complex or Primitive. <br> Let&#8217;s try to understand it with an example of a file system of OS. In the file system, there are two types of objects <strong>File</strong> and <strong>Folder. </strong>There are cases when File and Folder are treated to be the same way. It will be more clear as we go along.</p>



<h2 class="wp-block-heading"><br><strong>When to Use</strong></h2>



<ul class="has-medium-font-size wp-block-list"><li>Composite Design pattern makes sense to use in cases when the composite and individual object needs to be treated in the same way from a client perspective. </li></ul>



<p class="has-medium-font-size">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#8211; In our example above of the file system, let&#8217;s say search operation of a particular keyword needs to be executed. Now, this search operation applies to both <strong>File </strong>and <strong>Folder. </strong>For a <strong>File,</strong> it will just look into the contents of the file and for a <strong>Folder,</strong> it will go through all files in the hierarchy in that folder to find that keyword</p>



<ul class="has-medium-font-size wp-block-list"><li>Use this pattern when the composite and individual object form a tree-like structure</li></ul>



<p class="has-medium-font-size">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#8211;&nbsp; In our example, <strong>File </strong>and <strong>Folder </strong>do form a tree structure<br></p>



<h2 class="wp-block-heading"><strong>UML Diagram</strong></h2>



<ul class="has-medium-font-size wp-block-list"><li><strong>Component</strong> &#8211; It is the interface which defines the common operations for both the <strong>Composite</strong> and <strong>Leaf</strong> objects</li><li><strong>Composite &#8211; </strong>It implements <strong>Component</strong> interface and embeds an array of child <strong>Components</strong></li><li><strong>Leaf &#8211; </strong>it is the primitive object in the tree. It also implements the <strong>Component</strong> Interface</li></ul>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="537" height="401" src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-1.jpg?resize=537%2C401&#038;ssl=1" alt="" class="wp-image-346" srcset="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-1.jpg?w=537&amp;ssl=1 537w, https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-1.jpg?resize=300%2C224&amp;ssl=1 300w" sizes="auto, (max-width: 537px) 100vw, 537px" data-recalc-dims="1" /></figure>



<p class="has-medium-font-size">Below is the corresponding mapping UML diagram with the example given above</p>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="537" height="401" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-2.jpg?resize=537%2C401&#038;ssl=1" alt="" class="wp-image-348" srcset="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-2.jpg?w=537&amp;ssl=1 537w, https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Composite-Design-Pattern-2.jpg?resize=300%2C224&amp;ssl=1 300w" sizes="auto, (max-width: 537px) 100vw, 537px" data-recalc-dims="1" /></figure>



<h2 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h2>



<p class="has-medium-font-size">The below table represents the mapping from the UML diagram actors to actual implementation actors in code.</p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Component interface</td><td>component.go</td></tr><tr><td>Composite</td><td>folder.go</td></tr><tr><td>Leaf</td><td>file.go</td></tr><tr><td>client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example </strong></h2>



<p class="has-medium-font-size">In the<strong> </strong>example below <strong>component</strong> is the&nbsp;interface and <strong>file</strong> and <strong>folder</strong> implement this interface<strong>.</strong></p>



<p class="has-medium-font-size"><strong>component.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type component interface {
    search(string)
}</code></pre>



<p class="has-medium-font-size"><strong>folder.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type folder struct {
    components []component
    name       string
}

func (f *folder) search(keyword string) {
    fmt.Printf("Serching recursively for keyword %s in folder %s\n", keyword, f.name)
    for _, composite := range f.components {
        composite.search(keyword)
    }
}

func (f *folder) add(c component) {
    f.components = append(f.components, c)
}</code></pre>



<p class="has-medium-font-size"><strong>file.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type file struct {
    name string
}

func (f *file) search(keyword string) {
    fmt.Printf("Searching for keyword %s in file %s\n", keyword, f.name)
}

func (f *file) getName() string {
    return f.name
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

func main() {
    file1 := &file{name: "File1"}
    file2 := &file{name: "File2"}
    file3 := &file{name: "File3"}
    folder1 := &folder{
        name: "Folder1",
    }
    folder1.add(file1)
    folder2 := &folder{
        name: "Folder2",
    }
    folder2.add(file2)
    folder2.add(file3)
    folder2.add(folder1)
    folder2.search("rose")
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Serching recursively for keyword rose in folder Folder2
Searching for keyword rose in file File2
Searching for keyword rose in file File3
Serching recursively for keyword rose in folder Folder1
Searching for keyword rose in file File1</code></pre>



<p></p>
<p>The post <a href="https://golangbyexamples.com/composite-design-pattern-golang/">Composite Design Pattern in Go (GoLang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/composite-design-pattern-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">344</post-id>	</item>
		<item>
		<title>Adapter Design Pattern in Go (GoLang)</title>
		<link>https://golangbyexamples.com/adapter-design-pattern-go/</link>
					<comments>https://golangbyexamples.com/adapter-design-pattern-go/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Fri, 01 Nov 2019 13:50:07 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[adapter]]></category>
		<category><![CDATA[adapter design pattern]]></category>
		<category><![CDATA[design]]></category>
		<category><![CDATA[design pattern]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=334</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Introduction: This design pattern is a...</p>
<p>The post <a href="https://golangbyexamples.com/adapter-design-pattern-go/">Adapter Design Pattern in Go (GoLang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h1 class="wp-block-heading"><strong>Introduction: </strong></h1>



<p class="has-medium-font-size">This design pattern is a Structural Design Pattern. The patter is best understood with an example. Let&#8217;s say you have two laptops<br></p>



<ol class="has-medium-font-size wp-block-list"><li>MacBook Pro</li><li>Windows Laptop</li></ol>



<p class="has-medium-font-size">MacBook Pro has a USB port that is <strong>square</strong> in shape and Windows have a USB port that is <strong>circular</strong> in shape. You as a client have a USB cable that is square in shape so it can only be inserted in the mac laptop. So you see the problem here</p>



<p class="has-medium-font-size"><strong>Problem:</strong></p>



<ul class="has-medium-font-size wp-block-list"><li>We have a class (Client) that is expecting some features of an object (square USB port here), but we have another object called adaptee (Windows Laptop here) which offers the same functionality but through a different interface( circular port)</li></ul>



<p class="has-medium-font-size">This is where Adapter Pattern comes into the picture. We create a class known as Adapter that will </p>



<ul class="has-medium-font-size wp-block-list"><li>Adhere to the same interface which client expects ( Square USB port here)</li><li>Translate the request from the client to the adaptee in the form that adaptee expects. Basically, in our example act as an adapter that accepts USB in square port and then inserts into circular port in windows laptop.</li></ul>



<h1 class="wp-block-heading"><strong>When to Use</strong></h1>



<ul class="has-medium-font-size wp-block-list"><li>Use this design pattern when the objects implement a different interface as required by the client. </li></ul>



<h1 class="wp-block-heading"><strong>UML Diagram</strong></h1>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="561" height="421" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-1.jpg?resize=561%2C421&#038;ssl=1" alt="" class="wp-image-469" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-1.jpg?w=561&amp;ssl=1 561w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-1.jpg?resize=300%2C225&amp;ssl=1 300w" sizes="auto, (max-width: 561px) 100vw, 561px" data-recalc-dims="1" /></figure>



<p class="has-medium-font-size">Below is the corresponding mapping UML diagram with the example given above</p>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="581" height="421" src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-2.jpg?resize=581%2C421&#038;ssl=1" alt="" class="wp-image-470" srcset="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-2.jpg?w=581&amp;ssl=1 581w, https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/11/Adapter-Design-Pattern-2.jpg?resize=300%2C217&amp;ssl=1 300w" sizes="auto, (max-width: 581px) 100vw, 581px" data-recalc-dims="1" /></figure>



<h1 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h1>



<p class="has-medium-font-size"><br>The below table represents the mapping from the UML diagram actors to actual implementation actors in code.<br></p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Target</td><td>computer.go</td></tr><tr><td>Concrete Prototype 1</td><td>mac.go</td></tr><tr><td>Concrete Prototype 2 (Adapter)</td><td>windowsAdapter.go</td></tr><tr><td>adaptee</td><td>windows.go</td></tr><tr><td>client</td><td>client.go</td></tr></tbody></table></figure>



<p></p>



<h1 class="wp-block-heading"><strong>Example</strong>:</h1>



<p class="has-medium-font-size"><strong>computer.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type computer interface {
    insertInSquarePort()
}</code></pre>



<p class="has-medium-font-size"><strong>mac.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type mac struct {
}

func (m *mac) insertInSquarePort() {
    fmt.Println("Insert square port into mac machine")
}</code></pre>



<p class="has-medium-font-size"><strong>windowsAdapter.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type windowsAdapter struct {
	windowMachine *windows
}

func (w *windowsAdapter) insertInSquarePort() {
	w.windowMachine.insertInCirclePort()
}
</code></pre>



<p class="has-medium-font-size"><strong>windows.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type windows struct{}

func (w *windows) insertInCirclePort() {
    fmt.Println("Insert circle port into windows machine")
}</code></pre>



<p class="has-medium-font-size"><strong>client.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type client struct {
}

func (c *client) insertSquareUsbInComputer(com computer) {
    com.insertInSquarePort()
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

func main() {
    client := &client{}
    mac := &mac{}
    client.insertSquareUsbInComputer(mac)
    windowsMachine := &windows{}
    windowsMachineAdapter := &windowsAdapter{
        windowMachine: windowsMachine,
    }
    client.insertSquareUsbInComputer(windowsMachineAdapter)
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Insert square port into mac machine
Insert circle port into windows machine</code></pre>



<p></p>
<p>The post <a href="https://golangbyexamples.com/adapter-design-pattern-go/">Adapter Design Pattern in Go (GoLang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/adapter-design-pattern-go/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">334</post-id>	</item>
		<item>
		<title>Prototype Pattern in Go (Golang)</title>
		<link>https://golangbyexamples.com/prototype-pattern-go/</link>
					<comments>https://golangbyexamples.com/prototype-pattern-go/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Sun, 20 Oct 2019 04:45:36 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[go]]></category>
		<category><![CDATA[golang]]></category>
		<category><![CDATA[prototype]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=305</guid>

					<description><![CDATA[<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Definition: It is a creational design...</p>
<p>The post <a href="https://golangbyexamples.com/prototype-pattern-go/">Prototype Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h2 class="wp-block-heading"><strong>Definition:</strong></h2>



<p class="has-medium-font-size">It is a creational design pattern that lets you create copies of objects. In this pattern, the responsibility of creating the clone objects is delegated to the actual object to clone.</p>



<p class="has-medium-font-size"> The object to be cloned exposes a clone method which returns a clone copy of the object</p>



<h2 class="wp-block-heading"><strong>When to Use</strong></h2>



<ul class="has-medium-font-size wp-block-list"><li>We use prototype pattern when the object to be cloned creation process is complex i.e the cloning may involve vases of handling deep copies, hierarchical copies, etc. Moreover, there may be some private members too which cannot be directly accessed.</li><li>A copy of the object is created instead of creating a new instance from scratch. This prevents costly operations involved while creating a new object such as database operation.</li><li>When you want to create a copy of a new object, but it is only available to you as an interface. Hence you cannot directly create copies of that object.</li></ul>



<h2 class="wp-block-heading"><strong>UML Diagram</strong></h2>



<figure class="wp-block-image"><img loading="lazy" decoding="async" width="639" height="271" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2019/10/Prototype-Pattern.jpg?resize=639%2C271&#038;ssl=1" alt="" class="wp-image-309" srcset="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/10/Prototype-Pattern.jpg?w=639&amp;ssl=1 639w, https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/10/Prototype-Pattern.jpg?resize=300%2C127&amp;ssl=1 300w" sizes="auto, (max-width: 639px) 100vw, 639px" data-recalc-dims="1" /></figure>



<h2 class="wp-block-heading"><strong>Mapping&nbsp;</strong></h2>



<p class="has-medium-font-size">The below table represents the mapping from the UML diagram actors to actual implementation actors in code.</p>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>prototype interface</td><td>inode.go</td></tr><tr><td>Concrete Prototype 1</td><td>file.go</td></tr><tr><td>Concrete Prototype 2</td><td>folder.go</td></tr><tr><td>client</td><td>main.go</td></tr></tbody></table></figure>



<h2 class="wp-block-heading"><strong>Practical Example</strong>:</h2>



<p class="has-medium-font-size">In the context of golang let&#8217;s try to understand it with an example of os file system. The os file system has files and folders and folders itself contain files and folders. Each <strong>file</strong> and <strong>folder</strong> can be represented by an <strong>inode</strong> interface. <strong>inode</strong> interface also has the <strong>clone</strong>() function.</p>



<p class="has-medium-font-size"><strong>inode.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type inode interface {
    print(string)
    clone() inode
}</code></pre>



<p class="has-medium-font-size"><strong>file</strong> struct is represented as </p>



<p class="has-medium-font-size"><strong>file.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type file struct {
	name string
}

func (f *file) print(indentation string) {
	fmt.Println(indentation + f.name)
}

func (f *file) clone() inode {
	return &file{name: f.name + "_clone"}
}
</code></pre>



<p class="has-medium-font-size"><strong>folder</strong> struct is represented as</p>



<p class="has-medium-font-size"><strong>folder.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

type folder struct {
	childrens []inode
	name      string
}

func (f *folder) print(indentation string) {
	fmt.Println(indentation + f.name)
	for _, i := range f.childrens {
		i.print(indentation + indentation)
	}
}

func (f *folder) clone() inode {
	cloneFolder := &folder{name: f.name + "_clone"}
	var tempChildrens []inode
	for _, i := range f.childrens {
		copy := i.clone()
		tempChildrens = append(tempChildrens, copy)
	}
	cloneFolder.childrens = tempChildrens
	return cloneFolder
}
</code></pre>



<p class="has-medium-font-size">Since both <strong>file</strong> and <strong>folder</strong> struct implements the <strong>print</strong> and <strong>clone</strong> functions, hence they are of type <strong>inode</strong>. Also, notice the <strong>clone</strong> function in both file and folder. The <strong>clone</strong> function in both of them returns a copy of the respective file or folder. While cloning we append the keyword &#8220;_clone&#8221; for the name field. Let&#8217;s write the main function to test things out.</p>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

func main() {
    file1 := &file{name: "File1"}
    file2 := &file{name: "File2"}
    file3 := &file{name: "File3"}
    folder1 := &folder{
        childrens: []inode{file1},
        name:      "Folder1",
    }
    folder2 := &folder{
        childrens: []inode{folder1, file2, file3},
        name:      "Folder2",
    }
    fmt.Println("\nPrinting hierarchy for Folder2")
    folder2.print("  ")
    cloneFolder := folder2.clone()
    fmt.Println("\nPrinting hierarchy for clone Folder")
    cloneFolder.print("  ")
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Printing hierarchy for Folder2
  Folder2
    Folder1
        File1
    File2
    File3

Printing hierarchy for clone Folder
  Folder2_clone
    Folder1_clone
        File1_clone
    File2_clone
    File3_clone</code></pre>
<p>The post <a href="https://golangbyexamples.com/prototype-pattern-go/">Prototype Pattern in Go (Golang)</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/prototype-pattern-go/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">305</post-id>	</item>
		<item>
		<title>Builder Pattern in GoLang</title>
		<link>https://golangbyexamples.com/builder-pattern-golang/</link>
					<comments>https://golangbyexamples.com/builder-pattern-golang/#comments</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Wed, 04 Sep 2019 17:58:52 +0000</pubDate>
				<category><![CDATA[Tech]]></category>
		<category><![CDATA[builder]]></category>
		<category><![CDATA[creational]]></category>
		<category><![CDATA[design]]></category>
		<category><![CDATA[design pattern]]></category>
		<category><![CDATA[designpatter]]></category>
		<category><![CDATA[golang]]></category>
		<category><![CDATA[pattern]]></category>
		<guid isPermaLink="false">https://golangbyexamples.com/?p=243</guid>

					<description><![CDATA[<p>Definition: Builder Pattern is a creational design pattern used for constructing complex objects. Below is the UML diagram. Note: Interested in understanding how all other design patterns can be implemented in GO....</p>
<p>The post <a href="https://golangbyexamples.com/builder-pattern-golang/">Builder Pattern in GoLang</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<h1 class="wp-block-heading"><strong>Definition:</strong></h1>



<p class="has-medium-font-size">Builder Pattern is a creational design pattern used for constructing complex objects. Below is the UML diagram.</p>



<p class="has-medium-font-size">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href="https://golangbyexamples.com/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>



<h1 class="wp-block-heading"><strong>UML Diagram</strong></h1>



<figure class="wp-block-gallery columns-1 is-cropped wp-block-gallery-8 is-layout-flex wp-block-gallery-is-layout-flex"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" decoding="async" width="511" height="278" src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2019/09/Builder-Design-Patter-1.jpg?resize=511%2C278&#038;ssl=1" alt="" data-id="244" data-link="https://golangbyexamples.com/?attachment_id=244" class="wp-image-244" srcset="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/09/Builder-Design-Patter-1.jpg?w=511&amp;ssl=1 511w, https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2019/09/Builder-Design-Patter-1.jpg?resize=300%2C163&amp;ssl=1 300w" sizes="auto, (max-width: 511px) 100vw, 511px" data-recalc-dims="1" /></figure></li></ul></figure>



<h1 class="wp-block-heading"><strong>Mapping (Also Refer 5th point &#8211; Example)</strong></h1>



<figure class="wp-block-table is-style-stripes"><table class="has-subtle-pale-blue-background-color has-background"><tbody><tr><td>Director</td><td>director.go</td></tr><tr><td>Builder Interface</td><td>iBuilder.go</td></tr><tr><td>Concrete Builder 1</td><td>normalBuilder.go</td></tr><tr><td>Concrete Builder 2</td><td>iglooBuilder.go</td></tr><tr><td>Product</td><td>house.go</td></tr></tbody></table></figure>



<h1 class="wp-block-heading"><strong>When To Use</strong></h1>



<ul class="has-medium-font-size wp-block-list"><li>Use Builder pattern when the object constructed is big and requires multiple steps. It helps in less size of the constructor.  The construction of the house becomes simple and it does not require a large constructor</li></ul>



<ul class="has-medium-font-size wp-block-list"><li>When a different version of the same product needs to be created. For example, in the below code we see a different version of house ie. igloo and the normal house being constructed by <strong>iglooBuilder </strong>and <strong>normalBuilder</strong></li></ul>



<ul class="has-medium-font-size wp-block-list"><li>When half constructed final object should not exist. Again referring to below code the house created will either be created fully or not created at all. The Concrete Builder struct holds the temporary state of house object being created</li></ul>



<h1 class="wp-block-heading"><strong>Example:</strong></h1>



<p class="has-medium-font-size"><strong>iBuilder.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type iBuilder interface {
    setWindowType()
    setDoorType()
    setNumFloor()
    getHouse() house
}

func getBuilder(builderType string) iBuilder {
    if builderType == "normal" {
        return &normalBuilder{}
    }
    if builderType == "igloo" {
        return &iglooBuilder{}
    }
    return nil
}</code></pre>



<p class="has-medium-font-size"><strong>normalBuilder.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type normalBuilder struct {
    windowType string
    doorType   string
    floor      int
}

func newNormalBuilder() *normalBuilder {
    return &normalBuilder{}
}

func (b *normalBuilder) setWindowType() {
    b.windowType = "Wooden Window"
}

func (b *normalBuilder) setDoorType() {
    b.doorType = "Wooden Door"
}

func (b *normalBuilder) setNumFloor() {
    b.floor = 2
}

func (b *normalBuilder) getHouse() house {
    return house{
        doorType:   b.doorType,
        windowType: b.windowType,
        floor:      b.floor,
    }
}</code></pre>



<p class="has-medium-font-size"><strong>iglooBuilder.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type iglooBuilder struct {
    windowType string
    doorType   string
    floor      int
}

func newIglooBuilder() *iglooBuilder {
    return &iglooBuilder{}
}

func (b *iglooBuilder) setWindowType() {
    b.windowType = "Snow Window"
}

func (b *iglooBuilder) setDoorType() {
    b.doorType = "Snow Door"
}

func (b *iglooBuilder) setNumFloor() {
    b.floor = 1
}

func (b *iglooBuilder) getHouse() house {
    return house{
        doorType:   b.doorType,
        windowType: b.windowType,
        floor:      b.floor,
    }
}</code></pre>



<p class="has-medium-font-size"><strong>house.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type house struct {
    windowType string
    doorType   string
    floor      int
}</code></pre>



<p class="has-medium-font-size"><strong>director.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

type director struct {
    builder iBuilder
}

func newDirector(b iBuilder) *director {
    return &director{
        builder: b,
    }
}

func (d *director) setBuilder(b iBuilder) {
    d.builder = b
}

func (d *director) buildHouse() house {
    d.builder.setDoorType()
    d.builder.setWindowType()
    d.builder.setNumFloor()
    return d.builder.getHouse()
}</code></pre>



<p class="has-medium-font-size"><strong>main.go</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main

import "fmt"

func main() {
    normalBuilder := getBuilder("normal")
    iglooBuilder := getBuilder("igloo")

    director := newDirector(normalBuilder)
    normalHouse := director.buildHouse()

    fmt.Printf("Normal House Door Type: %s\n", normalHouse.doorType)
    fmt.Printf("Normal House Window Type: %s\n", normalHouse.windowType)
    fmt.Printf("Normal House Num Floor: %d\n", normalHouse.floor)

    director.setBuilder(iglooBuilder)
    iglooHouse := director.buildHouse()

    fmt.Printf("\nIgloo House Door Type: %s\n", iglooHouse.doorType)
    fmt.Printf("Igloo House Window Type: %s\n", iglooHouse.windowType)
    fmt.Printf("Igloo House Num Floor: %d\n", iglooHouse.floor)
}</code></pre>



<p class="has-medium-font-size"><strong>Output:</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">Normal House Door Type: Wooden Door
Normal House Window Type: Wooden Window
Normal House Num Floor: 2

Igloo House Door Type: Snow Door
Igloo House Window Type: Snow Window
Igloo House Num Floor: 1</code></pre>
<p>The post <a href="https://golangbyexamples.com/builder-pattern-golang/">Builder Pattern in GoLang</a> appeared first on <a href="https://golangbyexamples.com">Welcome To Golang By Example</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://golangbyexamples.com/builder-pattern-golang/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">243</post-id>	</item>
	</channel>
</rss>
