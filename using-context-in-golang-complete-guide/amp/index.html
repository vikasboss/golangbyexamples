<!DOCTYPE html>
<html
  amp
  lang="en-US"
  i-amphtml-layout=""
  i-amphtml-no-boilerplate=""
  transformed="self;v=1"
>
  <head>
    <meta charset="utf-8" />
    <style amp-runtime="" i-amphtml-version="012504091801000">
      html {
        overflow-x: hidden !important;
      }
      html.i-amphtml-fie {
        height: 100% !important;
        width: 100% !important;
      }
      html:not([amp4ads]),
      html:not([amp4ads]) body {
        height: auto !important;
      }
      html:not([amp4ads]) body {
        margin: 0 !important;
      }
      body {
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-size-adjust: 100%;
      }
      html.i-amphtml-singledoc.i-amphtml-embedded {
        -ms-touch-action: pan-y pinch-zoom;
        touch-action: pan-y pinch-zoom;
      }
      html.i-amphtml-fie > body,
      html.i-amphtml-singledoc > body {
        overflow: visible !important;
      }
      html.i-amphtml-fie:not(.i-amphtml-inabox) > body,
      html.i-amphtml-singledoc:not(.i-amphtml-inabox) > body {
        position: relative !important;
      }
      html.i-amphtml-ios-embed-legacy > body {
        overflow-x: hidden !important;
        overflow-y: auto !important;
        position: absolute !important;
      }
      html.i-amphtml-ios-embed {
        overflow-y: auto !important;
        position: static;
      }
      #i-amphtml-wrapper {
        overflow-x: hidden !important;
        overflow-y: auto !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        margin: 0 !important;
        display: block !important;
      }
      html.i-amphtml-ios-embed.i-amphtml-ios-overscroll,
      html.i-amphtml-ios-embed.i-amphtml-ios-overscroll > #i-amphtml-wrapper {
        -webkit-overflow-scrolling: touch !important;
      }
      #i-amphtml-wrapper > body {
        position: relative !important;
        border-top: 1px solid transparent !important;
      }
      #i-amphtml-wrapper + body {
        visibility: visible;
      }
      #i-amphtml-wrapper + body .i-amphtml-lightbox-element,
      #i-amphtml-wrapper + body[i-amphtml-lightbox] {
        visibility: hidden;
      }
      #i-amphtml-wrapper
        + body[i-amphtml-lightbox]
        .i-amphtml-lightbox-element {
        visibility: visible;
      }
      #i-amphtml-wrapper.i-amphtml-scroll-disabled,
      .i-amphtml-scroll-disabled {
        overflow-x: hidden !important;
        overflow-y: hidden !important;
      }
      amp-instagram {
        padding: 54px 0px 0px !important;
        background-color: #fff;
      }
      amp-iframe iframe {
        box-sizing: border-box !important;
      }
      [amp-access][amp-access-hide] {
        display: none;
      }
      [subscriptions-dialog],
      body:not(.i-amphtml-subs-ready) [subscriptions-action],
      body:not(.i-amphtml-subs-ready) [subscriptions-section] {
        display: none !important;
      }
      amp-experiment,
      amp-live-list > [update] {
        display: none;
      }
      amp-list[resizable-children] > .i-amphtml-loading-container.amp-hidden {
        display: none !important;
      }
      amp-list [fetch-error],
      amp-list[load-more] [load-more-button],
      amp-list[load-more] [load-more-end],
      amp-list[load-more] [load-more-failed],
      amp-list[load-more] [load-more-loading] {
        display: none;
      }
      amp-list[diffable] div[role="list"] {
        display: block;
      }
      amp-story-page,
      amp-story[standalone] {
        min-height: 1px !important;
        display: block !important;
        height: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden !important;
        width: 100% !important;
      }
      amp-story[standalone] {
        background-color: #000 !important;
        position: relative !important;
      }
      amp-story-page {
        background-color: #757575;
      }
      amp-story .amp-active > div,
      amp-story .i-amphtml-loader-background {
        display: none !important;
      }
      amp-story-page:not(:first-of-type):not([distance]):not([active]) {
        transform: translateY(1000vh) !important;
      }
      amp-autocomplete {
        position: relative !important;
        display: inline-block !important;
      }
      amp-autocomplete > input,
      amp-autocomplete > textarea {
        padding: 0.5rem;
        border: 1px solid rgba(0, 0, 0, 0.33);
      }
      .i-amphtml-autocomplete-results,
      amp-autocomplete > input,
      amp-autocomplete > textarea {
        font-size: 1rem;
        line-height: 1.5rem;
      }
      [amp-fx^="fly-in"] {
        visibility: hidden;
      }
      amp-script[nodom],
      amp-script[sandboxed] {
        position: fixed !important;
        top: 0 !important;
        width: 1px !important;
        height: 1px !important;
        overflow: hidden !important;
        visibility: hidden;
      }
      /*# sourceURL=/css/ampdoc.css*/
      [hidden] {
        display: none !important;
      }
      .i-amphtml-element {
        display: inline-block;
      }
      .i-amphtml-blurry-placeholder {
        transition: opacity 0.3s cubic-bezier(0, 0, 0.2, 1) !important;
        pointer-events: none;
      }
      [layout="nodisplay"]:not(.i-amphtml-element) {
        display: none !important;
      }
      .i-amphtml-layout-fixed,
      [layout="fixed"][width][height]:not(.i-amphtml-layout-fixed) {
        display: inline-block;
        position: relative;
      }
      .i-amphtml-layout-responsive,
      [layout="responsive"][width][height]:not(.i-amphtml-layout-responsive),
      [width][height][heights]:not([layout]):not(.i-amphtml-layout-responsive),
      [width][height][sizes]:not(img):not([layout]):not(
          .i-amphtml-layout-responsive
        ) {
        display: block;
        position: relative;
      }
      .i-amphtml-layout-intrinsic,
      [layout="intrinsic"][width][height]:not(.i-amphtml-layout-intrinsic) {
        display: inline-block;
        position: relative;
        max-width: 100%;
      }
      .i-amphtml-layout-intrinsic .i-amphtml-sizer {
        max-width: 100%;
      }
      .i-amphtml-intrinsic-sizer {
        max-width: 100%;
        display: block !important;
      }
      .i-amphtml-layout-container,
      .i-amphtml-layout-fixed-height,
      [layout="container"],
      [layout="fixed-height"][height]:not(.i-amphtml-layout-fixed-height) {
        display: block;
        position: relative;
      }
      .i-amphtml-layout-fill,
      .i-amphtml-layout-fill.i-amphtml-notbuilt,
      [layout="fill"]:not(.i-amphtml-layout-fill),
      body noscript > * {
        display: block;
        overflow: hidden !important;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
      }
      body noscript > * {
        position: absolute !important;
        width: 100%;
        height: 100%;
        z-index: 2;
      }
      body noscript {
        display: inline !important;
      }
      .i-amphtml-layout-flex-item,
      [layout="flex-item"]:not(.i-amphtml-layout-flex-item) {
        display: block;
        position: relative;
        -ms-flex: 1 1 auto;
        flex: 1 1 auto;
      }
      .i-amphtml-layout-fluid {
        position: relative;
      }
      .i-amphtml-layout-size-defined {
        overflow: hidden !important;
      }
      .i-amphtml-layout-awaiting-size {
        position: absolute !important;
        top: auto !important;
        bottom: auto !important;
      }
      i-amphtml-sizer {
        display: block !important;
      }
      @supports (aspect-ratio: 1/1) {
        i-amphtml-sizer.i-amphtml-disable-ar {
          display: none !important;
        }
      }
      .i-amphtml-blurry-placeholder,
      .i-amphtml-fill-content {
        display: block;
        height: 0;
        max-height: 100%;
        max-width: 100%;
        min-height: 100%;
        min-width: 100%;
        width: 0;
        margin: auto;
      }
      .i-amphtml-layout-size-defined .i-amphtml-fill-content {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
      }
      .i-amphtml-replaced-content,
      .i-amphtml-screen-reader {
        padding: 0 !important;
        border: none !important;
      }
      .i-amphtml-screen-reader {
        position: fixed !important;
        top: 0px !important;
        left: 0px !important;
        width: 4px !important;
        height: 4px !important;
        opacity: 0 !important;
        overflow: hidden !important;
        margin: 0 !important;
        display: block !important;
        visibility: visible !important;
      }
      .i-amphtml-screen-reader ~ .i-amphtml-screen-reader {
        left: 8px !important;
      }
      .i-amphtml-screen-reader
        ~ .i-amphtml-screen-reader
        ~ .i-amphtml-screen-reader {
        left: 12px !important;
      }
      .i-amphtml-screen-reader
        ~ .i-amphtml-screen-reader
        ~ .i-amphtml-screen-reader
        ~ .i-amphtml-screen-reader {
        left: 16px !important;
      }
      .i-amphtml-unresolved {
        position: relative;
        overflow: hidden !important;
      }
      .i-amphtml-select-disabled {
        -webkit-user-select: none !important;
        -ms-user-select: none !important;
        user-select: none !important;
      }
      .i-amphtml-notbuilt,
      [layout]:not(.i-amphtml-element),
      [width][height][heights]:not([layout]):not(.i-amphtml-element),
      [width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element) {
        position: relative;
        overflow: hidden !important;
        color: transparent !important;
      }
      .i-amphtml-notbuilt:not(.i-amphtml-layout-container) > *,
      [layout]:not([layout="container"]):not(.i-amphtml-element) > *,
      [width][height][heights]:not([layout]):not(.i-amphtml-element) > *,
      [width][height][sizes]:not([layout]):not(.i-amphtml-element) > * {
        display: none;
      }
      amp-img:not(.i-amphtml-element)[i-amphtml-ssr]
        > img.i-amphtml-fill-content {
        display: block;
      }
      .i-amphtml-notbuilt:not(.i-amphtml-layout-container),
      [layout]:not([layout="container"]):not(.i-amphtml-element),
      [width][height][heights]:not([layout]):not(.i-amphtml-element),
      [width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element) {
        color: transparent !important;
        line-height: 0 !important;
      }
      .i-amphtml-ghost {
        visibility: hidden !important;
      }
      .i-amphtml-element > [placeholder],
      [layout]:not(.i-amphtml-element) > [placeholder],
      [width][height][heights]:not([layout]):not(.i-amphtml-element)
        > [placeholder],
      [width][height][sizes]:not([layout]):not(.i-amphtml-element)
        > [placeholder] {
        display: block;
        line-height: normal;
      }
      .i-amphtml-element > [placeholder].amp-hidden,
      .i-amphtml-element > [placeholder].hidden {
        visibility: hidden;
      }
      .i-amphtml-element:not(.amp-notsupported) > [fallback],
      .i-amphtml-layout-container > [placeholder].amp-hidden,
      .i-amphtml-layout-container > [placeholder].hidden {
        display: none;
      }
      .i-amphtml-layout-size-defined > [fallback],
      .i-amphtml-layout-size-defined > [placeholder] {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        z-index: 1;
      }
      amp-img[i-amphtml-ssr]:not(.i-amphtml-element) > [placeholder] {
        z-index: auto;
      }
      .i-amphtml-notbuilt > [placeholder] {
        display: block !important;
      }
      .i-amphtml-hidden-by-media-query {
        display: none !important;
      }
      .i-amphtml-element-error {
        background: red !important;
        color: #fff !important;
        position: relative !important;
      }
      .i-amphtml-element-error:before {
        content: attr(error-message);
      }
      i-amp-scroll-container,
      i-amphtml-scroll-container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: block;
      }
      i-amp-scroll-container.amp-active,
      i-amphtml-scroll-container.amp-active {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }
      .i-amphtml-loading-container {
        display: block !important;
        pointer-events: none;
        z-index: 1;
      }
      .i-amphtml-notbuilt > .i-amphtml-loading-container {
        display: block !important;
      }
      .i-amphtml-loading-container.amp-hidden {
        visibility: hidden;
      }
      .i-amphtml-element > [overflow] {
        cursor: pointer;
        position: relative;
        z-index: 2;
        visibility: hidden;
        display: initial;
        line-height: normal;
      }
      .i-amphtml-layout-size-defined > [overflow] {
        position: absolute;
      }
      .i-amphtml-element > [overflow].amp-visible {
        visibility: visible;
      }
      template {
        display: none !important;
      }
      .amp-border-box,
      .amp-border-box *,
      .amp-border-box :after,
      .amp-border-box :before {
        box-sizing: border-box;
      }
      amp-pixel {
        display: none !important;
      }
      amp-analytics,
      amp-auto-ads,
      amp-story-auto-ads {
        position: fixed !important;
        top: 0 !important;
        width: 1px !important;
        height: 1px !important;
        overflow: hidden !important;
        visibility: hidden;
      }
      amp-story {
        visibility: hidden !important;
      }
      html.i-amphtml-fie > amp-analytics {
        position: initial !important;
      }
      [visible-when-invalid]:not(.visible),
      form [submit-error],
      form [submit-success],
      form [submitting] {
        display: none;
      }
      amp-accordion {
        display: block !important;
      }
      @media (min-width: 1px) {
        :where(amp-accordion > section) > :first-child {
          margin: 0;
          background-color: #efefef;
          padding-right: 20px;
          border: 1px solid #dfdfdf;
        }
        :where(amp-accordion > section) > :last-child {
          margin: 0;
        }
      }
      amp-accordion > section {
        float: none !important;
      }
      amp-accordion > section > * {
        float: none !important;
        display: block !important;
        overflow: hidden !important;
        position: relative !important;
      }
      amp-accordion,
      amp-accordion > section {
        margin: 0;
      }
      amp-accordion:not(.i-amphtml-built) > section > :last-child {
        display: none !important;
      }
      amp-accordion:not(.i-amphtml-built) > section[expanded] > :last-child {
        display: block !important;
      }
      /*# sourceURL=/css/ampshared.css*/
    </style>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,minimum-scale=1"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="Using Context Package in GO (Golang) - Complete Guide - Welcome To Golang By Example"
    />
    <meta
      property="og:description"
      content="Introduction: Definition: Context is a package provided by GO. Let’s first understand some problems that existed already, and which context package tries to solve. Problem Statement: Let’s say that you started a..."
    />
    <meta
      property="og:url"
      content="https://golangbyexamples.com/using-context-in-golang-complete-guide/"
    />
    <meta property="og:site_name" content="Welcome To Golang By Example" />
    <meta
      property="article:published_time"
      content="2019-12-23T17:44:28+00:00"
    />
    <meta
      property="article:modified_time"
      content="2021-06-05T18:01:56+00:00"
    />
    <meta
      property="og:image"
      content="https://golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg"
    />
    <meta name="author" content="admin" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="admin" />
    <meta name="twitter:label2" content="Est. reading time" />
    <meta name="twitter:data2" content="10 minutes" />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <meta
      name="generator"
      content="AMP Plugin v2.0.11; mode=reader; theme=legacy"
    />
    <meta name="generator" content="WordPress 6.8.1" />
    <title>
      Using Context Package in GO (Golang) - Complete Guide - Welcome To Golang
      By Example
    </title>
    <link rel="preconnect" href="https://cdn.ampproject.org" />
    <link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js" />
    <script async="" src="https://cdn.ampproject.org/v0.js"></script>
    <script
      src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"
      async=""
      custom-element="amp-analytics"
    ></script>
    <style amp-custom="">
      :where(.wp-block-button__link) {
        border-radius: 9999px;
        box-shadow: none;
        padding: calc(0.667em + 2px) calc(1.333em + 2px);
        text-decoration: none;
      }
      :root :where(.wp-block-button .wp-block-button__link.is-style-outline),
      :root :where(.wp-block-button.is-style-outline > .wp-block-button__link) {
        border: 2px solid;
        padding: 0.667em 1.333em;
      }
      :root
        :where(
          .wp-block-button
            .wp-block-button__link.is-style-outline:not(.has-text-color)
        ),
      :root
        :where(
          .wp-block-button.is-style-outline
            > .wp-block-button__link:not(.has-text-color)
        ) {
        color: currentColor;
      }
      :root
        :where(
          .wp-block-button
            .wp-block-button__link.is-style-outline:not(.has-background)
        ),
      :root
        :where(
          .wp-block-button.is-style-outline
            > .wp-block-button__link:not(.has-background)
        ) {
        background-color: initial;
        background-image: none;
      }
      :where(.wp-block-columns) {
        margin-bottom: 1.75em;
      }
      :where(.wp-block-columns.has-background) {
        padding: 1.25em 2.375em;
      }
      :where(.wp-block-post-comments input[type="submit"]) {
        border: none;
      }
      :where(.wp-block-cover-image:not(.has-text-color)),
      :where(.wp-block-cover:not(.has-text-color)) {
        color: #fff;
      }
      :where(.wp-block-cover-image.is-light:not(.has-text-color)),
      :where(.wp-block-cover.is-light:not(.has-text-color)) {
        color: #000;
      }
      :root :where(.wp-block-cover h1:not(.has-text-color)),
      :root :where(.wp-block-cover h2:not(.has-text-color)),
      :root :where(.wp-block-cover h3:not(.has-text-color)),
      :root :where(.wp-block-cover h4:not(.has-text-color)),
      :root :where(.wp-block-cover h5:not(.has-text-color)),
      :root :where(.wp-block-cover h6:not(.has-text-color)),
      :root :where(.wp-block-cover p:not(.has-text-color)) {
        color: inherit;
      }
      :where(.wp-block-file) {
        margin-bottom: 1.5em;
      }
      :where(.wp-block-file__button) {
        border-radius: 2em;
        display: inline-block;
        padding: 0.5em 1em;
      }
      :where(.wp-block-file__button):is(a):active,
      :where(.wp-block-file__button):is(a):focus,
      :where(.wp-block-file__button):is(a):hover,
      :where(.wp-block-file__button):is(a):visited {
        box-shadow: none;
        color: #fff;
        opacity: 0.85;
        text-decoration: none;
      }
      :where(.wp-block-group.wp-block-group-is-layout-constrained) {
        position: relative;
      }
      .wp-block-image > a,
      .wp-block-image > figure > a {
        display: inline-block;
      }
      .wp-block-image amp-img {
        box-sizing: border-box;
        height: auto;
        max-width: 100%;
        vertical-align: bottom;
      }
      .wp-block-image[data-amp-original-style*="border-radius"] amp-img,
      .wp-block-image[data-amp-original-style*="border-radius"] > a {
        border-radius: inherit;
      }
      .wp-block-image :where(figcaption) {
        margin-bottom: 1em;
        margin-top: 0.5em;
      }
      .wp-block-image figure {
        margin: 0;
      }
      @keyframes show-content-image {
        0% {
          visibility: hidden;
        }
        99% {
          visibility: hidden;
        }
        to {
          visibility: visible;
        }
      }
      @keyframes turn-on-visibility {
        0% {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes turn-off-visibility {
        0% {
          opacity: 1;
          visibility: visible;
        }
        99% {
          opacity: 0;
          visibility: visible;
        }
        to {
          opacity: 0;
          visibility: hidden;
        }
      }
      @keyframes lightbox-zoom-in {
        0% {
          transform: translate(
              calc(
                (-100vw + var(--wp--lightbox-scrollbar-width)) / 2 +
                  var(--wp--lightbox-initial-left-position)
              ),
              calc(-50vh + var(--wp--lightbox-initial-top-position))
            )
            scale(var(--wp--lightbox-scale));
        }
        to {
          transform: translate(-50%, -50%) scale(1);
        }
      }
      @keyframes lightbox-zoom-out {
        0% {
          transform: translate(-50%, -50%) scale(1);
          visibility: visible;
        }
        99% {
          visibility: visible;
        }
        to {
          transform: translate(
              calc(
                (-100vw + var(--wp--lightbox-scrollbar-width)) / 2 +
                  var(--wp--lightbox-initial-left-position)
              ),
              calc(-50vh + var(--wp--lightbox-initial-top-position))
            )
            scale(var(--wp--lightbox-scale));
          visibility: hidden;
        }
      }
      :where(
          .wp-block-latest-comments:not(
              [data-amp-original-style*="line-height"]
                .wp-block-latest-comments__comment
            )
        ) {
        line-height: 1.1;
      }
      :where(
          .wp-block-latest-comments:not(
              [data-amp-original-style*="line-height"]
                .wp-block-latest-comments__comment-excerpt
                p
            )
        ) {
        line-height: 1.8;
      }
      :root :where(.wp-block-latest-posts.is-grid) {
        padding: 0;
      }
      :root :where(.wp-block-latest-posts.wp-block-latest-posts__list) {
        padding-left: 0;
      }
      ol,
      ul {
        box-sizing: border-box;
      }
      :root :where(.wp-block-list.has-background) {
        padding: 1.25em 2.375em;
      }
      :where(
          .wp-block-navigation.has-background
            .wp-block-navigation-item
            a:not(.wp-element-button)
        ),
      :where(
          .wp-block-navigation.has-background
            .wp-block-navigation-submenu
            a:not(.wp-element-button)
        ) {
        padding: 0.5em 1em;
      }
      :where(
          .wp-block-navigation
            .wp-block-navigation__submenu-container
            .wp-block-navigation-item
            a:not(.wp-element-button)
        ),
      :where(
          .wp-block-navigation
            .wp-block-navigation__submenu-container
            .wp-block-navigation-submenu
            a:not(.wp-element-button)
        ),
      :where(
          .wp-block-navigation
            .wp-block-navigation__submenu-container
            .wp-block-navigation-submenu
            button.wp-block-navigation-item__content
        ),
      :where(
          .wp-block-navigation
            .wp-block-navigation__submenu-container
            .wp-block-pages-list__item
            button.wp-block-navigation-item__content
        ) {
        padding: 0.5em 1em;
      }
      @keyframes overlay-menu__fade-in-animation {
        0% {
          opacity: 0;
          transform: translateY(0.5em);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      :root :where(p.has-background) {
        padding: 1.25em 2.375em;
      }
      :where(p.has-text-color:not(.has-link-color)) a {
        color: inherit;
      }
      :where(.wp-block-post-excerpt) {
        box-sizing: border-box;
        margin-bottom: var(--wp--style--block-gap);
        margin-top: var(--wp--style--block-gap);
      }
      :where(.wp-block-preformatted.has-background) {
        padding: 1.25em 2.375em;
      }
      :where(.wp-block-search__button) {
        border: 1px solid #ccc;
        padding: 6px 10px;
      }
      :where(.wp-block-search__input) {
        font-family: inherit;
        font-size: inherit;
        font-style: inherit;
        font-weight: inherit;
        letter-spacing: inherit;
        line-height: inherit;
        text-transform: inherit;
      }
      :where(.wp-block-search__button-inside .wp-block-search__inside-wrapper) {
        border: 1px solid #949494;
        box-sizing: border-box;
        padding: 4px;
      }
      :where(.wp-block-search__button-inside .wp-block-search__inside-wrapper)
        :where(.wp-block-search__button) {
        padding: 4px 8px;
      }
      :root :where(.wp-block-separator.is-style-dots) {
        height: auto;
        line-height: 1;
        text-align: center;
      }
      :root :where(.wp-block-separator.is-style-dots):before {
        color: currentColor;
        content: "···";
        font-family: serif;
        font-size: 1.5em;
        letter-spacing: 2em;
        padding-left: 2em;
      }
      :root :where(.wp-block-site-logo.is-style-rounded) {
        border-radius: 9999px;
      }
      :root :where(.wp-block-social-links .wp-social-link a) {
        padding: 0.25em;
      }
      :root
        :where(.wp-block-social-links.is-style-logos-only .wp-social-link a) {
        padding: 0;
      }
      :root
        :where(.wp-block-social-links.is-style-pill-shape .wp-social-link a) {
        padding-left: 0.6666666667em;
        padding-right: 0.6666666667em;
      }
      :root :where(.wp-block-tag-cloud.is-style-outline) {
        display: flex;
        flex-wrap: wrap;
        gap: 1ch;
      }
      :root :where(.wp-block-tag-cloud.is-style-outline a) {
        border: 1px solid;
        margin-right: 0;
        padding: 1ch 2ch;
      }
      :root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_)
        :where(.wp-block-tag-cloud.is-style-outline a) {
        font-size: unset;
        text-decoration: none;
      }
      :root :where(.wp-block-table-of-contents) {
        box-sizing: border-box;
      }
      :where(.wp-block-term-description) {
        box-sizing: border-box;
        margin-bottom: var(--wp--style--block-gap);
        margin-top: var(--wp--style--block-gap);
      }
      :where(pre.wp-block-verse) {
        font-family: inherit;
      }
      :root {
        --wp--preset--font-size--normal: 16px;
        --wp--preset--font-size--huge: 42px;
      }
      :root .has-very-dark-gray-color {
        color: #313131;
      }
      html :where(.has-border-color) {
        border-style: solid;
      }
      html :where([data-amp-original-style*="border-top-color"]) {
        border-top-style: solid;
      }
      html :where([data-amp-original-style*="border-right-color"]) {
        border-right-style: solid;
      }
      html :where([data-amp-original-style*="border-bottom-color"]) {
        border-bottom-style: solid;
      }
      html :where([data-amp-original-style*="border-left-color"]) {
        border-left-style: solid;
      }
      html :where([data-amp-original-style*="border-width"]) {
        border-style: solid;
      }
      html :where([data-amp-original-style*="border-top-width"]) {
        border-top-style: solid;
      }
      html :where([data-amp-original-style*="border-right-width"]) {
        border-right-style: solid;
      }
      html :where([data-amp-original-style*="border-bottom-width"]) {
        border-bottom-style: solid;
      }
      html :where([data-amp-original-style*="border-left-width"]) {
        border-left-style: solid;
      }
      html :where(amp-img[class*="wp-image-"]),
      html :where(amp-anim[class*="wp-image-"]) {
        height: auto;
        max-width: 100%;
      }
      :where(figure) {
        margin: 0 0 1em;
      }
      html :where(.is-position-sticky) {
        --wp-admin--admin-bar--position-offset: var(
          --wp-admin--admin-bar--height,
          0px
        );
      }
      @media screen and (max-width: 600px) {
        html :where(.is-position-sticky) {
          --wp-admin--admin-bar--position-offset: 0px;
        }
      }
      :root :where(.wp-block-image figcaption) {
        color: #555;
        font-size: 13px;
        text-align: center;
      }
      .wp-block-image {
        margin: 0 0 1em;
      }
      :where(.wp-block-group.has-background) {
        padding: 1.25em 2.375em;
      }
      :root :where(.wp-block-template-part.has-background) {
        margin-bottom: 0;
        margin-top: 0;
        padding: 1.25em 2.375em;
      }
      amp-img.amp-wp-enforced-sizes[layout="intrinsic"] > img {
        object-fit: contain;
      }
      .amp-wp-enforced-sizes {
        max-width: 100%;
        margin: 0 auto;
      }
      html {
        background: #0a89c0;
      }
      body {
        background: #fff;
        color: #353535;
        font-family: Georgia, "Times New Roman", Times, Serif;
        font-weight: 300;
        line-height: 1.75em;
      }
      p,
      ol,
      ul,
      figure {
        margin: 0 0 1em;
        padding: 0;
      }
      a,
      a:visited {
        color: #0a89c0;
      }
      a:hover,
      a:active,
      a:focus {
        color: #353535;
      }
      .amp-wp-meta,
      .amp-wp-header div,
      .amp-wp-title,
      .amp-wp-tax-category,
      .amp-wp-tax-tag,
      .amp-wp-comments-link,
      .amp-wp-footer p,
      .back-to-top {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
      }
      .amp-wp-header {
        background-color: #0a89c0;
      }
      .amp-wp-header div {
        color: #fff;
        font-size: 1em;
        font-weight: 400;
        margin: 0 auto;
        max-width: calc(840px - 32px);
        padding: 0.875em 16px;
        position: relative;
      }
      .amp-wp-header a {
        color: #fff;
        text-decoration: none;
      }
      .amp-wp-header .amp-wp-site-icon {
        background-color: #fff;
        border: 1px solid #fff;
        border-radius: 50%;
        position: absolute;
        right: 18px;
        top: 10px;
      }
      .amp-wp-article {
        color: #353535;
        font-weight: 400;
        margin: 1.5em auto;
        max-width: 840px;
        overflow-wrap: break-word;
        word-wrap: break-word;
      }
      .amp-wp-article-header {
        align-items: center;
        align-content: stretch;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 1.5em 16px 0;
      }
      .amp-wp-title {
        color: #353535;
        display: block;
        flex: 1 0 100%;
        font-weight: 900;
        margin: 0 0 0.625em;
        width: 100%;
      }
      .amp-wp-meta {
        color: #696969;
        display: inline-block;
        flex: 2 1 50%;
        font-size: 0.875em;
        line-height: 1.5em;
        margin: 0 0 1.5em;
        padding: 0;
      }
      .amp-wp-article-header .amp-wp-meta:last-of-type {
        text-align: right;
      }
      .amp-wp-article-header .amp-wp-meta:first-of-type {
        text-align: left;
      }
      .amp-wp-byline amp-img,
      .amp-wp-byline .amp-wp-author {
        display: inline-block;
        vertical-align: middle;
      }
      .amp-wp-byline amp-img {
        border: 1px solid #0a89c0;
        border-radius: 50%;
        position: relative;
        margin-right: 6px;
      }
      .amp-wp-posted-on {
        text-align: right;
      }
      .amp-wp-article-content {
        margin: 0 16px;
      }
      .amp-wp-article-content ul,
      .amp-wp-article-content ol {
        margin-left: 1em;
      }
      .amp-wp-article-content amp-img {
        margin: 0 auto;
      }
      .amp-wp-article-footer .amp-wp-meta {
        display: block;
      }
      .amp-wp-tax-category,
      .amp-wp-tax-tag {
        color: #696969;
        font-size: 0.875em;
        line-height: 1.5em;
        margin: 1.5em 16px;
      }
      .amp-wp-comments-link {
        color: #696969;
        font-size: 0.875em;
        line-height: 1.5em;
        text-align: center;
        margin: 2.25em 0 1.5em;
      }
      .amp-wp-comments-link a {
        border-style: solid;
        border-color: #c2c2c2;
        border-width: 1px 1px 2px;
        border-radius: 4px;
        background-color: transparent;
        color: #0a89c0;
        cursor: pointer;
        display: block;
        font-size: 14px;
        font-weight: 600;
        line-height: 18px;
        margin: 0 auto;
        max-width: 200px;
        padding: 11px 16px;
        text-decoration: none;
        width: 50%;
        -webkit-transition: background-color 0.2s ease;
        transition: background-color 0.2s ease;
      }
      .amp-wp-footer {
        border-top: 1px solid #c2c2c2;
        margin: calc(1.5em - 1px) 0 0;
      }
      .amp-wp-footer div {
        margin: 0 auto;
        max-width: calc(840px - 32px);
        padding: 1.25em 16px 1.25em;
        position: relative;
      }
      .amp-wp-footer h2 {
        font-size: 1em;
        line-height: 1.375em;
        margin: 0 0 0.5em;
      }
      .amp-wp-footer p {
        color: #696969;
        font-size: 0.8em;
        line-height: 1.5em;
        margin: 0 85px 0 0;
      }
      .amp-wp-footer a {
        text-decoration: none;
      }
      .back-to-top {
        bottom: 1.275em;
        font-size: 0.8em;
        font-weight: 600;
        line-height: 2em;
        position: absolute;
        right: 16px;
      }
      @font-face {
        font-family: "social-logos";
        src: url("social-logos.eot%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html");
        font-weight: normal;
        font-style: normal;
      }
      @font-face {
        font-family: "social-logos";
        src: url("social-logos.eot%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html");
        src: url("social-logos.eot%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html")
            format("embedded-opentype"),
          url("data:application/font-woff;charset=utf-8;base64,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")
            format("woff"),
          url("social-logos.ttf%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html")
            format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      :root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-b5ef888 {
        font-size: 22px;
      }
      :root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-5974883 {
        font-size: 26px;
      }

      /*# sourceURL=amp-custom.css */
    </style>
    <!-- This site is optimized with the Yoast SEO plugin v22.7 - https://yoast.com/wordpress/plugins/seo/ -->
    <link
      rel="canonical"
      href="../index.html"
    />
    <script type="application/ld+json" class="yoast-schema-graph">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebPage",
            "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/",
            "url": "https://golangbyexamples.com/using-context-in-golang-complete-guide/",
            "name": "Using Context Package in GO (Golang) - Complete Guide - Welcome To Golang By Example",
            "isPartOf": { "@id": "https://golangbyexamples.com/#website" },
            "primaryImageOfPage": {
              "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/#primaryimage"
            },
            "image": {
              "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/#primaryimage"
            },
            "thumbnailUrl": "https://golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg",
            "datePublished": "2019-12-23T17:44:28+00:00",
            "dateModified": "2021-06-05T18:01:56+00:00",
            "author": {
              "@id": "https://golangbyexamples.com/#/schema/person/8833ea7638dafd763cb1db6c0ca4576f"
            },
            "breadcrumb": {
              "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/#breadcrumb"
            },
            "inLanguage": "en-US",
            "potentialAction": [
              {
                "@type": "ReadAction",
                "target": [
                  "https://golangbyexamples.com/using-context-in-golang-complete-guide/"
                ]
              }
            ]
          },
          {
            "@type": "ImageObject",
            "inLanguage": "en-US",
            "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/#primaryimage",
            "url": "https://golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg",
            "contentUrl": "https://golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg"
          },
          {
            "@type": "BreadcrumbList",
            "@id": "https://golangbyexamples.com/using-context-in-golang-complete-guide/#breadcrumb",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://golangbyexamples.com/"
              },
              {
                "@type": "ListItem",
                "position": 2,
                "name": "Blog",
                "item": "https://golangbyexamples.com/blog/"
              },
              {
                "@type": "ListItem",
                "position": 3,
                "name": "Using Context Package in GO (Golang) &#8211; Complete Guide"
              }
            ]
          },
          {
            "@type": "WebSite",
            "@id": "https://golangbyexamples.com/#website",
            "url": "https://golangbyexamples.com/",
            "name": "Welcome To Golang By Example",
            "description": "",
            "potentialAction": [
              {
                "@type": "SearchAction",
                "target": {
                  "@type": "EntryPoint",
                  "urlTemplate": "https://golangbyexamples.com/?s={search_term_string}"
                },
                "query-input": "required name=search_term_string"
              }
            ],
            "inLanguage": "en-US"
          },
          {
            "@type": "Person",
            "@id": "https://golangbyexamples.com/#/schema/person/8833ea7638dafd763cb1db6c0ca4576f",
            "name": "admin",
            "image": {
              "@type": "ImageObject",
              "inLanguage": "en-US",
              "@id": "https://golangbyexamples.com/#/schema/person/image/",
              "url": "https://secure.gravatar.com/avatar/?s=96&d=mm&r=g",
              "contentUrl": "https://secure.gravatar.com/avatar/?s=96&d=mm&r=g",
              "caption": "admin"
            },
            "url": "https://golangbyexamples.com/author/admin/"
          }
        ]
      }
    </script>
    <!-- / Yoast SEO plugin. -->
  </head>

  <body class="">
    <header id="top" class="amp-wp-header">
      <div>
        <a href="../../index.html">
          <amp-img
            src="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=32%2C32&amp;ssl=1"
            width="32"
            height="32"
            class="amp-wp-site-icon i-amphtml-layout-fixed i-amphtml-layout-size-defined"
            style="width: 32px; height: 32px"
            i-amphtml-layout="fixed"
          ></amp-img>
          <span class="amp-site-title"> Welcome To Golang By Example </span>
        </a>
      </div>
    </header>

    <article class="amp-wp-article">
      <header class="amp-wp-article-header">
        <h1 class="amp-wp-title">
          Using Context Package in GO (Golang) – Complete Guide
        </h1>
        <div class="amp-wp-meta amp-wp-byline">
          <amp-img
            src="https://secure.gravatar.com/avatar/?s=24&amp;d=mm&amp;r=g"
            alt="admin"
            width="24"
            height="24"
            layout="fixed"
            class="i-amphtml-layout-fixed i-amphtml-layout-size-defined"
            style="width: 24px; height: 24px"
            i-amphtml-layout="fixed"
          ></amp-img>
          <span class="amp-wp-author author vcard">admin</span>
        </div>
        <div class="amp-wp-meta amp-wp-posted-on">
          <time datetime="2019-12-23T17:44:28+00:00"> 5 years ago </time>
        </div>
      </header>

      <div class="amp-wp-article-content">
        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>Introduction</strong>:
        </h1>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>Definition:</strong>
        </h2>

        <p class="has-medium-font-size">
          Context is a package provided by GO. Let’s first understand some
          problems that existed already, and which context package tries to
          solve.
        </p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>Problem Statement:</strong>
        </h2>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Let’s say that you started a function and you need to pass some
            common parameters to the downstream functions. You cannot pass these
            common parameters each as an argument to all the downstream
            functions.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            You started a goroutine which in turn start more goroutines and so
            on. Suppose the task that you were doing is no longer needed. Then
            how to inform all child goroutines to gracefully exit so that
            resources can be freed up
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            A task should be finished within a specified timeout of say 2
            seconds. If not it should gracefully exit or return.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            A task should be finished within a deadline eg it should end before
            5 pm . If not finished then it should gracefully exit and return
          </li>
        </ul>

        <p class="has-medium-font-size">
          If you notice all the above problems are quite applicable to HTTP
          requests and but none the less these problems are also applicable to
          many different areas too.
        </p>

        <p class="has-medium-font-size">
          For a web HTTP request, it needs to be canceled when the client has
          disconnected, or the request has to be finished within a specified
          timeout and also requests scope values such as request_id needs to be
          available to all downstream functions.
        </p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>When to Use (Some Use Cases):</strong>
        </h2>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            To pass data to the downstream. Eg.  a HTTP request creates a
            <strong>request_id, request_user </strong>which needs to be passed
            around to all downstream functions for distributed tracing.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            When you want to halt the operation in the midway – A HTTP request
            should be stopped because the client disconnected
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            When you want to halt the operation within a specified time from
            start i.e with timeout – Eg- a HTTP request should be completed in 2
            sec or else should be aborted.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            When you want to halt an operation before a certain time – Eg. A
            cron is running that needs to be aborted in 5 mins if not completed.
          </li>
        </ul>

        <p></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>Context Interface</strong>
        </h1>

        <p class="has-medium-font-size">
          The core of the understanding context is knowing the
          <strong>Context</strong> interface
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">type Context interface {
    //It retures a channel when a context is cancelled, timesout (either when deadline is reached or timeout time has finished)
    Done() &lt;-chan struct{}

    //Err will tell why this context was cancelled. A context is cancelled in three scenarios.
    // 1. With explicit cancellation signal
    // 2. Timeout is reached
    // 3. Deadline is reached
    Err() error

    //Used for handling deallines and timeouts
    Deadline() (deadline time.Time, ok bool)

    //Used for passing request scope values
    Value(key interface{}) interface{}
}</code></pre>

        <p></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>Creating New Context</strong>
        </h1>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.Background():</strong>
        </h2>

        <p class="has-medium-font-size">
          context package function Background() returns a empty Context which
          implements the <strong>Context</strong> interface
        </p>

        <ol class="has-medium-font-size wp-block-list">
          <li>It has no values</li>
          <li>It is never canceled</li>
          <li>It has no deadline</li>
        </ol>

        <p class="has-medium-font-size">
          Then what is the use context.Background(). context.Background() serves
          as the root of all context which will be derived from it. It will be
          more clear as we go along
        </p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.ToDo():</strong>
        </h2>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            context package ToDo function returns an empty Context. This context
            is used when the surrounding function has not been passed a context
            and one wants to use the context as a placeholder in the current
            function and plans to add actual context in the near future. One use
            of adding it as a placeholder is that it helps in validation in the
            Static Code Analysis tool.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>It is also an empty Context same as context.Background()</li>
        </ul>

        <p class="has-medium-font-size">
          The above two methods describe a way of creating new contexts. More
          context can be derived from these contexts. This is where context tree
          comes into the picture
        </p>

        <p></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>Context Tree</strong>
        </h1>

        <p class="has-medium-font-size">
          Before understanding Context Tree please make sure that it is
          implicitly created in the background when using
          <strong>context</strong>. You will find no mention of in go context
          package itself.
        </p>

        <p class="has-medium-font-size">
          Whenever you use context, then the empty Context got from
          context.Background() is the root of all context. context.ToDo() also
          acts like root context but as mentioned above it is more like a
          context placeholder for future use. This empty context has no
          functionality at all and we can add functionality by deriving a new
          context from this. Basically a new context is created by wrapping an
          already existing immutable context and adding additional information.
          Let's see some example of a context tree which gets created
        </p>

        <p></p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Two level tree</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">rootCtx := context.Background()
childCtx := context.WithValue(rootCtx, "msgId", "someMsgId")</code></pre>

        <p class="has-medium-font-size">In above</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>rootCtx</strong> is the empty Context with no functionality
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childCtx</strong> is derived from rootCtx and has the
            functionality of storing request-scoped values. In above example it
            is storing key-value pair of  {"msgId" : "someMsgId"}
          </li>
        </ul>

        <p></p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Three level tree</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">rootCtx := context.Background()
childCtx := context.WithValue(rootCtx, "msgId", "someMsgId")
childOfChildCtx, cancelFunc := context.WithCancel(childCtx)</code></pre>

        <p class="has-medium-font-size">In above</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>rootCtx</strong> is the empty Context with no functionality
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childCtx</strong> is derived from rootCtx and has the
            functionality of storing request-scoped values. In above example it
            is storing key-value pair of  {"msgId" : "someMsgId"}
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childOfChildCtx</strong> is derived from childCtx . It has
            the functionality of storing request-scoped values and also it has
            the functionality of triggering cancellation signals. cancelFunc can
            be used to trigger cancellation signals
          </li>
        </ul>

        <p></p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Multi-level tree</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">rootCtx := context.Background()
childCtx1 := context.WithValue(rootCtx, "msgId", "someMsgId")
childCtx2, cancelFunc := context.WithCancel(childCtx1)
childCtx3 := context.WithValue(rootCtx, "user_id", "some_user_id)</code></pre>

        <p class="has-medium-font-size">In above:</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>rootCtx</strong> is the empty Context with no functionality
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childCtx1</strong> is derived from
            <strong>rootCtx</strong> and has the functionality of storing
            request-scoped values. In above example it is storing key-value pair
            of  {"msgId" : "someMsgId"}
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childCtx2</strong> is derived from
            <strong>childCtx1</strong> . It has the functionality of triggering
            cancellation signals. cancelFunc can be used to trigger cancellation
            signals
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            <strong>childCtx3</strong> is derived from
            <strong>rootCtx</strong> . It has the functionality of storing the
            current user
          </li>
        </ul>

        <p class="has-medium-font-size">
          Above three-level tree would look like below
        </p>

        <figure class="wp-block-image size-large">
          <amp-img
            width="261"
            height="206"
            src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg?resize=261%2C206&amp;ssl=1"
            alt=""
            class="wp-image-4117 amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined"
            layout="intrinsic"
            i-amphtml-layout="intrinsic"
            ><i-amphtml-sizer class="i-amphtml-sizer"
              ><img
                alt=""
                aria-hidden="true"
                class="i-amphtml-intrinsic-sizer"
                role="presentation"
                src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIwNicgd2lkdGg9JzI2MScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4=" /></i-amphtml-sizer
            ><noscript
              ><img
                loading="lazy"
                decoding="async"
                width="261"
                height="206"
                src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree.jpg?resize=261%2C206&amp;ssl=1"
                alt=""
                class="wp-image-4117" /></noscript
          ></amp-img>
        </figure>

        <p class="has-medium-font-size">
          As since it is a tree, it is also possible to create more childs for a
          particular node. For eg we can derive a new context
          <strong>childCtx4</strong> from <strong>childCtx1</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">childCtx4 := context.WithValue(childCtx1, "current_time", "some_time)</code></pre>

        <p class="has-medium-font-size">
          Tree with above node added would like below:
        </p>

        <figure class="wp-block-image size-large">
          <amp-img
            width="231"
            height="206"
            src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree-2-1.jpg?resize=231%2C206&amp;ssl=1"
            alt=""
            class="wp-image-4120 amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined"
            layout="intrinsic"
            i-amphtml-layout="intrinsic"
            ><i-amphtml-sizer class="i-amphtml-sizer"
              ><img
                alt=""
                aria-hidden="true"
                class="i-amphtml-intrinsic-sizer"
                role="presentation"
                src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIwNicgd2lkdGg9JzIzMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4=" /></i-amphtml-sizer
            ><noscript
              ><img
                loading="lazy"
                decoding="async"
                width="231"
                height="206"
                src="https://i2.wp.com/golangbyexamples.com/wp-content/uploads/2020/09/Context-Tree-2-1.jpg?resize=231%2C206&amp;ssl=1"
                alt=""
                class="wp-image-4120" /></noscript
          ></amp-img>
        </figure>

        <p class="has-medium-font-size">
          At this very moment, it might not be clear how WithValue() or
          WithCancel() function is used. Right now just understand that whenever
          using context, a context tree is created with root as the
          <strong>emptyCtx </strong>. These functions will get clear as we move
          on
        </p>

        <p></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>Deriving From Context</strong>
        </h1>

        <p class="has-medium-font-size">
          A derived context is can be created in 4 ways<br />
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Passing request-scoped values  -  using
            <strong>WithValue() </strong>function of context package
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            With cancellation signals - using
            <strong>WithCancel() </strong>function of context package
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            With deadlines - using <strong>WithDeadine() </strong>function of
            context package
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            With timeouts - using <strong>WithTimeout() </strong>function of
            context package
          </li>
        </ul>

        <p class="has-medium-font-size">
          Let's understand each of the above in details
        </p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.WithValue() </strong>
        </h2>

        <p
          class="has-very-dark-gray-color has-text-color amp-wp-b5ef888"
          data-amp-original-style="font-size:22px"
        >
          Used for passing request-scoped values. The complete signature of the
          function is
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">withValue(parent Context, key, val interface{}) (ctx Context)</code></pre>

        <p class="has-medium-font-size">
          It takes in a parent context, key, value and returns a derived
          context  This derived context has <strong>key</strong> associated with
          the <strong>value</strong>. Here the parent context can be either
          context.Background() or any other context. Further, any context which
          is derived from this context will have this value.
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">#Root Context
ctxRoot := context.Background() - #Root context 

#Below ctxChild has acess to only one pair {"a":"x"}
ctxChild := context.WithValue(ctxRoot, "a", "x") 

#Below ctxChildofChild has access to both pairs {"a":"x", "b":"y"} as it is derived from ctxChild
ctxChildofChild := context.WithValue(ctxChild, "b", "y") 
</code></pre>

        <p></p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Example:</strong>
        </p>

        <p class="has-medium-font-size">
          Complete Working example of <strong>withValue(). </strong>In the below
          example, we are injecting a msgId for each incoming request. If you
          notice in below program
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            inejctMsgID is a net HTTP middleware function that populates the
            <strong>"msgID"</strong> field in context
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            HelloWorld is the handler function for api "localhost:8080/welcome"
            which gets this msgID from context and sends it back as response
            headers
          </li>
        </ul>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">package main

import (
    "context"
    "net/http"
    "github.com/google/uuid"
)

func main() {
    helloWorldHandler := http.HandlerFunc(HelloWorld)
    http.Handle("/welcome", inejctMsgID(helloWorldHandler))
    http.ListenAndServe(":8080", nil)
}

//HelloWorld hellow world handler
func HelloWorld(w http.ResponseWriter, r *http.Request) {
    msgID := ""
    if m := r.Context().Value("msgId"); m != nil {
        if value, ok := m.(string); ok {
            msgID = value
        }
    }
    w.Header().Add("msgId", msgID)
    w.Write([]byte("Hello, world"))
}

func inejctMsgID(next http.Handler) http.Handler {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        msgID := uuid.New().String()
        ctx := context.WithValue(r.Context(), "msgId", msgID)
        req := r.WithContext(ctx)
        next.ServeHTTP(w, req)
        
    })
}</code></pre>

        <p class="has-medium-font-size">
          Simply do a curl call to the above request after running the above
          program
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">curl -v http://localhost/welcome</code></pre>

        <p class="has-medium-font-size">
          Here will be the response. Notice the <strong>MsgId </strong>that gets
          populated in the response headers. The injectMsgId function acts as
          middleware and injects a unique msgId to the request context.
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-">curl -v http://localhost:8080/welcome
*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; GET /do HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 200 OK
&lt; Msgid: a03ff1d4-1464-42e5-a0a8-743c5af29837
&lt; Date: Mon, 23 Dec 2019 16:51:01 GMT
&lt; Content-Length: 12
&lt; Content-Type: text/plain; charset=utf-8
&lt; 
* Connection #0 to host localhost left intact</code></pre>

        <p></p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.WithCancel() </strong>
        </h2>

        <p class="has-very-dark-gray-color has-text-color has-medium-font-size">
          Used for cancellation signals. Below is the signature of
          <strong>WithCancel() </strong>function
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">func WithCancel(parent Context) (ctx Context, cancel CancelFunc)</code></pre>

        <p class="has-medium-font-size">
          <strong>context.WithCancel()</strong> function returns two things
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>Copy of the parentContext with the new done channel.</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>A cancel function which when called closes this done channel</li>
        </ul>

        <p class="has-medium-font-size">
          Only the creator of this context should call the cancel function. It
          is highly not recommended to pass around the
          <strong>cancel </strong>function. Lets understand
          <strong>withCancel </strong>with an example.
        </p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Example:</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">package main

import (
    "context"
    "fmt"
    "time"
)

func main() {
    ctx := context.Background()
    cancelCtx, cancelFunc := context.WithCancel(ctx)
    go task(cancelCtx)
    time.Sleep(time.Second * 3)
    cancelFunc()
    time.Sleep(time.Second * 1)
}

func task(ctx context.Context) {
    i := 1
    for {
        select {
        case &lt;-ctx.Done():
            fmt.Println("Gracefully exit")
            fmt.Println(ctx.Err())
            return
        default:
            fmt.Println(i)
            time.Sleep(time.Second * 1)
            i++
        }
    }
}</code></pre>

        <p class="has-medium-font-size"><strong>Output:</strong></p>

        <pre class="wp-block-prismatic-blocks"><code class="language-go">1
2
3
Gracefully exit
context canceled</code></pre>

        <p class="has-medium-font-size">In the above program</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            task function will gracefully exit once the
            <strong>cancelFunc </strong>is called. Once the cancelFunc is
            called, the error string is set to
            <strong>"context cancelled" </strong>by the context package. That is
            why the output of <strong>ctx.Err()</strong> is
            <strong>"context cancelled"</strong>
          </li>
        </ul>

        <p></p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.WithTimeout() </strong>
        </h2>

        <p class="has-medium-font-size">
          Used for time-based cancellation. The signature of the function is
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)</code></pre>

        <p class="has-medium-font-size">
          <strong>context.WithTimeout()</strong> function  will
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Will return a copy of the parentContext with the new done channel.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Accept a timeout duration after which this done channel will be
            closed and context will be canceled
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            A cancel function which can be called in case the context needs to
            be canceled before timeout.  
          </li>
        </ul>

        <p class="has-medium-font-size">Lets see an example</p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Example:</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">package main

import (
    "context"
    "fmt"
    "time"
)

func main() {
    ctx := context.Background()
    cancelCtx, cancel := context.WithTimeout(ctx, time.Second*3)
    defer cancel()
    go task1(cancelCtx)
    time.Sleep(time.Second * 4)
}

func task1(ctx context.Context) {
    i := 1
    for {
        select {
        case &lt;-ctx.Done():
            fmt.Println("Gracefully exit")
            fmt.Println(ctx.Err())
            return
        default:
            fmt.Println(i)
            time.Sleep(time.Second * 1)
            i++
        }
    }
}</code></pre>

        <p class="has-medium-font-size"><strong>Output:</strong></p>

        <pre class="wp-block-prismatic-blocks"><code class="language-go">1
2
3
Gracefully exit
context deadline exceeded</code></pre>

        <p class="has-medium-font-size">In the above program</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            task function will gracefully exit once the timeout of 3 seconds is
            completed. The error string is set to "context deadline exceeded" by
            the context package. That is why the output of ctx.Err() is "context
            deadline exceeded"
          </li>
        </ul>

        <p></p>

        <p></p>

        <h2 class="has-vivid-green-cyan-color has-text-color wp-block-heading">
          <strong>context.WithDeadline() </strong>
        </h2>

        <p class="has-very-dark-gray-color has-text-color has-medium-font-size">
          Used for deadline-based cancellation. The signature of the function is
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">func WithDeadline(parent Context, d time.Time) (Context, CancelFunc)</code></pre>

        <p class="has-medium-font-size">
          <strong>context.WithDeadline()</strong> function
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Will return a copy of the parentContext with the new done channel.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Accept a deadline after which this done channel will be closed and
            context will be canceled
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            A cancel function which can be called in case the context needs to
            be canceled before the deadline is reached.
          </li>
        </ul>

        <p class="has-medium-font-size">Let's see an example</p>

        <p
          class="has-vivid-purple-color has-text-color amp-wp-5974883"
          data-amp-original-style="font-size:26px"
        >
          <strong>Example:</strong>
        </p>

        <pre
          class="wp-block-prismatic-blocks"
        ><code class="language-go">package main

import (
    "context"
    "fmt"
    "time"
)

func main() {
    ctx := context.Background()
    cancelCtx, cancel := context.WithDeadline(ctx, time.Now().Add(time.Second*5))
    defer cancel()
    go task(cancelCtx)
    time.Sleep(time.Second * 6)
}

func task(ctx context.Context) {
    i := 1
    for {
        select {
        case &lt;-ctx.Done():
            fmt.Println("Gracefully exit")
            fmt.Println(ctx.Err())
            return
        default:
            fmt.Println(i)
            time.Sleep(time.Second * 1)
            i++
        }
    }
}</code></pre>

        <p class="has-medium-font-size"><strong>Output:</strong></p>

        <pre class="wp-block-prismatic-blocks"><code class="language-go">1
2
3
4
5
Gracefully exit
context deadline exceeded</code></pre>

        <p class="has-medium-font-size">In the above program</p>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            task function will gracefully exit once the timeout of 5 seconds is
            completed as we gave the deadline of Time.now() + 5 seconds. The
            error string is set to "context deadline exceeded" by the context
            package. That is why the output of ctx.Err() is "context deadline
            exceeded"
          </li>
        </ul>

        <p><br /></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>What We Learned</strong>
        </h1>

        <p class="has-vivid-purple-color has-text-color has-medium-font-size">
          <strong>How to create the context</strong>:
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>Using context.Backgroun()</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>Using context.Todo()</li>
        </ul>

        <p class="has-vivid-purple-color has-text-color has-medium-font-size">
          <strong>Context Tree</strong>
        </p>

        <p class="has-vivid-purple-color has-text-color has-medium-font-size">
          <strong>Deriving a new context</strong>
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>context.WithValue()</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>context.WithCancel()</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>context.WithTimeout()</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>contxt.WithDeadline()</li>
        </ul>

        <p></p>

        <h1
          class="has-luminous-vivid-orange-color has-text-color wp-block-heading"
        >
          <strong>BestPractices and Caveats</strong>
        </h1>

        <p class="has-medium-font-size">
          Following is a list of best practices that you can follow while using
          a context.
        </p>

        <ul class="has-medium-font-size wp-block-list">
          <li>Do not store a context within a struct type</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Context should flow through your program. For example, in case of an
            HTTP request, a new context can be created for each incoming request
            which can be used to hold a request_id or put some common
            information in the context like currently logged in user which might
            be useful for that particular request.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>Always pass context as the first argument to a function.</li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Whenever you are not sure whether to use the context or not, it is
            better to use the context.ToDo() as a placeholder.
          </li>
        </ul>

        <ul class="has-medium-font-size wp-block-list">
          <li>
            Only the parent goroutine or function should the cancel context.
            Therefore do not pass the <strong>cancelFunc </strong>to downstream
            goroutines or functions. Golang will allow you to pass the
            <strong>cancelFunc</strong> around to child goroutines but it is not
            a recommended practice
          </li>
        </ul>
      </div>

      <footer class="amp-wp-article-footer">
        <div class="amp-wp-meta amp-wp-tax-category">
          Categories:
          <a
            href="../../category/tech/index.html"
            rel="category tag"
            >Tech</a
          >
        </div>

        <div class="amp-wp-meta amp-wp-tax-tag">
          Tags:
          <a
            href="../../tag/context-in-golang/index.html"
            rel="tag"
            >context in golang</a
          >,
          <a href="../../tag/explained/index.html" rel="tag"
            >explained</a
          >,
          <a
            href="../../tag/golang-context-explained/index.html"
            rel="tag"
            >golang context explained</a
          >,
          <a href="../../tag/sidetoc/index.html" rel="tag"
            >sidetoc</a
          >
        </div>
        <div class="amp-wp-meta amp-wp-comments-link">
          <a
            href="../index.html#comments"
          >
            Leave a Comment
          </a>
        </div>
      </footer>
    </article>

    <footer class="amp-wp-footer">
      <div>
        <h2>Welcome To Golang By Example</h2>
        <a href="social-logos.ttf%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html#top" class="back-to-top">Back to top</a>
      </div>
    </footer>

    <amp-analytics
      type="gtag"
      data-credentials="include"
      class="i-amphtml-layout-fixed i-amphtml-layout-size-defined"
      style="width: 1px; height: 1px"
      i-amphtml-layout="fixed"
      ><script type="application/json">
        {
          "optoutElementId": "__gaOptOutExtension",
          "vars": {
            "gtag_id": "UA-157093109-1",
            "config": {
              "UA-157093109-1": {
                "groups": "default",
                "linker": { "domains": ["golangbyexamples.com"] }
              }
            }
          }
        }
      </script></amp-analytics
    >
  </body>
</html>
