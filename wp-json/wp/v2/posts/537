{"id":537,"date":"2019-11-13T16:44:50","date_gmt":"2019-11-13T16:44:50","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=537"},"modified":"2021-01-08T21:53:47","modified_gmt":"2021-01-08T16:23:47","slug":"net-http-package-get-query-params-golang","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/","title":{"rendered":"net\/http package get Query Params in Go(Golang)"},"content":{"rendered":"\n<p class=\"has-medium-font-size\"><strong>Note:<\/strong> If you are interested in learning Golang, then for that we have a golang comprehensive tutorial series. Do check it out \u2013\u00a0<a href=\"https:\/\/golangbyexamples.com\/golang-comprehensive-tutorial\/\">Golang Comprehensive Tutorial Series<\/a>. Now let&#8217;s see current tutorial<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Often in the context of an HTTP request, it is required to fetch the query params which are sent as part of the request. A particular query param key value can have one or multiple values. <\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>In below example <strong>filters<\/strong> have one value which is [&#8220;color&#8221;]<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=color<\/code><\/pre>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>In below example <strong>filters<\/strong> have multiple value which is [&#8220;color&#8221;, &#8220;price&#8221;, &#8220;brand&#8221;]. Notice how multiple values are defined<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=red&filters=color&filters=price&filters=brand<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s explore two methods of getting these query params<\/p>\n\n\n\n<h1 class=\"wp-block-heading\">1.<strong>Using reqeust.URL.Query()<\/strong><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The query params lie in the <strong>URL<\/strong> itself. We get Query params via r.URL.Query() which returns <strong>Values <\/strong>which is of map[string][]string. There are two cases: <\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>1.1 When a particular key contains multiple values in a query params. For example, see below request-<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=red&filters=color&filters=price&filters=brand<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Code:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"net\/http\"\n    \"strings\"\n)\n\nfunc main() {\n    getProductsHandler := http.HandlerFunc(getProducts)\n    http.Handle(\"\/products\", getProductsHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n\nfunc getProducts(w http.ResponseWriter, r *http.Request) {\n    query := r.URL.Query()\n    filters, present := query[\"filters\"] \/\/filters=[\"color\", \"price\", \"brand\"]\n    if !present || len(filters) == 0 {\n        fmt.Println(\"filters not present\")\n    }\n    w.WriteHeader(200)\n    w.Write([]byte(strings.Join(filters, \",\")))\n}<\/code><\/pre>\n\n\n\n<p><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">color,price,brand\n<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>1.2 When a particular key contains a single value in query params.  For example, see below request<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=color<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">When we know that a particular key has only one value in the query params, then r.URL.Query().Get(keyName) can also be used. Get function will get the first value associated with the key. If you want to all values then the map has to be directly accessed as we did in the above program. In the below program, we are using Get() on the r.URL.Query() and it returns a single value<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"net\/http\"\n)\n\nfunc main() {\n    getProductsHandler := http.HandlerFunc(getProducts)\n    http.Handle(\"\/products\", getProductsHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n\nfunc getProducts(w http.ResponseWriter, r *http.Request) {\n    query := r.URL.Query()\n    filters := query.Get(\"filters\") \/\/filters=\"color\"\n    w.WriteHeader(200)\n    w.Write([]byte(filters))\n}<\/code><\/pre>\n\n\n\n<p><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">color<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><strong>2.Using request.Form<\/strong><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The query params lie in the <strong>URL<\/strong> itself. We get Query params via r.URL.Query() which returns <strong>values <\/strong>which is of map[string][]string. There are two cases:<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>2.1<\/strong> <strong>When a particular key contains multiple values in a query params. For example, see below request<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=red&filters=color&filters=price&filters=brand<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Code:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"net\/http\"\n    \"strings\"\n)\n\nfunc main() {\n    getProductsHandler := http.HandlerFunc(getProducts)\n    http.Handle(\"\/products\", getProductsHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n\nfunc getProducts(w http.ResponseWriter, r *http.Request) {\n    r.ParseForm()\n    filters, present := r.Form[\"filters\"] \/\/filters=[\"color\", \"price\", \"brand\"]\n    if !present || len(filters) == 0 {\n        fmt.Println(\"filters not present\")\n    }\n    w.WriteHeader(200)\n    w.Write([]byte(strings.Join(filters, \",\")))\n}<\/code><\/pre>\n\n\n\n<p><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">color,price,brand<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<p class=\"has-medium-font-size\">An important point to be noted:<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>While trying to get query param value via r.Form , be careful that in case of POST and PUT request, body parameters will take precedence over URL query string values i.e, if there is a key say <strong>X <\/strong>present in both form body (=&#8221;a&#8221;) and in query param(=&#8221;b&#8221;).&nbsp; Then on calling r.Form[&#8220;X&#8221;] it will return [&#8220;a&#8221;] and not [&#8220;b&#8221;]<\/li><\/ul>\n\n\n\n<p class=\"has-medium-font-size\"><strong>2.2 When a particular key contains a single value in query params. For example, see below request<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">http:\/\/localhost:8080\/products?filters=color<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">When we know that a particular key has only one value in the query params, then r.FormValue(keyName) can also be used. FormValue function will get the first value associated with the key. If you want to all values then request. The form map has to be directly accessed as we did in the above program. In the below program, we are using FormValue() function and it returns a single value.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"net\/http\"\n)\n\nfunc main() {\n    getProductsHandler := http.HandlerFunc(getProducts)\n    http.Handle(\"\/products\", getProductsHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n\nfunc getProducts(w http.ResponseWriter, r *http.Request) {\n    filters := r.FormValue(\"filters\") \/\/filters=[\"color\"]\n    w.WriteHeader(200)\n    w.Write([]byte(filters))\n}<\/code><\/pre>\n\n\n\n<p><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">color<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">An important point to be noted:<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>While trying to get query param value via r.FormValue() , be careful that in case of POST and PUT request, body parameters will take precedence over URL query string values i.e, if there is a key say <strong>X <\/strong>present in both form body (=&#8221;a&#8221;) and in query param(=&#8221;b&#8221;).&nbsp; Then on calling r.Form[&#8220;X&#8221;] it will return [&#8220;a&#8221;] and not [&#8220;b&#8221;]<\/li><\/ul>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Note: If you are interested in learning Golang, then for that we have a golang comprehensive tutorial series. Do check it out \u2013\u00a0Golang Comprehensive Tutorial Series. Now let&#8217;s see current tutorial Often&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[3,57,58,59],"class_list":["post-537","post","type-post","status-publish","format-standard","hentry","category-tech","tag-go","tag-http","tag-net-http","tag-query-params"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"Note: If you are interested in learning Golang, then for that we have a golang comprehensive tutorial series. Do check it out \u2013\u00a0Golang Comprehensive Tutorial Series. Now let&#8217;s see current tutorial Often...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2019-11-13T16:44:50+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-01-08T16:23:47+00:00\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"4 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/\",\"url\":\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/\",\"name\":\"net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"datePublished\":\"2019-11-13T16:44:50+00:00\",\"dateModified\":\"2021-01-08T16:23:47+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"net\/http package get Query Params in Go(Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/","og_locale":"en_US","og_type":"article","og_title":"net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example","og_description":"Note: If you are interested in learning Golang, then for that we have a golang comprehensive tutorial series. Do check it out \u2013\u00a0Golang Comprehensive Tutorial Series. Now let&#8217;s see current tutorial Often...","og_url":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2019-11-13T16:44:50+00:00","article_modified_time":"2021-01-08T16:23:47+00:00","author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"4 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/","url":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/","name":"net\/http package get Query Params in Go(Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"datePublished":"2019-11-13T16:44:50+00:00","dateModified":"2021-01-08T16:23:47+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/net-http-package-get-query-params-golang\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"net\/http package get Query Params in Go(Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-8F","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/537","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=537"}],"version-history":[{"count":15,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/537\/revisions"}],"predecessor-version":[{"id":4909,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/537\/revisions\/4909"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=537"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=537"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=537"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}