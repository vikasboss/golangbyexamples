{"id":2162,"date":"2020-05-18T00:50:03","date_gmt":"2020-05-17T19:20:03","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=2162"},"modified":"2020-05-18T00:50:15","modified_gmt":"2020-05-17T19:20:15","slug":"copy-function-in-golang","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/","title":{"rendered":"Copy function in Go (Golang)"},"content":{"rendered":"\n<p class=\"has-medium-font-size\">go <strong>builtin<\/strong> package provides <strong>copy<\/strong> function that can be used to copy a slice. Below is the signature of this function. It takes in two slices <strong>dst<\/strong> and <strong>src<\/strong>, and copies data from <strong>src<\/strong> to <strong>dst<\/strong>. It returns the number of elements copied.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">func copy(dst, src []Type) int<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">As the signature suggests the copy function can be used to copy slice of different types from src to dst. There are two cases to be considered while using the copy function:<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>If the length of <strong>src<\/strong> is greater than the length of <strong>dst<\/strong>, then the number of elements copied is the length of <strong>dst<\/strong><\/li><\/ul>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>If the length of <strong>dst<\/strong> is greater than length of <strong>src, <\/strong>then number of elements copied is length of <strong>src<\/strong><\/li><\/ul>\n\n\n\n<p class=\"has-medium-font-size\">Basically the number of elements copied is minimum of length of <strong>(src, dst).\u00a0<\/strong><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Also to note that once the copy is done then any change in <strong>dst<\/strong> will not reflect in <strong>src<\/strong> and vice versa unless both <strong>src<\/strong> and <strong>dst<\/strong> refer to the same slice. <\/p>\n\n\n\n<p class=\"has-medium-font-size\">Simple copy example for an integer type illustrating above points<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    src := []int{1, 2, 3, 4, 5}\n    dst := make([]int, 5)\n    numberOfElementsCopied := copy(dst, src)\n\n    fmt.Printf(\"Number Of Elements Copied: %d\\n\", numberOfElementsCopied)\n    fmt.Printf(\"dst: %v\\n\", dst)\n    fmt.Printf(\"src: %v\\n\", src)\n\n    \/\/After changing dst\n    dst[0] = 10\n    fmt.Println(\"\\nAfter changing dst\")\n    fmt.Printf(\"dst: %v\\n\", dst)\n    fmt.Printf(\"src: %v\\n\", src)\n\n    \/\/Length of destination is less than length of source\n    dst = make([]int, 4)\n    numberOfElementsCopied = copy(dst, src)\n    fmt.Println(\"\\nLength of dst less than src\")\n    fmt.Printf(\"Number Of Elements Copied: %d\\n\", numberOfElementsCopied)\n    fmt.Printf(\"dst: %v\\n\", dst)\n    fmt.Printf(\"src: %v\\n\", src)\n\n    \/\/Length of destination is greater than length of source\n    dst = make([]int, 6)\n    numberOfElementsCopied = copy(dst, src)\n    fmt.Println(\"\\nLength of dst less than src\")\n    fmt.Printf(\"Number Of Elements Copied: %d\\n\", numberOfElementsCopied)\n    fmt.Printf(\"dst: %v\\n\", dst)\n    fmt.Printf(\"src: %v\\n\", src)\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Number Of Elements Copied: 5\ndst: [1 2 3 4 5]\nsrc: [1 2 3 4 5]\n\nAfter changing dst\ndst: [10 2 3 4 5]\nsrc: [1 2 3 4 5]\n\nLength of dst less than src\nNumber Of Elements Copied: 4\ndst: [1 2 3 4]\nsrc: [1 2 3 4 5]\n\nLength of dst less than src\nNumber Of Elements Copied: 5\ndst: [1 2 3 4 5 0]\nsrc: [1 2 3 4 5]<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>copy function for string<\/strong><\/p>\n\n\n\n<p class=\"has-medium-font-size\">A string in go is nothing but a sequence of bytes. Hence it is legal to copy a string to a slice of bytes.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    src := \"abc\"\n    dst := make([]byte, 3)\n\n    numberOfElementsCopied := copy(dst, src)\n    fmt.Printf(\"Number Of Elements Copied: %d\\n\", numberOfElementsCopied)\n    fmt.Printf(\"dst: %v\\n\", dst)\n    fmt.Printf(\"src: %v\\n\", src)\\\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Number Of Elements Copied: 3\ndst: [97 98 99]\nsrc: abc<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">While using a copy function the source and destination can overlap too. So it is possible to copy from a slice to itself as well. In below example we copy the last 2 elements of the slice to the starting two elements in same order<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    src := []int{1, 2, 3, 4, 5}\n    numberOfElementsCopied := copy(src, src[3:])\n\n    fmt.Printf(\"Number Of Elements Copied: %d\\n\", numberOfElementsCopied)\n    fmt.Printf(\"src: %v\\n\", src)\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Number Of Elements Copied: 2\nsrc: [4 5 3 4 5]<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Conclusion<\/strong><\/p>\n\n\n\n<p class=\"has-medium-font-size\">This is all about copy function in go. Hope you have liked this article.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>go builtin package provides copy function that can be used to copy a slice. Below is the signature of this function. It takes in two slices dst and src, and copies data&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[],"class_list":["post-2162","post","type-post","status-publish","format-standard","hentry","category-tech"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Copy function in Go (Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Copy function in Go (Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"go builtin package provides copy function that can be used to copy a slice. Below is the signature of this function. It takes in two slices dst and src, and copies data...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2020-05-17T19:20:03+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2020-05-17T19:20:15+00:00\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/\",\"url\":\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/\",\"name\":\"Copy function in Go (Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"datePublished\":\"2020-05-17T19:20:03+00:00\",\"dateModified\":\"2020-05-17T19:20:15+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/copy-function-in-golang\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Copy function in Go (Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Copy function in Go (Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/","og_locale":"en_US","og_type":"article","og_title":"Copy function in Go (Golang) - Welcome To Golang By Example","og_description":"go builtin package provides copy function that can be used to copy a slice. Below is the signature of this function. It takes in two slices dst and src, and copies data...","og_url":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2020-05-17T19:20:03+00:00","article_modified_time":"2020-05-17T19:20:15+00:00","author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"3 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/","url":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/","name":"Copy function in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"datePublished":"2020-05-17T19:20:03+00:00","dateModified":"2020-05-17T19:20:15+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/copy-function-in-golang\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/copy-function-in-golang\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Copy function in Go (Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-yS","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/2162","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=2162"}],"version-history":[{"count":3,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/2162\/revisions"}],"predecessor-version":[{"id":2165,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/2162\/revisions\/2165"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=2162"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=2162"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=2162"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}