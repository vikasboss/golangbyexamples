{"id":859,"date":"2019-12-23T16:41:58","date_gmt":"2019-12-23T16:41:58","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=859"},"modified":"2019-12-23T16:42:05","modified_gmt":"2019-12-23T16:42:05","slug":"comparing-floating-point-numbers-go","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/","title":{"rendered":"Comparing floating point numbers in Golang"},"content":{"rendered":"\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Table of Contents<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#Introduction\" title=\"Introduction\">Introduction<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#Comparing_Same_Float_Types\" title=\"Comparing Same Float Types\">Comparing Same Float Types<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#Comparing_Different_Float_Types\" title=\"Comparing Different Float Types\">Comparing Different Float Types<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#Comparing_Same_Float_Types_With_Tolerance\" title=\"Comparing Same Float Types With Tolerance\">Comparing Same Float Types With Tolerance<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#Comparing_Using_mathbig_package\" title=\"Comparing Using math.big package\">Comparing Using math.big package<\/a><\/li><\/ul><\/nav><\/div>\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Introduction\"><\/span>Introduction<span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Go Lang has two types of floats<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>float32<\/li><li>float64<\/li><\/ul>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Comparing_Same_Float_Types\"><\/span><strong>Comparing Same Float Types<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p>Two floating point numbers can be compared using\u00a0 Go&#8217;s == operator assuming they are the same float types. See below example<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    a := 3.14\n    b := 3.14\n    if a == b {\n        fmt.Println(\"Same\")\n    } else {\n        fmt.Println(\"Not Same\")\n    }\n\n\n    a = 3.142\n    b = 3.14\n    if a == b {\n        fmt.Println(\"Same\")\n    } else {\n        fmt.Println(\"Not Same\")\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Same\nNot Same<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Comparing_Different_Float_Types\"><\/span><strong>Comparing Different Float Types<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Comparison of float32 with float64 will give a compilation error<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n   \n    var a float32\n    var b float64\n    if a == b {\n        fmt.Println(\"Same\")\n    } else {\n        fmt.Println(\"Not Same\")\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">invalid operation: a == b (mismatched types float32 and float64)<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Comparing_Same_Float_Types_With_Tolerance\"><\/span><strong>Comparing Same Float Types With Tolerance<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">If some kind of tolerance is acceptable while comparing float types, then below approach can be used<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"math\"\n)\n\nfunc main() {\n    withTolerane(3.14, 3.141)\n    withTolerane(3.14, 3.142)\n}\n\nfunc withTolerane(a, b float64) {\n    tolerance := 0.001\n    if diff := math.Abs(a - b); diff < tolerance {\n        fmt.Printf(\"When a=%f and b =%f => Nearly same by tolerance\\n\", a, b)\n    } else {\n        fmt.Printf(\"When a=%f and b=%f => Not same Even by Tolerance\\n\", a, b)\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">When a=3.140000 and b =3.141000 => Nearly same by tolerance\nWhen a=3.140000 and b=3.142000 => Not same Even by Tolerance<\/code><\/pre>\n\n\n\n<p><\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Comparing_Using_mathbig_package\"><\/span><strong>Comparing Using math.big package<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The big package supports big numbers and it supports Int, Rational Number and Float. It has a compare method which can be used to compare two floats<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"math\/big\"\n)\n\nfunc main() {\n    a := 3.1432\n    b := 3.1456\n    \/\/ compare a to b\n    result := big.NewFloat(a).Cmp(big.NewFloat(b))\n    \n    \/\/ -1 if a < b\n    if result < 0 {\n        fmt.Println(\"a less than b\")\n    }\n    \n    \/\/ 0 if a == b\n    if result == 0 {\n        fmt.Println(\"a  equals to b\")\n    }\n    \n    \/\/ +1 if a > b\n    if result > 0 {\n        fmt.Println(\"a 1 more than b\")\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">a less than b<\/code><\/pre>\n","protected":false},"excerpt":{"rendered":"<p>Table of Contents IntroductionComparing Same Float TypesComparing Different Float TypesComparing Same Float Types With ToleranceComparing Using math.big package Introduction Go Lang has two types of floats float32 float64 Comparing Same Float Types&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[113,114,115],"class_list":["post-859","post","type-post","status-publish","format-standard","hentry","category-tech","tag-compare","tag-float","tag-floating-point-numbers-in-go"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Comparing floating point numbers in Golang - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Comparing floating point numbers in Golang - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"Table of Contents IntroductionComparing Same Float TypesComparing Different Float TypesComparing Same Float Types With ToleranceComparing Using math.big package Introduction Go Lang has two types of floats float32 float64 Comparing Same Float Types...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2019-12-23T16:41:58+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2019-12-23T16:42:05+00:00\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/\",\"url\":\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/\",\"name\":\"Comparing floating point numbers in Golang - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"datePublished\":\"2019-12-23T16:41:58+00:00\",\"dateModified\":\"2019-12-23T16:42:05+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Comparing floating point numbers in Golang\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Comparing floating point numbers in Golang - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/","og_locale":"en_US","og_type":"article","og_title":"Comparing floating point numbers in Golang - Welcome To Golang By Example","og_description":"Table of Contents IntroductionComparing Same Float TypesComparing Different Float TypesComparing Same Float Types With ToleranceComparing Using math.big package Introduction Go Lang has two types of floats float32 float64 Comparing Same Float Types...","og_url":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2019-12-23T16:41:58+00:00","article_modified_time":"2019-12-23T16:42:05+00:00","author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"2 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/","url":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/","name":"Comparing floating point numbers in Golang - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"datePublished":"2019-12-23T16:41:58+00:00","dateModified":"2019-12-23T16:42:05+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/comparing-floating-point-numbers-go\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Comparing floating point numbers in Golang"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-dR","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/859","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=859"}],"version-history":[{"count":4,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/859\/revisions"}],"predecessor-version":[{"id":863,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/859\/revisions\/863"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=859"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=859"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=859"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}