{"id":305,"date":"2019-10-20T04:45:36","date_gmt":"2019-10-20T04:45:36","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=305"},"modified":"2021-04-29T22:51:51","modified_gmt":"2021-04-29T17:21:51","slug":"prototype-pattern-go","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/","title":{"rendered":"Prototype Pattern in Go (Golang)"},"content":{"rendered":"\n<p class=\"has-medium-font-size\">Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference  &#8211; <a href=\"https:\/\/golangbyexamples.com\/all-design-patterns-golang\/\">All Design Patterns in Go (Golang)<\/a><\/p>\n\n\n\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Table of Contents<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#Definition\" title=\"Definition:\">Definition:<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#When_to_Use\" title=\"When to Use\">When to Use<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#UML_Diagram\" title=\"UML Diagram\">UML Diagram<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#Mapping\" title=\"Mapping&nbsp;\">Mapping&nbsp;<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#Practical_Example\" title=\"Practical Example:\">Practical Example:<\/a><\/li><\/ul><\/nav><\/div>\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Definition\"><\/span><strong>Definition:<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p class=\"has-medium-font-size\">It is a creational design pattern that lets you create copies of objects. In this pattern, the responsibility of creating the clone objects is delegated to the actual object to clone.<\/p>\n\n\n\n<p class=\"has-medium-font-size\"> The object to be cloned exposes a clone method which returns a clone copy of the object<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"When_to_Use\"><\/span><strong>When to Use<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>We use prototype pattern when the object to be cloned creation process is complex i.e the cloning may involve vases of handling deep copies, hierarchical copies, etc. Moreover, there may be some private members too which cannot be directly accessed.<\/li><li>A copy of the object is created instead of creating a new instance from scratch. This prevents costly operations involved while creating a new object such as database operation.<\/li><li>When you want to create a copy of a new object, but it is only available to you as an interface. Hence you cannot directly create copies of that object.<\/li><\/ul>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"UML_Diagram\"><\/span><strong>UML Diagram<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<figure class=\"wp-block-image\"><img loading=\"lazy\" decoding=\"async\" width=\"639\" height=\"271\" src=\"https:\/\/i1.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg?resize=639%2C271&#038;ssl=1\" alt=\"\" class=\"wp-image-309\" srcset=\"https:\/\/i2.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg?w=639&amp;ssl=1 639w, https:\/\/i2.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg?resize=300%2C127&amp;ssl=1 300w\" sizes=\"auto, (max-width: 639px) 100vw, 639px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Mapping\"><\/span><strong>Mapping&nbsp;<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p class=\"has-medium-font-size\">The below table represents the mapping from the UML diagram actors to actual implementation actors in code.<\/p>\n\n\n\n<figure class=\"wp-block-table is-style-stripes\"><table class=\"has-subtle-pale-blue-background-color has-background\"><tbody><tr><td>prototype interface<\/td><td>inode.go<\/td><\/tr><tr><td>Concrete Prototype 1<\/td><td>file.go<\/td><\/tr><tr><td>Concrete Prototype 2<\/td><td>folder.go<\/td><\/tr><tr><td>client<\/td><td>main.go<\/td><\/tr><\/tbody><\/table><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Practical_Example\"><\/span><strong>Practical Example<\/strong>:<span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p class=\"has-medium-font-size\">In the context of golang let&#8217;s try to understand it with an example of os file system. The os file system has files and folders and folders itself contain files and folders. Each <strong>file<\/strong> and <strong>folder<\/strong> can be represented by an <strong>inode<\/strong> interface. <strong>inode<\/strong> interface also has the <strong>clone<\/strong>() function.<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>inode.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\ntype inode interface {\n    print(string)\n    clone() inode\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>file<\/strong> struct is represented as <\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>file.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\ntype file struct {\n\tname string\n}\n\nfunc (f *file) print(indentation string) {\n\tfmt.Println(indentation + f.name)\n}\n\nfunc (f *file) clone() inode {\n\treturn &file{name: f.name + \"_clone\"}\n}\n<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>folder<\/strong> struct is represented as<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>folder.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\ntype folder struct {\n\tchildrens []inode\n\tname      string\n}\n\nfunc (f *folder) print(indentation string) {\n\tfmt.Println(indentation + f.name)\n\tfor _, i := range f.childrens {\n\t\ti.print(indentation + indentation)\n\t}\n}\n\nfunc (f *folder) clone() inode {\n\tcloneFolder := &folder{name: f.name + \"_clone\"}\n\tvar tempChildrens []inode\n\tfor _, i := range f.childrens {\n\t\tcopy := i.clone()\n\t\ttempChildrens = append(tempChildrens, copy)\n\t}\n\tcloneFolder.childrens = tempChildrens\n\treturn cloneFolder\n}\n<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Since both <strong>file<\/strong> and <strong>folder<\/strong> struct implements the <strong>print<\/strong> and <strong>clone<\/strong> functions, hence they are of type <strong>inode<\/strong>. Also, notice the <strong>clone<\/strong> function in both file and folder. The <strong>clone<\/strong> function in both of them returns a copy of the respective file or folder. While cloning we append the keyword &#8220;_clone&#8221; for the name field. Let&#8217;s write the main function to test things out.<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>main.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    file1 := &file{name: \"File1\"}\n    file2 := &file{name: \"File2\"}\n    file3 := &file{name: \"File3\"}\n    folder1 := &folder{\n        childrens: []inode{file1},\n        name:      \"Folder1\",\n    }\n    folder2 := &folder{\n        childrens: []inode{folder1, file2, file3},\n        name:      \"Folder2\",\n    }\n    fmt.Println(\"\\nPrinting hierarchy for Folder2\")\n    folder2.print(\"  \")\n    cloneFolder := folder2.clone()\n    fmt.Println(\"\\nPrinting hierarchy for clone Folder\")\n    cloneFolder.print(\"  \")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Printing hierarchy for Folder2\n  Folder2\n    Folder1\n        File1\n    File2\n    File3\n\nPrinting hierarchy for clone Folder\n  Folder2_clone\n    Folder1_clone\n        File1_clone\n    File2_clone\n    File3_clone<\/code><\/pre>\n","protected":false},"excerpt":{"rendered":"<p>Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Table of Contents Definition:When to UseUML&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[25,3,4,44],"class_list":["post-305","post","type-post","status-publish","format-standard","hentry","category-tech","tag-design-pattern","tag-go","tag-golang","tag-prototype"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Prototype Pattern in Go (Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Prototype Pattern in Go (Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Table of Contents Definition:When to UseUML...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2019-10-20T04:45:36+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-04-29T17:21:51+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/\",\"url\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/\",\"name\":\"Prototype Pattern in Go (Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg\",\"datePublished\":\"2019-10-20T04:45:36+00:00\",\"dateModified\":\"2021-04-29T17:21:51+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage\",\"url\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg\",\"contentUrl\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg\"},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Prototype Pattern in Go (Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Prototype Pattern in Go (Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/","og_locale":"en_US","og_type":"article","og_title":"Prototype Pattern in Go (Golang) - Welcome To Golang By Example","og_description":"Note: Interested in understanding how all other design patterns can be implemented in GO. Please see this full reference &#8211; All Design Patterns in Go (Golang) Table of Contents Definition:When to UseUML...","og_url":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2019-10-20T04:45:36+00:00","article_modified_time":"2021-04-29T17:21:51+00:00","og_image":[{"url":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg"}],"author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"3 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/","url":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/","name":"Prototype Pattern in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage"},"image":{"@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage"},"thumbnailUrl":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg","datePublished":"2019-10-20T04:45:36+00:00","dateModified":"2021-04-29T17:21:51+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/prototype-pattern-go\/"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#primaryimage","url":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg","contentUrl":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2019\/10\/Prototype-Pattern.jpg"},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/prototype-pattern-go\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Prototype Pattern in Go (Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-4V","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/305","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=305"}],"version-history":[{"count":12,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/305\/revisions"}],"predecessor-version":[{"id":5544,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/305\/revisions\/5544"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=305"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=305"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=305"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}