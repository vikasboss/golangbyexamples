{"id":5157,"date":"2021-02-27T00:02:47","date_gmt":"2021-02-26T18:32:47","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=5157"},"modified":"2021-02-27T00:25:28","modified_gmt":"2021-02-26T18:55:28","slug":"struct-field-validate-presence-golang","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/","title":{"rendered":"Validate the presence of the field in a struct in Go (Golang)"},"content":{"rendered":"\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Table of Contents<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#Overview\" title=\"Overview\">Overview<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#First_Library_go-playgroundvalidator\" title=\"First Library (go-playground\/validator)\">First Library (go-playground\/validator)<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#Second_Library_asaskevichgovalidator\" title=\"Second Library (asaskevich\/govalidator)\">Second Library (asaskevich\/govalidator)<\/a><\/li><\/ul><\/nav><\/div>\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Overview\"><\/span><strong>Overview<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">In this tutorial, we will explore two libraries that can be used to validate the field of a struct in Golang. The two libraries are<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>gopkg.in\/go-playground\/validator.v9 &#8211; <a href=\"https:\/\/pkg.go.dev\/github.com\/go-playground\/validator\">https:\/\/pkg.go.dev\/github.com\/go-playground\/validator<\/a><\/li><\/ul>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li><a href=\"http:\/\/github.com\">github.com<\/a>\/asaskevich\/govalidator &#8211; <a href=\"https:\/\/github.com\/asaskevich\/govalidator\">https:\/\/github.com\/asaskevich\/govalidator<\/a><\/li><\/ul>\n\n\n\n<p class=\"has-medium-font-size\">For this tutorial, we will use the below employee struct<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">type employee struct {\n    Name string\n}<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"First_Library_go-playgroundvalidator\"><\/span><strong>First Library (go-playground\/validator)<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s first see the playground validator library. Below is the code for the same.<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>go.mod<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">module sample.com\/validate\ngo 1.14\nrequire (\n    github.com\/go-playground\/universal-translator v0.17.0 \/\/ indirect\n    github.com\/leodido\/go-urn v1.2.1 \/\/ indirect\n    gopkg.in\/go-playground\/assert.v1 v1.2.1 \/\/ indirect\n    gopkg.in\/go-playground\/validator.v9 v9.31.0\n)<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>main.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\nimport (\n    \"fmt\"\n    \"gopkg.in\/go-playground\/validator.v9\"\n)\n\nvar validate *validator.Validate\n\ntype employee struct {\n    Name string `validate:\"required\"`\n}\n\nfunc main() {\n    e := employee{}\n    err := validateStruct(e)\n    if err != nil {\n        fmt.Printf(\"Error: %s\\n\", err)\n    }\n}\n\nfunc validateStruct(e employee) error {\n    validate = validator.New()\n    err := validate.Struct(e)\n    if err != nil {\n        return err\n    }\n    return nil\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Error: Key: 'employee.Name' Error:Field validation for 'Name' failed on the 'required' tag<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">First, we need to declare the instance of Validate<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">var validate *validator.Validate<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Notice here that we need to associate meta tags with fields of the struct to let the validator know that you want to validate this field. In the above example, we added the tag with the Name field. This tag is interpreted by the playground validate library.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">type employee struct {\n    Name string `validate:\"required\"`\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Then call the Struct method to validate the struct<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">validate.Struct(e)<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">It raises the correct error as we have passed the <strong>Name<\/strong> field as nil<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Second_Library_asaskevichgovalidator\"><\/span><strong>Second Library (asaskevich\/govalidator)<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\"><strong>go.mod<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">module sample.com\/validator\ngo 1.14\n\nrequire github.com\/asaskevich\/govalidator v0.0.0-20200907205600-7a23bdc65eef<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>main.go<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n\t\"fmt\"\n\n\t\"github.com\/asaskevich\/govalidator\"\n)\n\ntype employee struct {\n\tName string `valid:\"required\"`\n}\n\nfunc main() {\n\te := employee{}\n\terr := validateStruct(e)\n\tif err != nil {\n\t\tfmt.Printf(\"Error: %s\\n\", err)\n\t}\n}\n\nfunc validateStruct(e employee) error {\n\t_, err := govalidator.ValidateStruct(e)\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn nil\n\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Error: Name: non zero value required<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Similar to the above example we associated tags with the Name field which govalidator can interpret<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Name string `valid:\"required\"`<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Then we call the <strong>ValidateStruct<\/strong> function and it raises the correct error as we have passed the <strong>Name<\/strong> field as nil<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Table of Contents OverviewFirst Library (go-playground\/validator)Second Library (asaskevich\/govalidator) Overview In this tutorial, we will explore two libraries that can be used to validate the field of a struct in Golang. The two&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[3,4,312],"class_list":["post-5157","post","type-post","status-publish","format-standard","hentry","category-tech","tag-go","tag-golang","tag-validation"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"Table of Contents OverviewFirst Library (go-playground\/validator)Second Library (asaskevich\/govalidator) Overview In this tutorial, we will explore two libraries that can be used to validate the field of a struct in Golang. The two...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2021-02-26T18:32:47+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-02-26T18:55:28+00:00\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/\",\"url\":\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/\",\"name\":\"Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"datePublished\":\"2021-02-26T18:32:47+00:00\",\"dateModified\":\"2021-02-26T18:55:28+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Validate the presence of the field in a struct in Go (Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/","og_locale":"en_US","og_type":"article","og_title":"Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example","og_description":"Table of Contents OverviewFirst Library (go-playground\/validator)Second Library (asaskevich\/govalidator) Overview In this tutorial, we will explore two libraries that can be used to validate the field of a struct in Golang. The two...","og_url":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2021-02-26T18:32:47+00:00","article_modified_time":"2021-02-26T18:55:28+00:00","author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"2 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/","url":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/","name":"Validate the presence of the field in a struct in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"datePublished":"2021-02-26T18:32:47+00:00","dateModified":"2021-02-26T18:55:28+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/struct-field-validate-presence-golang\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Validate the presence of the field in a struct in Go (Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-1lb","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/5157","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=5157"}],"version-history":[{"count":3,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/5157\/revisions"}],"predecessor-version":[{"id":5168,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/5157\/revisions\/5168"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=5157"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=5157"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=5157"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}