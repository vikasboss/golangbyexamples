{"id":3811,"date":"2020-08-14T11:52:32","date_gmt":"2020-08-14T06:22:32","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=3811"},"modified":"2021-10-05T00:07:53","modified_gmt":"2021-10-04T18:37:53","slug":"select-statement-golang","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/select-statement-golang\/","title":{"rendered":"Select Statement in Go (Golang)"},"content":{"rendered":"\n<p class=\"has-medium-font-size\">This is the&nbsp; chapter 25 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013&nbsp;<a href=\"https:\/\/golangbyexamples.com\/golang-comprehensive-tutorial\/\">Golang Comprehensive Tutorial Series<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Next Tutorial<\/strong>&nbsp;\u2013&nbsp;<a href=\"https:\/\/golangbyexamples.com\/error-in-golang\/\">Error<\/a><br><strong>Previous Tutorial<\/strong>&nbsp;\u2013 <a href=\"https:\/\/golangbyexamples.com\/channel-golang\/\">Channel<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Now let\u2019s check out the current tutorial. Below is the table of contents for current tutorial.<\/p>\n\n\n\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Table of Contents<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Overview\" title=\"Overview\">Overview<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Use_of_select_statement\" title=\"Use of&nbsp; select statement\">Use of&nbsp; select statement<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Select_with_send_operation_example\" title=\"Select with send operation example\">Select with send operation example<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Select_with_default_case\" title=\"Select with default case\">Select with default case<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Select_with_blocking_timeout\" title=\"Select with blocking timeout\">Select with blocking timeout<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Empty_select\" title=\"Empty select\">Empty select<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Select_statement_with_an_infinite_for_loop_outside\" title=\"Select statement with an infinite for loop outside\">Select statement with an infinite for loop outside<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Select_statement_with_a_nil_channel\" title=\"Select statement with a nil channel\">Select statement with a nil channel<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Break_keyword_in_Select\" title=\"Break keyword in Select\">Break keyword in Select<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/#Conclusion\" title=\"Conclusion\">Conclusion<\/a><\/li><\/ul><\/nav><\/div>\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Overview\"><\/span><strong>Overview<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Select is similar to switch statement, the difference being that in select each of the case statement waits for a send or receive operation from a channel. Select statement will wait until send or receive operation is completed on any one of the case statements. It is different from the switch statement in the way that each of the case statements will either send or receive operation on a channel whereas in switch each of the case statements is an expression.&nbsp; So a select statement lets you wait on multiple send and receive operations from different channels.&nbsp; Two important points to note about set a statement is<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>The select blocks until any of the case statements are ready.&nbsp;<\/li><li>If multiple case statements are ready then it selects one at random and proceeds.&nbsp;<\/li><\/ul>\n\n\n\n<p class=\"has-medium-font-size\">Below is the format of <strong>select<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">select {\ncase channel_send_or_receive:\n     \/\/Dosomething\ncase channel_send_or_receive:\n     \/\/Dosomething\ndefault:\n     \/\/Dosomething\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Select chooses&nbsp; the case on which send or receive operation on a channel&nbsp;is not blocked and is ready to be executed. If multiple cases are ready to be executed then one is choosen at random.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s see a simple example. We will study about default case later in this tutorial.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    ch1 := make(chan string)\n    ch2 := make(chan string)\n\n    go goOne(ch1)\n    go goTwo(ch2)\n\n    select {\n    case msg1 := <-ch1:\n        fmt.Println(msg1)\n    case msg2 := <-ch2:\n        fmt.Println(msg2)\n    }\n}\n\nfunc goOne(ch chan string) {\n    ch <- \"From goOne goroutine\"\n}\n\nfunc goTwo(ch chan string) {\n    ch <- \"From goTwo goroutine\"\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-\">From goOne goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, we created two channels that are passed to two different goroutines. Then each of the goroutines is sending one value to the channel. In the select, we have two case statements. Each of the two <strong>case<\/strong> statements is waiting for a receive operation to complete on one of the channels. Once any receive operation is complete on any of the channels it is executed and <strong>select<\/strong> exits. So as seen from the output, in the above program, it prints the received value from one of the channels and exits.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">So in the above program since it is not deterministic which of the send operation will complete earlier that is why you will see different outputs if you run the program multiple times. Let's see another program where we will put timeout in the goroutine goTwo before sending the value to the <strong>ch2<\/strong> channel. This will make sure that the send operation on <strong>ch1<\/strong> will be executed earlier than send operation to <strong>ch2<\/strong>.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    ch1 := make(chan string)\n    ch2 := make(chan string)\n\n    go goOne(ch1)\n    go goTwo(ch2)\n\n    select {\n    case msg1 := <-ch1:\n        fmt.Println(msg1)\n    case msg2 := <-ch2:\n        fmt.Println(msg2)\n    }\n}\n\nfunc goOne(ch chan string) {\n    ch <- \"From goOne goroutine\"\n}\n\nfunc goTwo(ch chan string) {\n    time.Sleep(time.Second * 1)\n    ch <- \"From goTwo goroutine\"\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-\">From goOne goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, in select statement the receive operation on <strong>ch1<\/strong> is completed earlier and hence select will always be executing that case statement as also evident from the output<br><\/p>\n\n\n\n<p class=\"has-medium-font-size\">It is also possible to wait for receive operation to complete on both the channels by using a for loop across the select statement. Let's see a program for that<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    ch1 := make(chan string)\n    ch2 := make(chan string)\n    go goOne(ch1)\n    go goTwo(ch2)\n    for i := 0; i < 2; i++ {\n        select {\n        case msg1 := <-ch1:\n            fmt.Println(msg1)\n        case msg2 := <-ch2:\n            fmt.Println(msg2)\n        }\n    }\n}\n\nfunc goOne(ch chan string) {\n    ch <- \"From goOne goroutine\"\n}\n\nfunc goTwo(ch chan string) {\n    ch <- \"From goTwo goroutine\"\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">From goOne goroutine\nFrom goTwo goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, we put a for loop of length two across the select statement. Hence&nbsp;the select statement is executed twice and&nbsp;prints the received value from each of the case statements.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">We mentioned earlier that select can block if any of the case statement is not ready. Let's see an example for that<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    ch1 := make(chan string)\n    select {\n    case msg := <-ch1:\n        fmt.Println(msg)\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">fatal error: all goroutines are asleep - deadlock!<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, we created a channel named <strong>ch1<\/strong>.&nbsp; We then receive from this channel in the select statement.&nbsp; Since no goroutine&nbsp; is sending to this channel hence it results in a deadlock and select statement blocks indefinitely.&nbsp; That is why it gives&nbsp; below output<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">fatal error: all goroutines are asleep - deadlock!<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Use_of_select_statement\"><\/span><strong>Use of&nbsp; select statement<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The select statement is useful if there are multiple goroutines that are sending data to multiple channels concurrently. The select statement can then receive the data concurrently from any of one goroutine and execute the statement which is ready. So select along with channels and goroutines become a very powerful tool for managing synchronization and concurrency.<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Select_with_send_operation_example\"><\/span><strong>Select with send operation example<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">So far we have seen examples of receive operation in select case statements. Let's see an example of send operation as well<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    ch1 := make(chan string)\n    ch2 := make(chan string)\n    go goOne(ch1)\n    go goTwo(ch2)\n    select {\n\n    case msg1 := <-ch1:\n        fmt.Println(msg1)\n    case ch2 <- \"To goTwo goroutine\":\n    }\n}\n\nfunc goOne(ch chan string) {\n    ch <- \"From goOne goroutine\"\n}\n\nfunc goTwo(ch chan string) {\n    msg := <-ch\n    fmt.Println(msg)\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">To goTwo goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Select_with_default_case\"><\/span><strong>Select with default case<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Similar to switch&nbsp;select can also have a default case.&nbsp; This default case will be executed if no send it or receive operation is ready on any of the case statements. So in a way default statement prevents the select from blocking forever. &nbsp;So a very important point to note is that&nbsp;the default statement makes the select non-blocking. If the select statement doesn't contain a default case then it can block forever until one send or receive operation is ready on any case statement. Let's see an example to fully understand it<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    ch1 := make(chan string)\n    select {\n    case msg := <-ch1:\n        fmt.Println(msg)\n    default:\n        fmt.Println(\"Default statement executed\")\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Default statement executed<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program have a select statement which is waiting for receive operation on <strong>ch1<\/strong> and a default statement. Since no goroutine is sending to channel <strong>ch1<\/strong>, hence the default case is executed and select exits. If default case were not there the select would have blocked.<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Select_with_blocking_timeout\"><\/span><strong>Select with blocking timeout<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Blocking timeout in select can be achieved by using <strong>After()<\/strong> function&nbsp;of <strong>time<\/strong> package. Below&nbsp; is the signature of <strong>After()<\/strong> function.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">func After(d Duration) <-chan Time<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">The <strong>After<\/strong> function waits for d duration&nbsp; to finish and then it returns the current time on a channel<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><a href=\"https:\/\/golang.org\/pkg\/time\/#Time.After\">https:\/\/golang.org\/pkg\/time\/#Time.After<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let's see a program of select with timeout<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n\t\"fmt\"\n\t\"time\"\n)\n\nfunc main() {\n\tch1 := make(chan string)\n\tgo goOne(ch1)\n\n\tselect {\n\tcase msg := <-ch1:\n\t\tfmt.Println(msg)\n\tcase <-time.After(time.Second * 1):\n\t\tfmt.Println(\"Timeout\")\n\t}\n}\n\nfunc goOne(ch chan string) {\n\ttime.Sleep(time.Second * 2)\n\tch <- \"From goOne goroutine\"\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Timeout<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above select statement we are waiting for receive operation to complete on <strong>ch1<\/strong>. In other case statement we have <strong>time.After<\/strong>&nbsp;with the duration of 1 second. So essentially this select statement will wait for at least 1 second for receive operation to complete on <strong>ch1<\/strong> and after that the <strong>time.After <\/strong>case statement will be executed.&nbsp; We have put a timeout of more than 1 seconds in the <strong>goOne<\/strong> function and hence we&nbsp; see the <strong>time.After <\/strong>statement getting executed and<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Timeout<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">getting printed as output<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Empty_select\"><\/span><strong>Empty select<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Select block without any case statement is empty select. The empty select will block forever as there is no case statement&nbsp; to execute. It is also one of the way for a goroutine to wait indefinitely. But if this empty select is put in the main goroutine then it will cause a deadlock. Let's see a program<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nfunc main() {\n    select {}\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">fatal error: all goroutines are asleep - deadlock!<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program we have empty select and hence it results in a deadlock that is why you see the output as below<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">fatal error: all goroutines are asleep - deadlock!<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Select_statement_with_an_infinite_for_loop_outside\"><\/span><strong>Select statement with an infinite for loop outside<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">We can have infinite for loop outside a select statement. This will cause the select statement to execute indefinite number of times.So when using for statement with infinite loop outside the select statement, we need to have a way yo break out of the for loop. One of the use case of having infinite for loop outside select statement could be that you are waiting for multiple operations to receive on the same channel for a certain time. See below example<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n\t\"fmt\"\n\t\"time\"\n)\n\nfunc main() {\n\tnews := make(chan string)\n\tgo newsFeed(news)\n\n\tprintAllNews(news)\n}\n\nfunc printAllNews(news chan string) {\n\tfor {\n\t\tselect {\n\t\tcase n := <-news:\n\t\t\tfmt.Println(n)\n\t\tcase <-time.After(time.Second * 1):\n\t\t\tfmt.Println(\"Timeout: News feed finished\")\n\t\t\treturn\n\t\t}\n\t}\n}\n\nfunc newsFeed(ch chan string) {\n\tfor i := 0; i < 2; i++ {\n\t\ttime.Sleep(time.Millisecond * 400)\n\t\tch <- fmt.Sprintf(\"News: %d\", i+1)\n\t}\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">News: 1\nNews: 2\nTimeout: News feed finished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, we have created a channel named <strong>news<\/strong> &nbsp;which will hold data of string type. Then we pass this channel to the <strong>newsfeed<\/strong> function which is pushing the news feed to this channel . In the select statement, we are receiving the news feed from the <strong>news<\/strong> channel. This select statement is inside an infinite for loop &nbsp;so the select statement will be executed multiple times until we&nbsp; exit out of for loop&nbsp;.&nbsp;We also have <strong>time.After <\/strong>with a duration for 1 second as one of the case statements. So this set up will receive all the news from the <strong>news<\/strong> channel for&nbsp; 1&nbsp; second and then exit.&nbsp;<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Select_statement_with_a_nil_channel\"><\/span><strong>Select statement with a nil channel<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Send or receive operation on nil channel blocks forever. Hence a use case of having a nil channel in the select statement is to disable that case statement after the the send or receive operation is completed on that case statement. The channel then can simply be set to nil. That case statement will be&nbsp; ignored when the select statement is executed again and receive or send operation will be waited on another case statement. So it is meant to ignore that case statement and execute the other case statement<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    news := make(chan string)\n    go newsFeed(news)\n    printAllNews(news)\n}\n\nfunc printAllNews(news chan string) {\n    for {\n        select {\n        case n := <-news:\n            fmt.Println(n)\n            news = nil\n        case <-time.After(time.Second * 1):\n            fmt.Println(\"Timeout: News feed finished\")\n            return\n        }\n    }\n}\n\nfunc newsFeed(ch chan string) {\n    for i := 0; i < 2; i++ {\n        time.Sleep(time.Millisecond * 400)\n        ch <- fmt.Sprintf(\"News: %d\", i+1)\n    }\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">News: 1\nTimeout: News feed finished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">The above program is pretty much similar to the program we studied above related to having a select statement inside infinite for loop. The only change being that&nbsp; after we receive the first news, we disabled the case statement by setting the news channel to nil.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">case n := <-news:\n   fmt.Println(n)\n   news = nil<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Hence&nbsp; we only received the first news and after that, it times out. &nbsp;This is the use case of nil channel in the select statement<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Break_keyword_in_Select\"><\/span><strong>Break keyword in Select<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Below is the&nbsp;<strong>break<\/strong>&nbsp;keyword example.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">import \"fmt\"\n\nfunc main() {\n\tch := make(chan string, 1)\n\tch <- \"Before break\"\n\n\tselect {\n\tcase msg := <-ch:\n\t\tfmt.Println(msg)\n\t\tbreak\n\t\tfmt.Println(\"After break\")\n\tdefault:\n\t\tfmt.Println(\"Default case\")\n\t}\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Before break<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>break<\/strong>&nbsp;statement will terminate the execution of innermost statement and below line below will never be executed<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">fmt.Println(\"After break\")<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Conclusion\"><\/span><strong>Conclusion<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">This is all about the select statement in golang. Hope you have liked this article. Please share feedback\/improvements\/mistakes in comments<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Next Tutorial<\/strong>&nbsp;\u2013&nbsp;<a href=\"https:\/\/golangbyexamples.com\/error-in-golang\/\">Error<\/a><br><strong>Previous Tutorial<\/strong>&nbsp;\u2013 <a href=\"https:\/\/golangbyexamples.com\/channel-golang\/\">Channel<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>This is the&nbsp; chapter 25 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013&nbsp;Golang Comprehensive Tutorial Series Next Tutorial&nbsp;\u2013&nbsp;ErrorPrevious Tutorial&nbsp;\u2013 Channel Now let\u2019s check&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[3,4],"class_list":["post-3811","post","type-post","status-publish","format-standard","hentry","category-tech","tag-go","tag-golang"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Select Statement in Go (Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/select-statement-golang\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Select Statement in Go (Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"This is the&nbsp; chapter 25 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013&nbsp;Golang Comprehensive Tutorial Series Next Tutorial&nbsp;\u2013&nbsp;ErrorPrevious Tutorial&nbsp;\u2013 Channel Now let\u2019s check...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/select-statement-golang\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2020-08-14T06:22:32+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-10-04T18:37:53+00:00\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"9 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/select-statement-golang\/\",\"url\":\"https:\/\/golangbyexamples.com\/select-statement-golang\/\",\"name\":\"Select Statement in Go (Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"datePublished\":\"2020-08-14T06:22:32+00:00\",\"dateModified\":\"2021-10-04T18:37:53+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/select-statement-golang\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/select-statement-golang\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/select-statement-golang\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Select Statement in Go (Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Select Statement in Go (Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/select-statement-golang\/","og_locale":"en_US","og_type":"article","og_title":"Select Statement in Go (Golang) - Welcome To Golang By Example","og_description":"This is the&nbsp; chapter 25 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013&nbsp;Golang Comprehensive Tutorial Series Next Tutorial&nbsp;\u2013&nbsp;ErrorPrevious Tutorial&nbsp;\u2013 Channel Now let\u2019s check...","og_url":"https:\/\/golangbyexamples.com\/select-statement-golang\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2020-08-14T06:22:32+00:00","article_modified_time":"2021-10-04T18:37:53+00:00","author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"9 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/select-statement-golang\/","url":"https:\/\/golangbyexamples.com\/select-statement-golang\/","name":"Select Statement in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"datePublished":"2020-08-14T06:22:32+00:00","dateModified":"2021-10-04T18:37:53+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/select-statement-golang\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/select-statement-golang\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/select-statement-golang\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Select Statement in Go (Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-Zt","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3811","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=3811"}],"version-history":[{"count":10,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3811\/revisions"}],"predecessor-version":[{"id":6371,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3811\/revisions\/6371"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=3811"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=3811"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=3811"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}