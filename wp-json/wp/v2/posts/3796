{"id":3796,"date":"2020-08-05T13:26:50","date_gmt":"2020-08-05T07:56:50","guid":{"rendered":"https:\/\/golangbyexamples.com\/?p=3796"},"modified":"2020-11-26T01:06:47","modified_gmt":"2020-11-25T19:36:47","slug":"goroutines-golang","status":"publish","type":"post","link":"https:\/\/golangbyexamples.com\/goroutines-golang\/","title":{"rendered":"Goroutines in Go (Golang)"},"content":{"rendered":"\n<p class=\"has-medium-font-size\">This is the\u00a0 chapter 23 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013\u00a0<a href=\"https:\/\/golangbyexamples.com\/golang-comprehensive-tutorial\/\">Golang Comprehensive Tutorial Series<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Next Tutorial<\/strong>\u00a0\u2013\u00a0<a href=\"https:\/\/golangbyexamples.com\/channel-golang\/\">Channel<\/a><br><strong>Previous Tutorial<\/strong>\u00a0\u2013 <a href=\"https:\/\/golangbyexamples.com\/iota-in-golang\">Iota<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Now let\u2019s check out the current tutorial. Below is the table of contents for current tutorial.<\/p>\n\n\n\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">Table of Contents<\/p>\n<span class=\"ez-toc-title-toggle\"><a class=\"ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle\" style=\"display: none;\"><i class=\"ez-toc-glyphicon ez-toc-icon-toggle\"><\/i><\/a><\/span><\/div>\n<nav><ul class=\"ez-toc-list ez-toc-list-level-1\"><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Overview\" title=\"Overview\">Overview<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Start_a_go_routine\" title=\"Start a go routine\">Start a go routine<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Main_goroutine\" title=\"Main goroutine\">Main goroutine<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Creating_Multiple_Goroutines\" title=\"Creating Multiple Goroutines\">Creating Multiple Goroutines<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Scheduling_of_the_goroutines\" title=\"Scheduling of the goroutines\">Scheduling of the goroutines<\/a><ul class=\"ez-toc-list-level-2\"><li class=\"ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Local_run_queue\" title=\"Local run queue \">Local run queue <\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-2\"><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Global_Run_Queue\" title=\"Global Run Queue\">Global Run Queue<\/a><\/li><\/ul><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Golang_scheduler_is_a_Cooperative_Scheduler\" title=\"Golang scheduler is a Cooperative Scheduler\">Golang scheduler is a Cooperative Scheduler<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Advantages_of_goroutines_over_threads\" title=\"Advantages of goroutines over threads\">Advantages of goroutines over threads<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Anonymous_Goroutines\" title=\"Anonymous Goroutines\">Anonymous Goroutines<\/a><\/li><li class=\"ez-toc-page-1 ez-toc-heading-level-1\"><a class=\"ez-toc-link ez-toc-heading-11\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/#Conclusion\" title=\"Conclusion\">Conclusion<\/a><\/li><\/ul><\/nav><\/div>\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Overview\"><\/span><strong>Overview<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Goroutines can be thought of as a lightweight thread that has a separate independent execution and which can execute concurrently with other goroutines. It is a function or method that is executing concurrently with other goroutines. It is entirely managed by the GO runtime. Golang is a concurrent language. Each goroutine is an independent execution.&nbsp; It is goroutine that helps achieve concurrency in golang<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Start_a_go_routine\"><\/span><strong>Start a go routine<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Golang uses a special keyword <strong>&#8216;go&#8217;<\/strong>&nbsp; for starting a goroutine. To start one just add <strong>go <\/strong>keyword before a function or method call. That function or method will now be executed in the goroutine.&nbsp; Note that it is not the function or method which determines if it is a goroutine. If we call that method or function with a go keyword then that function or method is said to be executing in a goroutine.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s understand the difference between normal running a function and running a function as a goroutine.<\/p>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>Normal Running a function<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">statment1\nstart()\nstatement2<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the normal running of a function for the above scenario.<\/p>\n\n\n\n<ol class=\"has-medium-font-size wp-block-list\"><li>First, <strong>statement1<\/strong> will be executed<\/li><li>Then <strong>start()<\/strong> function will be called<\/li><li>Once the start() function finishes then <strong>statement2<\/strong> will be executed<\/li><\/ol>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>Running a function as a goroutine<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">statment1\ngo start()\nstatement2<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In running a function as a goroutine for the above scenario<\/p>\n\n\n\n<ol class=\"has-medium-font-size wp-block-list\"><li>First, statement1 will be executed<\/li><li>Then function start() will be called as a goroutine which will execute asynchronously.<\/li><li><strong>statement2<\/strong> will be executed immediately. It will not wait for <strong>start()<\/strong> function to complete. The start function will be executed concurrently as a goroutine while the rest of the program continues its execution.<\/li><\/ol>\n\n\n\n<p class=\"has-medium-font-size\">So basically when calling a function as a goroutine, call will return immediately the execution will continue from the next line while the goroutine will be executed concurrently in the background. Also note that any return value from the goroutine will be ignored.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s see a program to understand the above point<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    go start()\n    fmt.Println(\"Started\")\n    time.Sleep(1 * time.Second)\n    fmt.Println(\"Finished\")\n}\n\nfunc start() {\n    fmt.Println(\"In Goroutine\")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Started\nIn Goroutine\nFinished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In above program we use the &#8216;go&#8217; keyword before a function call to start a goroutine.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">go start()<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">The above line will start a goroutine which will run the <strong>start()<\/strong> function. The program first prints &#8220;Started&#8221;. Notice that the line in which we print &#8220;Started&#8221; is after the goroutine is started. This illustrates the point mentioned above that after a goroutine is started the call is continued from the next line. We then put a timeout. The timeout is there so that the goroutine gets scheduled before the main goroutine has existed.&nbsp; So now goroutine executes and&nbsp;it prints<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">In Goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">Then it prints<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Finished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">What happens when we remove the timeout.&nbsp; Let&#8217;s see a program.&nbsp;<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\nimport (\n    \"fmt\"\n)\nfunc main() {\n    go start()\n    fmt.Println(\"Started\")\n    fmt.Println(\"Finished\")\n}\nfunc start() {\n    fmt.Println(\"In Goroutine\")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Started\nFinished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">The program above never prints<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">In Goroutine<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">That means that the goroutine never got executed . This is because the main goroutine or the program exited before the goroutine can be scheduled. That brings into discussion about the main goroutine<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Main_goroutine\"><\/span><strong>Main goroutine<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The <strong>main<\/strong> function in the <strong>main<\/strong> package is the main goroutine. All&nbsp; goroutines are started from the main goroutine. These goroutines can then start multiple other goroutine and so on.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">The main goroutine represents the main program. Once it exits then it means that the program has exited.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Goroutines don&#8217;t have parents or children. When you start a goroutine it just executes alongside all other running goroutines. Each goroutine exits only when its function returns. The only exception to that is that all goroutines exit when the main goroutine (the one that runs function <strong>main<\/strong>) exits.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s see a program to demonstrate that goroutines don&#8217;t have parents or children.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    go start()\n    fmt.Println(\"Started\")\n    time.Sleep(1 * time.Second)\n    fmt.Println(\"Finished\")\n}\n\nfunc start() {\n    go start2()\n    fmt.Println(\"In Goroutine\")\n}\nfunc start2() {\n    fmt.Println(\"In Goroutine2\")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Started\nIn Goroutine\nIn Goroutine2\nFinished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">In the above program, the first goroutine starts the second goroutine. The first goroutine then prints <strong>&#8220;In Goroutine&#8221;<\/strong> and then it exits. The second goroutine then starts and prints <strong>&#8220;In Goroutine2&#8221;<\/strong>. It shows that goroutines don&#8217;t have parents or children and they exist as an independent execution.&nbsp;<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Also, please note that Timeout was just for illustration and should never be used in a production environment.&nbsp;<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Creating_Multiple_Goroutines\"><\/span><strong>Creating Multiple Goroutines<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Let&#8217;s see below program to start multiple goroutines. This example will also demonstrate that goroutines are executed concurrently<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc execute(id int) {\n    fmt.Printf(\"id: %d\\n\", id)\n}\n\nfunc main() {\n    fmt.Println(\"Started\")\n    for i := 0; i < 10; i++ {\n        go execute(i)\n    }\n    time.Sleep(time.Second * 2)\n    fmt.Println(\"Finished\")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Started\nid: 4\nid: 9\nid: 1\nid: 0\nid: 8\nid: 2\nid: 6\nid: 3\nid: 7\nid: 5\nFinished<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">The above program will spawn 10 goroutines in a loop. Every time you will run the program it will give different outputs since the goroutines will be run concurrently and it is not deterministic which will run first.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Lets understand the working of go scheduler. Understanding goroutines will be much easier after that.<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Scheduling_of_the_goroutines\"><\/span><strong>Scheduling of the goroutines<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Once the go program starts,&nbsp; go runtime will launch OS threads equivalent to the number of number of logical CPUs usable by the current process.&nbsp; There is one logical CPU per virtual core where virtual core means<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">virtual_cores = x*number_of_physical_cores<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">where x=number of hardware threads per core<\/p>\n\n\n\n<p class=\"has-medium-font-size\">The <strong>runtime.Numcpus<\/strong> function can be used to get the the number of logical processors available to the GO program. See below program<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\nimport (\n    \"fmt\"\n    \"runtime\"\n)\nfunc main() {\n    fmt.Println(runtime.NumCPU())\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">On my machine it prints 16 . My machine has 8 physical cores with 2 hardware thread per core. Hence 2*8 = 16.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">The go program will launch OS threads equal to the number of logical CPUs available to it or the output of runtime.NumCPU(). These threads will be managed by the OS and scheduling of these threads onto CPU cores is the responsibility of OS only.&nbsp;<\/p>\n\n\n\n<p class=\"has-medium-font-size\">The go runtime has its own scheduler that will multiplex the groutines on the OS level threads in the go runtime. So essentially each goroutine is running on an OS thread that is assigned to a logical CPU<\/p>\n\n\n\n<p class=\"has-medium-font-size\">There are two queues involved for managing the goroutines and assigning it to the OS threads<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Local_run_queue\"><\/span><strong>Local run queue <\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p class=\"has-medium-font-size\">Within go runtime each of this OS thread will have one queue associated with it. It is called Local Run Queue. It contains all the goroutines that will be executed in the context of that thread. The go runtime will be doing the scheduling and context switching of the goroutines belonging&nbsp;to a particular LRQ to the corresponding OS level thread which owns this LRQ<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Global_Run_Queue\"><\/span><strong>Global Run Queue<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h2>\n\n\n\n<p class=\"has-medium-font-size\">It contains all the goroutines that haven't been moved to any LRQ of any OS thread.&nbsp;The Go scheduler will assign a goroutine from this queue to the Local Run Queue of any OS thread<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Below diagram depicits how the scheduler works.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"640\" height=\"338\" src=\"https:\/\/i0.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg?resize=640%2C338&#038;ssl=1\" alt=\"\" class=\"wp-image-3801\" srcset=\"https:\/\/i2.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg?w=759&amp;ssl=1 759w, https:\/\/i2.wp.com\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg?resize=300%2C158&amp;ssl=1 300w\" sizes=\"auto, (max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Golang_scheduler_is_a_Cooperative_Scheduler\"><\/span><strong>Golang scheduler is a Cooperative Scheduler<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">The go scheduler is a cooperative scheduler. Means that is non-preemptive one.&nbsp; There is no time based preemption that is happening which is the case with a preemptive scheduler.&nbsp; In a cooperative scheduler threads have to explicitly yield execution. There are some specific check points where goroutine can yield its execution to other goroutine.<\/p>\n\n\n\n<p class=\"has-medium-font-size\">The runtime calls the scheduler on function calls to decide weather a new goroutine needs to be scheduled . So basically when a goroutine makes any function call, in that case scheduler will be called and context switch might happen meaning a new goroutine might be scheduled . It is also possible that existing goroutine also continues execution.&nbsp; The scheduler also gets the opportunity for contexts switch on below events too<\/p>\n\n\n\n<ol class=\"has-medium-font-size wp-block-list\"><li>Functions Call<\/li><li>Garbage Collection<\/li><li>Network Calls<\/li><li>Channel operations<\/li><li>On using go keyword<\/li><li>Blocking on primitives such as mutex etc<\/li><\/ol>\n\n\n\n<p class=\"has-medium-font-size\">It is to mention that scheduler runs during above events but it doesn't mean that context switch will happen. It is just that the scheduler gets the opportunity. It is up to the scheduler then weather to do a context switch or not.<\/p>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Advantages_of_goroutines_over_threads\"><\/span><strong>Advantages of goroutines over threads<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>Goroutines starts with 8kb in size and its size can grow or shrink based upon runtime requirements.&nbsp; Whereas OS threads are more than 1 mb in size. So goroutines are extremely cheap to allocate. Hence a large number of goroutines can be launched at once. The shrinking and growing of a goroutine is managed by the go runtime internally. Since goroutines are cheap you can launch hundred thousands of go routines while you can only launch few thousands threads.<\/li><\/ul>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>Goroutine scheduling is by go runtime. As discussed above, the go runtime internally launches os threads equivalent to the number of logical CPU.&nbsp; Then it reschedules the goroutines onto each of OS threads. So the scheduling of goroutines is done by go runtime and hence it is quite faster. In case of threads the the scheduling of threads is done by OS runtime. Hence the context switching time of goroutines is much faster than context switching time of threads. So thousand of goroutines are multiplexed on one or two OS threads. If you launch 1000 threads in JAVA then it would consume lot of resources and these 1000 threads needs to be managed by OS. Moreover each of these threads will be more than 1 MB in size<\/li><\/ul>\n\n\n\n<ul class=\"has-medium-font-size wp-block-list\"><li>Goroutines communicate through built in primivate&nbsp;channel which are built to handle race conditions. Hence the communication between go routines is safe and prevent explicit locking. So the data structure that is shared between goroutines doesn't have to be locked.&nbsp;Threaded programming uses locks in order to access a shared variable. These can to lead to deadlocks and race conditions which are difficult to detect.&nbsp; As compared goroutines uses channel for communication and the entire synchronization is managed by go runtime. In this way deadlocks and race conditons are avoided. Infact go believes in the mantra<\/li><\/ul>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">\"Don't share memory for communication, instead share memory by communicating\"<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Anonymous_Goroutines\"><\/span><strong>Anonymous Goroutines<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">Anonymous functions in golang can also be called using goroutine. Refer to this article for understanding more about anonymous functions - <a href=\"https:\/\/golangbyexamples.com\/go-anonymous-function\/\">https:\/\/golangbyexamples.com\/go-anonymous-function\/<\/a><\/p>\n\n\n\n<p class=\"has-medium-font-size\">Below is the format for calling a anonymous function in a goroutine<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">go func(){\n   \/\/body\n}(args..)<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\">There is no difference in behaviour though when calling a anonymous function using goroutine or calling a normal function using goroutine<\/p>\n\n\n\n<p class=\"has-medium-font-size\">Let's see an example:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    go func() {\n        fmt.Println(\"In Goroutine\")\n    }()\n\n    fmt.Println(\"Started\")\n    time.Sleep(1 * time.Second)\n    fmt.Println(\"Finished\")\n}<\/code><\/pre>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Output<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-go\">Started\nIn Goroutine\nFinished<\/code><\/pre>\n\n\n\n<h1 class=\"wp-block-heading\"><span class=\"ez-toc-section\" id=\"Conclusion\"><\/span><strong>Conclusion<\/strong><span class=\"ez-toc-section-end\"><\/span><\/h1>\n\n\n\n<p class=\"has-medium-font-size\">This was all about goroutines in golang. Hope you have liked this tutorial. Please share feedback\/improvements\/mistakes in comments<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Next Tutorial<\/strong>\u00a0\u2013\u00a0<a href=\"https:\/\/golangbyexamples.com\/channel-golang\/\">Channel<\/a><br><strong>Previous Tutorial<\/strong>\u00a0\u2013 <a href=\"https:\/\/golangbyexamples.com\/iota-in-golang\">Iota<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>This is the\u00a0 chapter 23 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013\u00a0Golang Comprehensive Tutorial Series Next Tutorial\u00a0\u2013\u00a0ChannelPrevious Tutorial\u00a0\u2013 Iota Now let\u2019s check&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","footnotes":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[1],"tags":[3,4],"class_list":["post-3796","post","type-post","status-publish","format-standard","hentry","category-tech","tag-go","tag-golang"],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Goroutines in Go (Golang) - Welcome To Golang By Example<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/golangbyexamples.com\/goroutines-golang\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Goroutines in Go (Golang) - Welcome To Golang By Example\" \/>\n<meta property=\"og:description\" content=\"This is the\u00a0 chapter 23 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013\u00a0Golang Comprehensive Tutorial Series Next Tutorial\u00a0\u2013\u00a0ChannelPrevious Tutorial\u00a0\u2013 Iota Now let\u2019s check...\" \/>\n<meta property=\"og:url\" content=\"https:\/\/golangbyexamples.com\/goroutines-golang\/\" \/>\n<meta property=\"og:site_name\" content=\"Welcome To Golang By Example\" \/>\n<meta property=\"article:published_time\" content=\"2020-08-05T07:56:50+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2020-11-25T19:36:47+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg\" \/>\n<meta name=\"author\" content=\"admin\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"admin\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"9 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/\",\"url\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/\",\"name\":\"Goroutines in Go (Golang) - Welcome To Golang By Example\",\"isPartOf\":{\"@id\":\"https:\/\/golangbyexamples.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg\",\"datePublished\":\"2020-08-05T07:56:50+00:00\",\"dateModified\":\"2020-11-25T19:36:47+00:00\",\"author\":{\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\"},\"breadcrumb\":{\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/golangbyexamples.com\/goroutines-golang\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage\",\"url\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg\",\"contentUrl\":\"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg\"},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/golangbyexamples.com\/goroutines-golang\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/golangbyexamples.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Goroutines in Go (Golang)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/golangbyexamples.com\/#website\",\"url\":\"https:\/\/golangbyexamples.com\/\",\"name\":\"Welcome To Golang By Example\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/golangbyexamples.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f\",\"name\":\"admin\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g\",\"caption\":\"admin\"},\"url\":\"https:\/\/golangbyexamples.com\/author\/admin\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Goroutines in Go (Golang) - Welcome To Golang By Example","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/golangbyexamples.com\/goroutines-golang\/","og_locale":"en_US","og_type":"article","og_title":"Goroutines in Go (Golang) - Welcome To Golang By Example","og_description":"This is the\u00a0 chapter 23 of the golang comprehensive tutorial series. Refer to this link for other chapters of the series \u2013\u00a0Golang Comprehensive Tutorial Series Next Tutorial\u00a0\u2013\u00a0ChannelPrevious Tutorial\u00a0\u2013 Iota Now let\u2019s check...","og_url":"https:\/\/golangbyexamples.com\/goroutines-golang\/","og_site_name":"Welcome To Golang By Example","article_published_time":"2020-08-05T07:56:50+00:00","article_modified_time":"2020-11-25T19:36:47+00:00","og_image":[{"url":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg"}],"author":"admin","twitter_card":"summary_large_image","twitter_misc":{"Written by":"admin","Est. reading time":"9 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/","url":"https:\/\/golangbyexamples.com\/goroutines-golang\/","name":"Goroutines in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https:\/\/golangbyexamples.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage"},"image":{"@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage"},"thumbnailUrl":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg","datePublished":"2020-08-05T07:56:50+00:00","dateModified":"2020-11-25T19:36:47+00:00","author":{"@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/golangbyexamples.com\/goroutines-golang\/"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/#primaryimage","url":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg","contentUrl":"https:\/\/golangbyexamples.com\/wp-content\/uploads\/2020\/08\/Scheduling.jpg"},{"@type":"BreadcrumbList","@id":"https:\/\/golangbyexamples.com\/goroutines-golang\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/golangbyexamples.com\/"},{"@type":"ListItem","position":2,"name":"Goroutines in Go (Golang)"}]},{"@type":"WebSite","@id":"https:\/\/golangbyexamples.com\/#website","url":"https:\/\/golangbyexamples.com\/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/golangbyexamples.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/golangbyexamples.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/?s=96&d=mm&r=g","caption":"admin"},"url":"https:\/\/golangbyexamples.com\/author\/admin\/"}]}},"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paOs1b-Ze","amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3796","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/comments?post=3796"}],"version-history":[{"count":6,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3796\/revisions"}],"predecessor-version":[{"id":4561,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/posts\/3796\/revisions\/4561"}],"wp:attachment":[{"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/media?parent=3796"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/categories?post=3796"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/golangbyexamples.com\/wp-json\/wp\/v2\/tags?post=3796"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}