<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	
	<!-- This site is optimized with the Yoast SEO plugin v22.7 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>HTTP client/server multipart form-data request body example in Go (Golang) - Welcome To Golang By Example</title>
	<link rel="canonical" href="index.html" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="HTTP client/server multipart form-data request body example in Go (Golang) - Welcome To Golang By Example" />
	<meta property="og:description" content="Overview In HTTP context, the multipart/form-data content-type is used for submitting HTML form. In the case of multipart/form-data, as the name suggests, the body consists of different parts separated by a delimiter..." />
	<meta property="og:url" content="https://vikasboss.github.io/http-mutipart-form-body-golang/" />
	<meta property="og:site_name" content="Welcome To Golang By Example" />
	<meta property="article:published_time" content="2021-01-08T13:30:43+00:00" />
	<meta property="article:modified_time" content="2021-03-16T19:10:34+00:00" />
	<meta name="author" content="admin" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:label1" content="Written by" />
	<meta name="twitter:data1" content="admin" />
	<meta name="twitter:label2" content="Est. reading time" />
	<meta name="twitter:data2" content="7 minutes" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://vikasboss.github.io/http-mutipart-form-body-golang/","url":"https://vikasboss.github.io/http-mutipart-form-body-golang/","name":"HTTP client/server multipart form-data request body example in Go (Golang) - Welcome To Golang By Example","isPartOf":{"@id":"https://vikasboss.github.io/#website"},"datePublished":"2021-01-08T13:30:43+00:00","dateModified":"2021-03-16T19:10:34+00:00","author":{"@id":"https://vikasboss.github.io/#/schema/person/8833ea7638dafd763cb1db6c0ca4576f"},"breadcrumb":{"@id":"https://vikasboss.github.io/http-mutipart-form-body-golang/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://vikasboss.github.io/http-mutipart-form-body-golang/"]}]},{"@type":"BreadcrumbList","@id":"https://vikasboss.github.io/http-mutipart-form-body-golang/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://vikasboss.github.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://vikasboss.github.io/blog/"},{"@type":"ListItem","position":3,"name":"HTTP client/server multipart form-data request body example in Go (Golang)"}]},{"@type":"WebSite","@id":"https://vikasboss.github.io/#website","url":"https://vikasboss.github.io/","name":"Welcome To Golang By Example","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://vikasboss.github.io/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https://vikasboss.github.io/#/schema/person/8833ea7638dafd763cb1db6c0ca4576f","name":"admin","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://vikasboss.github.io/#/schema/person/image/","url":"https://secure.gravatar.com/avatar/?s=96&d=mm&r=g","contentUrl":"https://secure.gravatar.com/avatar/?s=96&d=mm&r=g","caption":"admin"},"url":"https://vikasboss.github.io/author/admin/"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='https://www.googletagmanager.com/' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='https://v0.wordpress.com/' />
<link rel='dns-prefetch' href='https://i0.wp.com/' />
<link rel='dns-prefetch' href='https://i1.wp.com/' />
<link rel='dns-prefetch' href='https://i2.wp.com/' />
<link rel="alternate" type="application/rss+xml" title="Welcome To Golang By Example &raquo; Feed" href="../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Welcome To Golang By Example &raquo; Comments Feed" href="../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Welcome To Golang By Example &raquo; HTTP client/server multipart form-data request body example in Go (Golang) Comments Feed" href="feed/index.html" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/golangbyexamples.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<link rel='stylesheet' id='prismatic-blocks-css' href='../wp-content/plugins/prismatic/css/styles-blocks.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='prismatic-prism-css' href='../wp-content/plugins/prismatic/lib/prism/css/theme-default.css%3Fver=2.7.css' type='text/css' media='all' />
<link rel='stylesheet' id='ez-icomoon-css' href='../wp-content/plugins/easy-table-of-contents/vendor/icomoon/style.min.css%3Fver=2.0.17.css' type='text/css' media='all' />
<link rel='stylesheet' id='ez-toc-css' href='../wp-content/plugins/easy-table-of-contents/assets/css/screen.min.css%3Fver=2.0.17.css' type='text/css' media='all' />
<style id='ez-toc-inline-css' type='text/css'>
div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 800;}div#ez-toc-container ul li {font-size: 100%;}
</style>
<link rel='stylesheet' id='affiliate-newspaperly-style-css' href='../wp-content/themes/newspaperly/style.css%3Fver=6.8.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css' href='../wp-content/themes/newspaperly/css/font-awesome.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='newspaperly-style-css' href='../wp-content/themes/affiliate-newspaperly/style.css%3Fver=1.0.3.css' type='text/css' media='all' />
<style id='newspaperly-style-inline-css' type='text/css'>
.cat-links, .byline { clip: rect(1px, 1px, 1px, 1px); height: 1px; position: absolute; overflow: hidden; width: 1px; }
</style>
<link crossorigin="anonymous" rel='stylesheet' id='newspaperly-google-fonts-css' href='https://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%7CMerriweather%3A400%2C700&amp;ver=6.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='tablepress-default-css' href='../wp-content/plugins/tablepress/css/build/default.css%3Fver=3.0.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='sccss_style-css' href='../index.html%3Fsccss=1&amp;ver=6.8.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css' href='../wp-content/plugins/jetpack/css/jetpack.css%3Fver=9.6.4.css' type='text/css' media='all' />
<script type="text/javascript" src="../wp-includes/js/jquery/jquery.min.js%3Fver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-157093109-1" id="google_gtagjs-js" async></script>
<script type="text/javascript" id="google_gtagjs-js-after">
/* <![CDATA[ */
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["golangbyexamples.com"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-157093109-1", {"anonymize_ip":true});
/* ]]> */
</script>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../wp-json/wp/v2/posts/4894" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc.php%3Frsd" />
<meta name="generator" content="WordPress 6.8.1" />
<link rel='shortlink' href='https://wp.me/paOs1b-1gW' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fgolangbyexamples.com%252Fhttp-mutipart-form-body-golang%252F" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fgolangbyexamples.com%252Fhttp-mutipart-form-body-golang%252F&amp;format=xml" />

        <!-- BuySellAds.com Ad Code -->
        <script type="text/javascript">
        (function(){
          var bsa = document.createElement('script');
              bsa.type= 'text/javascript';
              bsa.async = true;
              bsa.src='//s3.buysellads.com/ac/bsa.js';
          (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
        })();
        </script>
        <!-- END BuySellAds.com Ad Code --> 
      <meta name="generator" content="Site Kit by Google 1.31.0" /><script data-ad-client="ca-pub-2467863025261092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><style type='text/css'>img#wpstats{display:none}</style>
		
		<style type="text/css">
			.header-widgets-wrapper, .content-wrap-bg { background-color:  }
			.featured-sidebar, .featured-sidebar ul li { border-color: #0a0000 !important; }
			.page-numbers li a, .blogposts-list .blogpost-button, .page-numbers.current, span.page-numbers.dots { background: ; }
			.banner-widget-wrapper p, .banner-widget-wrapper h1, .banner-widget-wrapper h2, .banner-widget-wrapper h3, .banner-widget-wrapper h4, .banner-widget-wrapper h5, .banner-widget-wrapper h6, .banner-widget-wrapper ul, .banner-widget-wrapper{ color: #ffffff }
			.banner-widget-wrapper a, .banner-widget-wrapper a:hover, .banner-widget-wrapper a:active, .banner-widget-wrapper a:focus{ color: #dd3333; }
			.banner-widget-wrapper ul li { border-color: #eeee22; }
			body, .site, .swidgets-wrap h3, .post-data-text { background: ; }
			.site-title a, .site-description { color: ; }
			.header-bg { background-color: #bdc3c8 !important; }
			.main-navigation ul li a, .main-navigation ul li .sub-arrow, .super-menu .toggle-mobile-menu,.toggle-mobile-menu:before, .mobile-menu-active .smenu-hide { color: ; }
			#smobile-menu.show .main-navigation ul ul.children.active, #smobile-menu.show .main-navigation ul ul.sub-menu.active, #smobile-menu.show .main-navigation ul li, .smenu-hide.toggle-mobile-menu.menu-toggle, #smobile-menu.show .main-navigation ul li, .primary-menu ul li ul.children li, .primary-menu ul li ul.sub-menu li, .primary-menu .pmenu, .super-menu { border-color: ; border-bottom-color: ; }
			#secondary .widget h3, #secondary .widget h3 a, #secondary .widget h4, #secondary .widget h1, #secondary .widget h2, #secondary .widget h5, #secondary .widget h6 { color: #2f00db; }
			#secondary .widget a, #secondary a, #secondary .widget li a , #secondary span.sub-arrow{ color: #600019; }
			#secondary, #secondary .widget, #secondary .widget p, #secondary .widget li, .widget time.rpwe-time.published { color: #0a0a0a; }
			#secondary .swidgets-wrap, .featured-sidebar .search-field { border-color: #0a0000; }
			.site-info, .footer-column-three input.search-submit, .footer-column-three p, .footer-column-three li, .footer-column-three td, .footer-column-three th, .footer-column-three caption { color: ; }
			.footer-column-three h3, .footer-column-three h4, .footer-column-three h5, .footer-column-three h6, .footer-column-three h1, .footer-column-three h2, .footer-column-three h4, .footer-column-three h3 a { color: #0a0a0a; }
			.footer-column-three a, .footer-column-three li a, .footer-column-three .widget a, .footer-column-three .sub-arrow { color: ; }
			.footer-column-three h3:after { background: ; }
			.site-info, .widget ul li, .footer-column-three input.search-field, .footer-column-three input.search-submit { border-color: ; }
			.site-footer { background-color: ; }
			.archive .page-header h1, .blogposts-list h2 a, .blogposts-list h2 a:hover, .blogposts-list h2 a:active, .search-results h1.page-title { color: ; }
			.blogposts-list .post-data-text, .blogposts-list .post-data-text a{ color: ; }
			.blogposts-list p { color: ; }
			.page-numbers li a, .blogposts-list .blogpost-button, span.page-numbers.dots, .page-numbers.current, .page-numbers li a:hover { color: ; }
			.archive .page-header h1, .search-results h1.page-title, .blogposts-list.fbox, span.page-numbers.dots, .page-numbers li a, .page-numbers.current { border-color: ; }
			.blogposts-list .post-data-divider { background: ; }
			.page .comments-area .comment-author, .page .comments-area .comment-author a, .page .comments-area .comments-title, .page .content-area h1, .page .content-area h2, .page .content-area h3, .page .content-area h4, .page .content-area h5, .page .content-area h6, .page .content-area th, .single  .comments-area .comment-author, .single .comments-area .comment-author a, .single .comments-area .comments-title, .single .content-area h1, .single .content-area h2, .single .content-area h3, .single .content-area h4, .single .content-area h5, .single .content-area h6, .single .content-area th, .search-no-results h1, .error404 h1 { color: ; }
			.single .post-data-text, .page .post-data-text, .page .post-data-text a, .single .post-data-text a, .comments-area .comment-meta .comment-metadata a { color: ; }
			.page .content-area p, .page article, .page .content-area table, .page .content-area dd, .page .content-area dt, .page .content-area address, .page .content-area .entry-content, .page .content-area li, .page .content-area ol, .single .content-area p, .single article, .single .content-area table, .single .content-area dd, .single .content-area dt, .single .content-area address, .single .entry-content, .single .content-area li, .single .content-area ol, .search-no-results .page-content p { color: ; }
			.single .entry-content a, .page .entry-content a, .comment-content a, .comments-area .reply a, .logged-in-as a, .comments-area .comment-respond a { color: ; }
			.comments-area p.form-submit input { background: ; }
			.error404 .page-content p, .error404 input.search-submit, .search-no-results input.search-submit { color: ; }
			.page .comments-area, .page article.fbox, .page article tr, .page .comments-area ol.comment-list ol.children li, .page .comments-area ol.comment-list .comment, .single .comments-area, .single article.fbox, .single article tr, .comments-area ol.comment-list ol.children li, .comments-area ol.comment-list .comment, .error404 main#main, .error404 .search-form label, .search-no-results .search-form label, .error404 input.search-submit, .search-no-results input.search-submit, .error404 main#main, .search-no-results section.fbox.no-results.not-found{ border-color: ; }
			.single .post-data-divider, .page .post-data-divider { background: ; }
			.single .comments-area p.form-submit input, .page .comments-area p.form-submit input { color: ; }
			.bottom-header-wrapper { padding-top: px; }
			.bottom-header-wrapper { padding-bottom: px; }
			.bottom-header-wrapper { background: ; }
			.bottom-header-wrapper *{ color: ; }
			.header-widget a, .header-widget li a, .header-widget i.fa { color: ; }
			.header-widget, .header-widget p, .header-widget li, .header-widget .textwidget { color: ; }
			.header-widget .widget-title, .header-widget h1, .header-widget h3, .header-widget h2, .header-widget h4, .header-widget h5, .header-widget h6{ color: ; }
			.header-widget.swidgets-wrap, .header-widget ul li, .header-widget .search-field { border-color: ; }
			.header-widgets-wrapper .swidgets-wrap{ background: ; }
			.primary-menu .pmenu, .super-menu, #smobile-menu, .primary-menu ul li ul.children, .primary-menu ul li ul.sub-menu { background-color: ; }
			#secondary .swidgets-wrap{ background: ; }
			#secondary .swidget { border-color: #0a0000; }
			.archive article.fbox, .search-results article.fbox, .blog article.fbox { background: ; }
			.comments-area, .single article.fbox, .page article.fbox { background: ; }
		</style>
	<link rel="pingback" href="https://vikasboss.github.io/xmlrpc.php">		<style type="text/css">
	.sheader .content-wrap .header-bg {
			background: url(https://vikasboss.github.io/wp-content/uploads/2019/11/cropped-XlhZVsKykw-2.jpg);
		    background-size: cover;
		}

	.site-title a,
		.site-description {
			color: #ffffff;
		}

	
		https://vikasboss.github.io/wp-content/uploads/2019/11/cropped-XlhZVsKykw-2.jpg"
				.site-title a,
		.site-description {
			color: #ffffff;
		}
				</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e0e0e0; }
</style>
	<link rel="amphtml" href="amp/social-logos.ttf%3F5d3b4da4f6c2460dd842dbf9e0992ea6.html"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({"google_ad_client":"ca-pub-2467863025261092","enable_page_level_ads":true,"tag_partner":"site_kit"});</script><link rel="icon" href="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=32%2C32&#038;ssl=1" sizes="32x32" />
<link rel="icon" href="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=192%2C192&#038;ssl=1" sizes="192x192" />
<link rel="apple-touch-icon" href="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=180%2C180&#038;ssl=1" />
<meta name="msapplication-TileImage" content="https://i0.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/cropped-go_border-1.png?fit=270%2C270&#038;ssl=1" />
			<style type="text/css" id="wp-custom-css">
				#carbonads {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

#carbonads {
  display: flex;
  max-width: 330px;
  background-color: hsl(0, 0%, 98%);
  box-shadow: 0 1px 4px 1px hsla(0, 0%, 0%, .1);
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

#carbonads .carbon-wrap {
  display: flex;
}

.carbon-img {
  display: block;
  margin: 0;
  line-height: 1;
}

.carbon-img img {
  display: block;
}

.carbon-text {
  padding: 10px;
  text-align: left;
  font-size: 13px;
  line-height: 1.5;
}

.carbon-poweredby {
  display: block;
  padding: 8px 10px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
			</style>
		<style id="tt-easy-google-font-styles" type="text/css">p { line-height: 1.6; padding-top: 12px; border-top-color: #c10016; border-top-style: none; }
h1 { }
h2 { }
h3 { }
h4 { }
h5 { }
h6 { }
</style></head>

<body class="wp-singular post-template-default single single-post postid-4894 single-format-standard custom-background wp-theme-newspaperly wp-child-theme-affiliate-newspaperly header-image categories-hidden author-hidden">
	   
	<div id="page" class="site">
		<header id="masthead" class="sheader site-header clearfix">
			<div class="content-wrap">

				<!-- Header background color and image is added to class below -->
				<div class="header-bg">
											<div class="site-branding">
							 
								<!-- If you are viewing the a sub page, make the title a paragraph -->
								<p class="site-title"><a href="../index.html" rel="home">Welcome To Golang By Example</a></p>
								
							</div>
																				</div>
					</div>

					<!-- Navigation below these lines, move it up if you want it above the header -->
					<nav id="primary-site-navigation" class="primary-menu main-navigation clearfix">
						<a href="index.html#" id="pull" class="smenu-hide toggle-mobile-menu menu-toggle" aria-controls="secondary-menu" aria-expanded="false">Menu</a>
						<div class="content-wrap text-center">
							<div class="center-main-menu">
								<div class="menu-main-menu-container"><ul id="primary-menu" class="pmenu"><li id="menu-item-21" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21"><a href="https://vikasboss.github.io//">Home</a></li>
<li id="menu-item-33" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-33"><a href="../blog/index.html">Blog</a></li>
<li id="menu-item-20" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-20"><a href="../contact-us/index.html">Contact Us</a></li>
<li id="menu-item-2406" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2406"><a href="../support/index.html">Support this website</a></li>
</ul></div>								</div>
							</div>
						</nav>
						<div class="content-wrap">
							<div class="super-menu clearfix">
								<div class="super-menu-inner">
									<a href="index.html#" id="pull" class="toggle-mobile-menu menu-toggle" aria-controls="secondary-menu" aria-expanded="false">Menu</a>
								</div>
							</div>
						</div>
						<div id="mobile-menu-overlay"></div>
						<!-- Navigation above these lines, move it up if you want it above the header -->
					</header>

					<div class="content-wrap">


						<!-- Upper widgets -->
						<div class="header-widgets-wrapper">
							
							
													</div>

					</div>

					<div id="content" class="site-content clearfix">
						<div class="content-wrap">
							<div class="content-wrap-bg">

	<div id="primary" class="featured-content content-area">
		<main id="main" class="site-main">

		
<article id="post-4894" class="posts-entry fbox post-4894 post type-post status-publish format-standard hentry category-tech tag-go tag-golang">
			<header class="entry-header">
		<h1 class="entry-title">HTTP client/server multipart form-data request body example in Go (Golang)</h1>		<div class="entry-meta">
			<div class="blog-data-wrapper">
				<div class="post-data-divider"></div>
				<div class="post-data-positioning">
					<div class="post-data-text">
						<span class="posted-on">Posted on <a href="index.html" rel="bookmark"><time class="entry-date published" datetime="2021-01-08T19:00:43+05:30">January 8, 2021</time><time class="updated" datetime="2021-03-17T00:40:34+05:30">March 17, 2021</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../author/admin/index.html">admin</a></span></span>					</div>
				</div>
			</div>
		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		
<div id="ez-toc-container" class="ez-toc-v2_0_17 counter-hierarchy counter-decimal ez-toc-light-blue">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle" style="display: none;"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list ez-toc-list-level-1"><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-1" href="index.html#Overview" title="Overview">Overview</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-2" href="index.html#HTTP_Server_Example" title="HTTP Server Example">HTTP Server Example</a></li><li class="ez-toc-page-1 ez-toc-heading-level-1"><a class="ez-toc-link ez-toc-heading-3" href="index.html#HTTP_Client_Example" title="HTTP Client Example">HTTP Client Example</a></li></ul></nav></div>
<h1 class="wp-block-heading"><span class="ez-toc-section" id="Overview"></span><strong>Overview</strong><span class="ez-toc-section-end"></span></h1>



<p class="has-medium-font-size">In HTTP context, the <strong>multipart/form-data</strong> content-type is used for submitting HTML form. In the case of <strong>multipart/form-data</strong>, as the name suggests, the body consists of different parts separated by a delimiter or boundary where each part is described by its own headers. The delimiter or boundary is also sent as part of the header only.</p>



<p class="has-medium-font-size">When you sending an HTML form through a browser in an HTTP call, the data contents can be sent in as request body in the below two formats.</p>



<ul class="has-medium-font-size wp-block-list"><li>application/x-www-form-urlencoded</li><li>multipart/form-data</li></ul>



<p class="has-medium-font-size">For most of the cases, <strong>application/x-www-form-urlencoded</strong> can be used. But if you need to upload files then <strong>application/x-www-form-urlencoded </strong>is not much efficient.</p>



<p class="has-medium-font-size">For example, let&#8217;s say that the below data needs to be sent.</p>



<ul class="has-medium-font-size wp-block-list"><li>name</li></ul>



<ul class="has-medium-font-size wp-block-list"><li>age</li></ul>



<p class="has-medium-font-size">Then <strong>application/x-www-form-urlencoded </strong>can be used to send the above data. But let&#8217;s say that you also need to send the profile photo of the user in the request as well. So the data is now as below</p>



<ul class="has-medium-font-size wp-block-list"><li>name</li></ul>



<ul class="has-medium-font-size wp-block-list"><li>age</li></ul>



<ul class="has-medium-font-size wp-block-list"><li>photo</li></ul>



<p class="has-medium-font-size">In the above case, it will not be efficient to use <strong>application/x-www-form-urlencoded </strong>content-type. <strong>multipart/form-data</strong> should be used in this case. So for sending simple form data use <strong>application/x-www-form-urlencoded </strong>but if the form-data also needs to send binary data then use <strong>multipart/form-data.</strong></p>



<p class="has-medium-font-size">Now let&#8217;s see an example of</p>



<ul class="has-medium-font-size wp-block-list"><li>HTTP Server for parsing multipart/form-data request</li></ul>



<ul class="has-medium-font-size wp-block-list"><li>HTTP Client for sending multipart/form-data request</li></ul>



<h1 class="wp-block-heading"><span class="ez-toc-section" id="HTTP_Server_Example"></span><strong>HTTP Server Example</strong><span class="ez-toc-section-end"></span></h1>



<p class="has-medium-font-size">For HTTP server an incoming request is represented by the <strong>request</strong> struct</p>



<p class="has-medium-font-size"><a href="https://golang.org/src/net/http/request.go">https://golang.org/src/net/http/request.go</a></p>



<p class="has-medium-font-size">To parse the <strong>multipart/form-data</strong> request body we need to first call the below function on the <strong>request</strong> object</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.ParseMultipartForm()</code></pre>



<p class="has-medium-font-size">What above function will do is that it will parse the incoming request body and the data will be loaded in the below fields of the <strong>request</strong> object</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>MultipartForm &#8211;</strong> The entire <strong>multipart/form-data </strong>request body will be loaded into this field. For example, in the above case, it will hold the <strong>name</strong>, <strong>age</strong> field as well as <strong>photo</strong> field. It is represented in the below format</li></ul>



<pre class="wp-block-prismatic-blocks"><code class="language-go">type Form struct {
	Value map[string][]string
	File  map[string][]*FileHeader
}</code></pre>



<p class="has-medium-font-size">It has two parts. The Value holds all the non-files data. So it will hold the <strong>name</strong> and <strong>age</strong> key data.&nbsp; The <strong>File</strong> part holds all file data. So it will hold the data for <strong>photo</strong> key.&nbsp; Both the parts have their value part as an array because for the same key there can be multiple values.</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>Form</strong> &#8211;&nbsp; It holds combine data of query string and non-file fields of the <strong>multipart/form-data </strong>request body. For example, for the above case, it will only hold the name and age field. It has below format</li></ul>



<pre class="wp-block-prismatic-blocks"><code class="language-go">map[string][]string</code></pre>



<ul class="has-medium-font-size wp-block-list"><li><strong>PostForm &#8211;</strong> It only holds the non-file fields of the <strong>multipart/form-data </strong>request body. So for the above case, it will only hold the <strong>name</strong> and <strong>age</strong> field</li></ul>



<p class="has-medium-font-size">It also has the same format as <strong>Form</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">map[string][]string</code></pre>



<p class="has-medium-font-size">Other than the above fields, the request object also provides the below utility function</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>FormFile</strong> &#8211;&nbsp; This function can be used to get the first file for the given key. So this function will only return data for <strong>photo</strong> key and not for <strong>name</strong> and <strong>age</strong> key</li></ul>



<ul class="has-medium-font-size wp-block-list"><li><strong>PostFormValue </strong>&#8211; This function returns the first value for the given form key.&nbsp; This&nbsp;function will only return data for <strong>name </strong>and<strong> age</strong> key and not for <strong>photo</strong> key</li></ul>



<p class="has-medium-font-size">Let&#8217;s see different ways in which <strong>name</strong>, <strong>key</strong>, and <strong>photo</strong> values can be accessed</p>



<p style="font-size:24px"><strong>Name Key</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.Form["name"]
request.PostForm["name"] 
request.MultipartForm.Value["name"]</code></pre>



<p class="has-medium-font-size">will return</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">["John"]</code></pre>



<p class="has-medium-font-size">It returns an array because for the same key there can be different values.</p>



<p class="has-medium-font-size">While</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.PostFormValue("name") </code></pre>



<p class="has-medium-font-size">will return</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">John</code></pre>



<p class="has-medium-font-size">It is not an array because as mentioned above this function returns the first value associated with the key.</p>



<p style="font-size:24px"><strong>Age Key</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.Form["age"]
request.PostForm["age"] 
request.MultipartForm.Value["age"]</code></pre>



<p class="has-medium-font-size">will return</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">["21"]</code></pre>



<p class="has-medium-font-size">While</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.PostFormValue("age") </code></pre>



<p class="has-medium-font-size">will return</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">21</code></pre>



<p style="font-size:24px"><strong>Photo Key</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.MultipartForm.File["photo"]</code></pre>



<p class="has-medium-font-size">will return the&nbsp; <strong>FileHeader</strong> for the image. Bytes of the image can be accessed using that</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[FileHeader_object_of_the_image]</code></pre>



<p class="has-medium-font-size">While</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">request.FormFile("photo") </code></pre>



<p class="has-medium-font-size">will return</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">FileHeader_object_of_the_image</code></pre>



<p class="has-medium-font-size">It is not an array because as mentioned above this function returns the first file associated with the key.</p>



<p class="has-medium-font-size">Now let&#8217;s see an example</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main
import (
	"fmt"
	"io"
	"mime/multipart"
	"net/http"
	"os"
)
func main() {
	createEmployeeHanlder := http.HandlerFunc(createEmployee)
	http.Handle("/employee", createEmployeeHanlder)
	http.ListenAndServe(":8080", nil)
}
func createEmployee(w http.ResponseWriter, request *http.Request) {
	err := request.ParseMultipartForm(32 << 20) // maxMemory 32MB
	if err != nil {
		w.WriteHeader(http.StatusBadRequest)
		return
	}
	//Access the name key - First Approach
	fmt.Println(request.Form["name"])
	//Access the name key - Second Approach
	fmt.Println(request.PostForm["name"])
	//Access the name key - Third Approach
	fmt.Println(request.MultipartForm.Value["name"])
	//Access the name key - Fourth Approach
	fmt.Println(request.PostFormValue("name"))
	//Access the age key - First Approach
	fmt.Println(request.Form["age"])
	//Access the age key - Second Approach
	fmt.Println(request.PostForm["age"])
	//Access the age key - Third Approach
	fmt.Println(request.MultipartForm.Value["age"])
	//Access the age key - Fourth Approach
	fmt.Println(request.PostFormValue("age"))
	//Access the photo key - First Approach
	_, h, err := request.FormFile("photo")
	if err != nil {
		w.WriteHeader(http.StatusBadRequest)
		return
	}
	saveFile(h, "formfile")
	//Access the photo key - Second Approach
	for _, h := range request.MultipartForm.File["photo"] {
		err := saveFile(h, "mapaccess")
		if err != nil {
			w.WriteHeader(http.StatusBadRequest)
			return
		}
	}
	w.WriteHeader(200)
	return
}</code></pre>



<p class="has-medium-font-size">Notice in the above program how are we printing the <strong>name</strong> key using all the approaches</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">//Access the name key - First Approach
fmt.Println(request.Form["name"])
//Access the name key - Second Approach
fmt.Println(request.PostForm["name"])
//Access the name key - Third Approach
fmt.Println(request.MultipartForm.Value["name"])
//Access the name key - Fourth Approach
fmt.Println(request.PostFormValue("name"))</code></pre>



<p class="has-medium-font-size">And similar for the <strong>age</strong> key</p>



<p class="has-medium-font-size">Then we are saving the file present in the request body first using <strong>FormFile </strong>method and then using <strong>request.MultipartForm.File </strong>map<strong>. </strong>Since we are saving the same file using the two methods, we send a prefix argument to the <strong>saveFile</strong> function so that it saves files with different names. This is done so that the file saved by <strong>FormFile</strong> is not overwritten by the file saved by <strong>request.MultipartForm.File. </strong>This is just for a demonstration that both methods can be used to extract file data from the request. <strong>FormFile</strong> method uses the prefix <strong>formfile</strong> while <strong>request.MultipartForm.File </strong>uses <strong>mapaccess</strong> prefix for saving the file</p>



<p class="has-medium-font-size">Now let's make some curl calls. Create a file named <strong>test.png</strong> in the same folder from which you will run the curl command</p>



<ul class="has-medium-font-size wp-block-list"><li>Sending <strong>name</strong>, <strong>age</strong> and <strong>photo</strong></li></ul>



<pre class="wp-block-prismatic-blocks"><code class="language-go">curl --location --request PUT 'http://localhost:8080/employee' \
--header 'Content-Type: multipart/form-data' \
--form 'name=John' \
--form 'age=23' \
--form 'photo=@test.png'</code></pre>



<p class="has-medium-font-size"><strong>Output</strong></p>



<p class="has-medium-font-size">You can notice from the output that it is printing exactly what we have discussed earlier.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[John] 
[John] 
[John] 
John 
[23] 
[23] 
[23] 
23</code></pre>



<p class="has-medium-font-size">It will also save two files with the below names</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">formfile-test.png
mapaccess-test.png</code></pre>



<p class="has-medium-font-size">Now let's see the second curl example</p>



<ul class="has-medium-font-size wp-block-list"><li>Sending <strong>name</strong>, <strong>age,</strong> and <strong>photo </strong>but in this example, the same key <strong>'photo' </strong>is used for sending two files.</li></ul>



<pre class="wp-block-prismatic-blocks"><code class="language-go">curl --location --request PUT 'http://localhost:8080/employee' \
--header 'Content-Type: multipart/form-data' \
--form 'name=John' \
--form 'age=23' \
--form 'photo=@test1.png' \
--form 'photo=@test2.png'</code></pre>



<p class="has-medium-font-size"><strong>Output</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[John] 
[John] 
[John] 
John 
[23] 
[23] 
[23] 
23</code></pre>



<p class="has-medium-font-size">This time three files will be saved with the below names. Since FormFile only accesses the first file present with a given key therefore only <strong>formfile-test1.png </strong>is saved by the <strong>FormFile</strong> method.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">formfile-test1.png
mapaccess-test2.png
mapaccess-test2.png</code></pre>



<p class="has-medium-font-size">Let's see one more curl example</p>



<ul class="has-medium-font-size wp-block-list"><li>Sending two values for <strong>name</strong> key</li></ul>



<pre class="wp-block-prismatic-blocks"><code class="language-go">curl --location --request PUT 'http://localhost:8080/employee' \
--header 'Content-Type: multipart/form-data' \
--form 'name=John' \
--form 'name=John2' \
--form 'age=23' \
--form 'photo=@test.png'</code></pre>



<p class="has-medium-font-size"><strong>Output</strong></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[John John2] 
[John John2] 
[John John2] 
John 
[23] 
[23] 
[23]
23</code></pre>



<p class="has-medium-font-size">rqeuest.<strong>PostFormValue </strong>returns</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">John</code></pre>



<p class="has-medium-font-size">while all other options return both the values</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[John John2]</code></pre>



<h1 class="wp-block-heading"><span class="ez-toc-section" id="HTTP_Client_Example"></span><strong>HTTP Client Example</strong><span class="ez-toc-section-end"></span></h1>



<p class="has-medium-font-size">Below is the code for an example of an HTTP client for the same. It is sending the <strong>multipart/form-data</strong> request body in an HTTP request to the server created in the above example.</p>



<p class="has-medium-font-size">First, we have to create a multipart Writer <a href="https://golang.org/pkg/mime/multipart/#Writer">https://golang.org/pkg/mime/multipart/#Writer</a></p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">writer := multipart.NewWriter(body)</code></pre>



<p class="has-medium-font-size">The multipart writer provides two methods</p>



<ul class="has-medium-font-size wp-block-list"><li><strong>CreateFormField</strong>&nbsp; - Used to create a text field to be sent in the multipart request body. We will create the <strong>name</strong> and <strong>age</strong> field using this method</li></ul>



<ul class="has-medium-font-size wp-block-list"><li><strong>CreateFormFile</strong> - Used to create a file field to be sent in the multipart request body. We will create the <strong>photo</strong> field using this method</li></ul>



<p class="has-medium-font-size">Now let's see the program</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">package main
import (
    "bytes"
    "io"
    "log"
    "mime/multipart"
    "net/http"
    "os"
    "strings"
    "time"
)
func main() {
    call("http://localhost:8080/employee", "POST")
}
func call(urlPath, method string) error {
    client := &http.Client{
        Timeout: time.Second * 10,
    }
    // New multipart writer.
    body := &bytes.Buffer{}
    writer := multipart.NewWriter(body)
    fw, err := writer.CreateFormField("name")
    if err != nil {
    }
    _, err = io.Copy(fw, strings.NewReader("John"))
    if err != nil {
        return err
    }
    fw, err = writer.CreateFormField("age")
    if err != nil {
    }
    _, err = io.Copy(fw, strings.NewReader("23"))
    if err != nil {
        return err
    }
    fw, err = writer.CreateFormFile("photo", "test.png")
    if err != nil {
    }
    file, err := os.Open("test.png")
    if err != nil {
        panic(err)
    }
    _, err = io.Copy(fw, file)
    if err != nil {
        return err
    }
    // Close multipart writer.
    writer.Close()
    req, err := http.NewRequest("POST", "http://localhost:8080/employee", bytes.NewReader(body.Bytes()))
    if err != nil {
        return err
    }
    req.Header.Set("Content-Type", writer.FormDataContentType())
    rsp, _ := client.Do(req)
    if rsp.StatusCode != http.StatusOK {
        log.Printf("Request failed with response code: %d", rsp.StatusCode)
    }
    return nil
}</code></pre>



<p class="has-medium-font-size">Run this program and see the output at your server end as the above client makes a call to your server created in the first example. The server program will give the below output similar to the curl calls.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">[John] 
[John] 
[John] 
John 
[23] 
[23] 
[23] 
23</code></pre>



<p class="has-medium-font-size">Also, the server will save two files with the below names similar to the curl calls</p>



<pre class="wp-block-prismatic-blocks"><code class="language-go">formfile-test.png
mapaccess-test.png</code></pre>

			<div class="tags-list">
				<li><a href="../tag/go/index.html" rel="tag">go</a></li><li><a href="../tag/golang/index.html" rel="tag">golang</a></li>			</div>
	</div><!-- .entry-content -->
</article><!-- #post-4894 -->

<div id="disqus_thread"></div>

		</main><!-- #main -->
	</div><!-- #primary -->


<aside id="secondary" class="featured-sidebar widget-area">
	<section id="custom_html-90" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><a href="https://twitter.com/golangbyexample?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-lang="en" data-show-count="false">Follow @golangbyexample</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></section><section id="widget_sp_image-3" class="fbox swidgets-wrap widget widget_sp_image"><a href="https://www.linkedin.com/in/golangbyexample/" target="_blank" class="widget_sp_image-image-link"><img width="95" height="30" class="attachment-full" style="max-width: 100%;" src="https://i1.wp.com/golangbyexamples.com/wp-content/uploads/2021/05/linkedin.jpeg?fit=95%2C30&amp;ssl=1" /></a></section><section id="search-10" class="fbox swidgets-wrap widget widget_search"><form role="search" method="get" class="search-form" action="../index.html">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></section><section id="text-3" class="fbox swidgets-wrap widget widget_text"><div class="swidget"><div class="sidebar-title-border"><h3 class="widget-title">Popular Articles</h3></div></div>			<div class="textwidget"><p><a href="https://vikasboss.github.io/golang-comprehensive-tutorial/">Golang Comprehensive Tutorial Series</a></p>
<p><a href="https://vikasboss.github.io/all-design-patterns-golang/">All Design Patterns in Go (Golang)</a></p>
<p><a href="https://vikasboss.github.io/slice-in-golang">Slice in golang</a></p>
<p><a href="https://vikasboss.github.io/variables-in-golang-complete-guide">Variables in Go (Golang) &#8211; Complete Guide</a></p>
<p><a href="https://vikasboss.github.io/oop-inheritance-golang-complete/">OOP: Inheritance in GOLANG complete guide</a></p>
<p><a href="https://vikasboss.github.io/using-context-in-golang-complete-guide/">Using Context Package in GO (Golang)  Complete Guide</a></p>
<p><a href="https://vikasboss.github.io/all-data-types-in-golang-with-examples/">All data types in Golang with examples</a></p>
<p><a href="https://vikasboss.github.io/all-about-time-and-date-golang/">Understanding time and date in Go (Golang)  Complete Guide</a></p>
</div>
		</section><section id="custom_html-88" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="1916017719"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-80" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-81" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-82" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-83" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-84" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-93" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-94" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section><section id="custom_html-98" class="widget_text fbox swidgets-wrap widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section></aside><!-- #secondary -->
	</div>
</div>
</div><!-- #content -->
<div class="content-wrap">

	<footer id="colophon" class="site-footer clearfix">

					<div class="footer-column-wrapper">
				<div class="footer-column-three footer-column-left">
					<section id="custom_html-85" class="widget_text fbox widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section>				</div>
			
							<div class="footer-column-three footer-column-middle">
					<section id="custom_html-86" class="widget_text fbox widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section>				</div>
			
							<div class="footer-column-three footer-column-right">
					<section id="custom_html-87" class="widget_text fbox widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- First Vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2467863025261092"
     data-ad-slot="5967600566"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section>				
				</div>
						<div class="site-info">
				&copy;2025 Welcome To Golang By Example

				<!-- Delete below lines to remove copyright from footer -->
				<span class="footer-info-right">
					 | Design: <a href="https://superbthemes.com/" rel="nofollow">Newspaperly WordPress Theme</a>
				</span>
				<!-- Delete above lines to remove copyright from footer -->

			</div>
		</div>
	</footer><!-- #colophon -->
</div>

</div><!-- #page -->

<div id="smobile-menu" class="mobile-only"></div>
<div id="mobile-menu-overlay"></div>

<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/affiliate-newspaperly\/*","\/wp-content\/themes\/newspaperly\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/jetpack/_inc/build/photon/photon.min.js%3Fver=20191001" id="jetpack-photon-js"></script>
<script type="text/javascript" id="disqus_count-js-extra">
/* <![CDATA[ */
var countVars = {"disqusShortname":"golangbyexample"};
/* ]]> */
</script>
<script type="text/javascript" src="../wp-content/plugins/disqus-comment-system/public/js/comment_count.js%3Fver=3.0.21" id="disqus_count-js"></script>
<script type="text/javascript" id="disqus_embed-js-extra">
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.21"},"disqusIdentifier":"4894 https:\/\/golangbyexamples.com\/?p=4894","disqusShortname":"golangbyexample","disqusTitle":"HTTP client\/server multipart form-data request body example in Go (Golang)","disqusUrl":"https:\/\/golangbyexamples.com\/http-mutipart-form-body-golang\/","postId":"4894"};
/* ]]> */
</script>
<script type="text/javascript" src="../wp-content/plugins/disqus-comment-system/public/js/comment_embed.js%3Fver=3.0.21" id="disqus_embed-js"></script>
<script type="text/javascript" src="../wp-content/plugins/prismatic/lib/prism/js/prism-core.js%3Fver=2.7" id="prismatic-prism-js"></script>
<script type="text/javascript" src="../wp-content/plugins/prismatic/lib/prism/js/lang-go.js%3Fver=2.7" id="prismatic-prism-go-js"></script>
<script type="text/javascript" src="../wp-content/themes/newspaperly/js/navigation.js%3Fver=20170823" id="newspaperly-navigation-js"></script>
<script type="text/javascript" src="../wp-content/themes/newspaperly/js/skip-link-focus-fix.js%3Fver=20170823" id="newspaperly-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="../wp-content/themes/newspaperly/js/jquery.flexslider.js%3Fver=20150423" id="newspaperly-flexslider-jquery-js"></script>
<script type="text/javascript" src="../wp-content/themes/newspaperly/js/script.js%3Fver=20160720" id="newspaperly-script-js"></script>
<script type="text/javascript" src="../wp-includes/js/comment-reply.min.js%3Fver=6.8.1" id="comment-reply-js" async="async" data-wp-strategy="async"></script>
<script type="text/javascript" src="../wp-content/plugins/q2w3-fixed-widget/js/q2w3-fixed-widget.min.js%3Fver=5.3.0" id="q2w3_fixed_widget-js"></script>
<script type="text/javascript" src="../wp-content/plugins/easy-table-of-contents/vendor/smooth-scroll/jquery.smooth-scroll.min.js%3Fver=2.2.0" id="jquery-smooth-scroll-js"></script>
<script type="text/javascript" src="../wp-content/plugins/easy-table-of-contents/vendor/js-cookie/js.cookie.min.js%3Fver=2.2.1" id="js-cookie-js"></script>
<script type="text/javascript" src="../wp-content/plugins/easy-table-of-contents/vendor/sticky-kit/jquery.sticky-kit.min.js%3Fver=1.9.2" id="jquery-sticky-kit-js"></script>
<script type="text/javascript" id="ez-toc-js-js-extra">
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"auto","scroll_offset":"30"};
/* ]]> */
</script>
<script type="text/javascript" src="../wp-content/plugins/easy-table-of-contents/assets/js/front.min.js%3Fver=2.0.17-1619718782" id="ez-toc-js-js"></script>
</body>
</html>
